<!doctype html><html class=h-100 dir=ltr lang=ru-RU prefix="og: http://ogp.me/ns#
      article: http://ogp.me/ns/article#
      profile: http://ogp.me/ns/profile#
      fb: http://ogp.me/ns/fb#"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><title>Kitsune Solar / Library Online</title>
<meta name=title content="Kitsune Solar / Library Online"><meta name=description content="Системный администратор и веб-разработчик. Я пишу статьи по системному администрированию и разработке различных систем, приложений и серверов."><meta name=keywords content="powershell,forum,ipb,ips,debian,linux,cmd,cmf,cms,vbulletin,bash,cloudflare,fedora,git,php,systemd,terminal,dhcp,find,gdm"><link rel=preconnect href=https://fonts.googleapis.com crossorigin=anonymous><link rel=preconnect href=https://fonts.gstatic.com crossorigin=anonymous><link rel=preconnect href=https://gravatar.com crossorigin=anonymous><link rel=preconnect href=https://images.unsplash.com crossorigin=anonymous><link rel=preload href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" crossorigin=anonymous as=style onload='this.rel="stylesheet"'><noscript><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" crossorigin=anonymous></noscript><link rel=preload href="https://fonts.googleapis.com/css2?family=PT+Serif:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" crossorigin=anonymous as=style onload='this.rel="stylesheet"'><noscript><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=PT+Serif:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" crossorigin=anonymous></noscript><link rel=preload href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" crossorigin=anonymous as=style onload='this.rel="stylesheet"'><noscript><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" crossorigin=anonymous></noscript><link rel=preload href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" crossorigin=anonymous as=style onload='this.rel="stylesheet"'><noscript><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" crossorigin=anonymous></noscript><link rel=preload href=/css/vendor.bundle.css as=style><link rel=stylesheet href=/css/vendor.bundle.css><link rel=preload href=/ru/css/system.bundle.min.css as=style><link rel=stylesheet href=/ru/css/system.bundle.min.css><link rel=icon type=image/png sizes=16x16 href=https://lib.onl/favicon-16.png><link rel="shortcut icon" type=image/png sizes=16x16 href=https://lib.onl/favicon-16.png><link rel=apple-touch-icon sizes=16x16 href=https://lib.onl/favicon-16.png><link rel=icon type=image/png sizes=24x24 href=https://lib.onl/favicon-24.png><link rel="shortcut icon" type=image/png sizes=24x24 href=https://lib.onl/favicon-24.png><link rel=apple-touch-icon sizes=24x24 href=https://lib.onl/favicon-24.png><link rel=icon type=image/png sizes=32x32 href=https://lib.onl/favicon-32.png><link rel="shortcut icon" type=image/png sizes=32x32 href=https://lib.onl/favicon-32.png><link rel=apple-touch-icon sizes=32x32 href=https://lib.onl/favicon-32.png><link rel=icon type=image/png sizes=48x48 href=https://lib.onl/favicon-48.png><link rel="shortcut icon" type=image/png sizes=48x48 href=https://lib.onl/favicon-48.png><link rel=apple-touch-icon sizes=48x48 href=https://lib.onl/favicon-48.png><link rel=icon type=image/png sizes=64x64 href=https://lib.onl/favicon-64.png><link rel="shortcut icon" type=image/png sizes=64x64 href=https://lib.onl/favicon-64.png><link rel=apple-touch-icon sizes=64x64 href=https://lib.onl/favicon-64.png><link rel=icon type=image/png sizes=72x72 href=https://lib.onl/favicon-72.png><link rel="shortcut icon" type=image/png sizes=72x72 href=https://lib.onl/favicon-72.png><link rel=apple-touch-icon sizes=72x72 href=https://lib.onl/favicon-72.png><link rel=icon type=image/png sizes=80x80 href=https://lib.onl/favicon-80.png><link rel="shortcut icon" type=image/png sizes=80x80 href=https://lib.onl/favicon-80.png><link rel=apple-touch-icon sizes=80x80 href=https://lib.onl/favicon-80.png><link rel=icon type=image/png sizes=96x96 href=https://lib.onl/favicon-96.png><link rel="shortcut icon" type=image/png sizes=96x96 href=https://lib.onl/favicon-96.png><link rel=apple-touch-icon sizes=96x96 href=https://lib.onl/favicon-96.png><link rel=icon type=image/png sizes=128x128 href=https://lib.onl/favicon-128.png><link rel="shortcut icon" type=image/png sizes=128x128 href=https://lib.onl/favicon-128.png><link rel=apple-touch-icon sizes=128x128 href=https://lib.onl/favicon-128.png><link rel=icon type=image/png sizes=144x144 href=https://lib.onl/favicon-144.png><link rel="shortcut icon" type=image/png sizes=144x144 href=https://lib.onl/favicon-144.png><link rel=apple-touch-icon sizes=144x144 href=https://lib.onl/favicon-144.png><link rel=icon type=image/png sizes=152x152 href=https://lib.onl/favicon-152.png><link rel="shortcut icon" type=image/png sizes=152x152 href=https://lib.onl/favicon-152.png><link rel=apple-touch-icon sizes=152x152 href=https://lib.onl/favicon-152.png><link rel=icon type=image/png sizes=167x167 href=https://lib.onl/favicon-167.png><link rel="shortcut icon" type=image/png sizes=167x167 href=https://lib.onl/favicon-167.png><link rel=apple-touch-icon sizes=167x167 href=https://lib.onl/favicon-167.png><link rel=icon type=image/png sizes=180x180 href=https://lib.onl/favicon-180.png><link rel="shortcut icon" type=image/png sizes=180x180 href=https://lib.onl/favicon-180.png><link rel=apple-touch-icon sizes=180x180 href=https://lib.onl/favicon-180.png><link rel=icon type=image/png sizes=192x192 href=https://lib.onl/favicon-192.png><link rel="shortcut icon" type=image/png sizes=192x192 href=https://lib.onl/favicon-192.png><link rel=apple-touch-icon sizes=192x192 href=https://lib.onl/favicon-192.png><link rel=icon type=image/png sizes=196x196 href=https://lib.onl/favicon-196.png><link rel="shortcut icon" type=image/png sizes=196x196 href=https://lib.onl/favicon-196.png><link rel=apple-touch-icon sizes=196x196 href=https://lib.onl/favicon-196.png><link rel=icon type=image/png sizes=256x256 href=https://lib.onl/favicon-256.png><link rel="shortcut icon" type=image/png sizes=256x256 href=https://lib.onl/favicon-256.png><link rel=apple-touch-icon sizes=256x256 href=https://lib.onl/favicon-256.png><link rel=icon type=image/png sizes=300x300 href=https://lib.onl/favicon-300.png><link rel="shortcut icon" type=image/png sizes=300x300 href=https://lib.onl/favicon-300.png><link rel=apple-touch-icon sizes=300x300 href=https://lib.onl/favicon-300.png><link rel=icon type=image/png sizes=512x512 href=https://lib.onl/favicon-512.png><link rel="shortcut icon" type=image/png sizes=512x512 href=https://lib.onl/favicon-512.png><link rel=apple-touch-icon sizes=512x512 href=https://lib.onl/favicon-512.png><link rel=icon type=image/svg+xml sizes=any href=https://lib.onl/favicon.svg><link rel="shortcut icon" type=image/x-icon href=https://lib.onl/favicon.ico><link rel="shortcut icon" type=image/vnd.microsoft.icon href=https://lib.onl/favicon.ico><link rel=first href=https://lib.onl/ru/authors/kitsunesolar/><link rel=last href=https://lib.onl/ru/authors/kitsunesolar/page/4/><link rel=prev href=https://lib.onl/ru/authors/kitsunesolar/page/2/><link rel=next href=https://lib.onl/ru/authors/kitsunesolar/page/4/><link rel=canonical href=https://lib.onl/ru/authors/kitsunesolar/page/3/><link rel=alternate href=https://lib.onl/ hreflang=x-default><link rel=alternate href=https://lib.onl/ru/authors/kitsunesolar/ hreflang=ru><link rel=alternate href=https://lib.onl/en/authors/kitsunesolar/ hreflang=en><link rel=manifest type=application/manifest+json href=https://lib.onl/ru/manifest.json title="Library Online"><link rel=search type=application/opensearchdescription+xml href=https://lib.onl/ru/opensearch.xml title="Library Online"><link rel=alternate type=application/rss+xml href=https://lib.onl/ru/authors/kitsunesolar/index.xml title="Library Online"><meta name=application-name content="Library Online"><meta name=theme-color content="#f8f9fa" media="(prefers-color-scheme: light)"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://lib.onl/favicon-512.png"><meta name=twitter:title content="Kitsune Solar"><meta name=twitter:description content="Заметки на тему администрирования и разработки различных систем, приложений и серверов."><meta property="og:title" content="Kitsune Solar"><meta property="og:description" content="Заметки на тему администрирования и разработки различных систем, приложений и серверов."><meta property="og:type" content="website"><meta property="og:url" content="https://lib.onl/ru/authors/kitsunesolar/"><meta property="og:image" content="https://lib.onl/favicon-512.png"><meta property="twitter:domain" content="lib.onl"><meta property="twitter:url" content="https://lib.onl/ru/authors/kitsunesolar/"><meta property="og:locale" content="ru_RU"><meta property="og:site_name" content="Library Online"><meta name=DC.Title content="Kitsune Solar"><meta name=DC.Subject content="Системный администратор и веб-разработчик. Я пишу статьи по системному администрированию и разработке различных систем, приложений и серверов."><meta name=DC.Description content="Системный администратор и веб-разработчик. Я пишу статьи по системному администрированию и разработке различных систем, приложений и серверов."><meta name=DC.Type content="Text"><meta name=DC.Source content="https://lib.onl/ru/authors/kitsunesolar/"><meta name=DC.Relation content="https://lib.onl/ru/authors/kitsunesolar/"><meta name=DC.Coverage content="World"><meta name=DC.Creator content="Library Online"><meta name=DC.Publisher content="Library Online"><meta name=DC.Contributor content="Library Online"><meta name=DC.Rights content="Library Online"><meta name=DC.Format content="Digital"><meta name=DC.Identifier content="https://lib.onl/ru/authors/kitsunesolar/"><meta name=DC.Language content="ru-RU"><meta name=DC.Provenance content="Library Online"><meta name=DC.RightsHolder content="Library Online"><meta name=DC.AccrualPeriodicity content="Weekly"><meta name=DC.AccrualPolicy content="Active"></head><body class="d-flex flex-column h-100 is-node type-authors"><header id=site-header><nav class="navbar navbar-expand-lg navbar-light fixed-top border-bottom shadow-sm text-lg-center bg-light"><div class=container-fluid><a class=navbar-brand href=/ru/><img src=https://lib.onl/img/logo.min.svg alt=Логотип width=30 height=24 class="d-inline-block align-text-top"><h1 class="d-inline-block h5 m-0 ms-1">Library Online</h1></a><button type=button class=navbar-toggler data-bs-toggle=collapse data-bs-target=#navTopBar aria-controls=navTopBar aria-expanded=false aria-label='Переключить навигацию'>
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navTopBar><ul class="navbar-nav me-auto"><li class=nav-item><a class=nav-link href=/ru/articles/><i class="fas fa-book fa-fw"></i>
<span>Статьи</span></a></li><li class=nav-item><a class=nav-link href=/ru/faq/><i class="fas fa-circle-question fa-fw"></i>
<span>Q&amp;A</span></a></li><li class=nav-item><a class=nav-link href=/ru/archive/><i class="fas fa-archive fa-fw"></i>
<span>Архив</span></a></li><li class=nav-item><a class=nav-link href=/ru/about/><i class="fas fa-info-circle fa-fw"></i>
<span>О проекте</span></a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# role=button data-bs-toggle=dropdown aria-expanded=false><i class="fas fa-list fa-fw"></i>
<span>META</span></a><div class="dropdown-menu shadow"><a class="dropdown-item active" href=/ru/authors/><i class="fas fa-user-circle fa-fw"></i>
<span>Авторы</span>
</a><a class=dropdown-item href=/ru/categories/><i class="fas fa-folder-open fa-fw"></i>
<span>Категории</span>
</a><a class=dropdown-item href=/ru/tags/><i class="fas fa-tags fa-fw"></i>
<span>Теги</span>
</a><a class=dropdown-item href=/ru/drafts/><i class="fas fa-file-pen fa-fw"></i>
<span>Черновики</span></a></div></li></ul><ul class=navbar-nav><li class=nav-item><a class="nav-link d-lg-none" href=# data-bs-toggle=modal data-bs-target=#search-modal aria-label=Поиск><i class="fas fa-search fa-fw"></i>
<span>Поиск</span>
</a><a class="nav-link d-none d-lg-block" href=# data-bs-toggle=modal data-bs-target=#search-modal data-bs-tooltip data-bs-title=Поиск aria-label=Поиск><i class="fas fa-search fa-fw"></i></a></li></ul></div></div></nav></header><main class="wrapper flex-shrink-0" id=site-main><div class="section py-3"><div class=container><nav style="--bs-breadcrumb-divider:'\2f '" class=small aria-label=breadcrumb><ol class="breadcrumb bg-light p-2 rounded"><li class=breadcrumb-item><a href=/ru/ aria-label=Главная><i class="fas fa-home fa-fw"></i></a></li><li class=breadcrumb-item><a href=/ru/authors/ aria-label=Авторы>Авторы</a></li><li class="breadcrumb-item active">Kitsune Solar</li></ol></nav><div class="row row-cols-1 row-cols-xl-2 g-3"><div class=col><div class="d-sm-block d-md-none"><article class=node-articles><header><div class="node-cover mb-3"><a title="Windows Server 2022 для рабочей станции" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2022/05/36058650-3f35-5ed5-9565-0aa7d8800c28/ data-bs-toggle=modal data-bs-target=#modal-d6fa8290d3e527df35b48f953c939c27><picture><source srcset='https://images.unsplash.com/photo-1640086940714-65501b9214f2?crop=center&amp;w=640&amp;h=360&amp;fit=crop&amp;auto=compress,format 640w,https://images.unsplash.com/photo-1640086940714-65501b9214f2?crop=center&amp;w=768&amp;h=432&amp;fit=crop&amp;auto=compress,format 768w,https://images.unsplash.com/photo-1640086940714-65501b9214f2?crop=center&amp;w=1024&amp;h=576&amp;fit=crop&amp;auto=compress,format 1024w,https://images.unsplash.com/photo-1640086940714-65501b9214f2?crop=center&amp;w=1280&amp;h=720&amp;fit=crop&amp;auto=compress,format 1280w,https://images.unsplash.com/photo-1640086940714-65501b9214f2?crop=center&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format 1600w' sizes="(min-width: 576px) 100vw"><img class=img-fluid src="https://images.unsplash.com/photo-1640086940714-65501b9214f2?crop=center&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format" width=1600 height=900 alt="Windows Server 2022 для рабочей станции" loading=lazy></picture></a></div><div class=node-title><h2 class=h5><a href=/ru/articles/2022/05/36058650-3f35-5ed5-9565-0aa7d8800c28/ data-bs-toggle=modal data-bs-target=#modal-d6fa8290d3e527df35b48f953c939c27>Windows Server 2022 для рабочей станции</a></h2></div></header><div class=node-body><p>В этой небольшой заметке я расскажу, как перенастроить серверную версию ОС Windows для работы на обычном стационарном ПК.</p></div></article></div><div class="d-none d-md-block"><article class="node-articles d-flex overflow-hidden"><div class="flex-shrink-0 me-3"><div class=node-cover><a title="Windows Server 2022 для рабочей станции" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2022/05/36058650-3f35-5ed5-9565-0aa7d8800c28/ data-bs-toggle=modal data-bs-target=#modal-d6fa8290d3e527df35b48f953c939c27><img class=img-fluid src="https://images.unsplash.com/photo-1640086940714-65501b9214f2?crop=center&amp;w=160&amp;h=160&amp;fit=crop&amp;auto=compress,format" width=160 height=160 alt="Windows Server 2022 для рабочей станции" loading=lazy></a></div></div><div class="flex-grow-1 overflow-hidden"><header><div class=node-title><h2 class=h5><a href=/ru/articles/2022/05/36058650-3f35-5ed5-9565-0aa7d8800c28/ data-bs-toggle=modal data-bs-target=#modal-d6fa8290d3e527df35b48f953c939c27>Windows Server 2022 для рабочей станции</a></h2></div></header><div class=node-body><p>В этой небольшой заметке я расскажу, как перенастроить серверную версию ОС Windows для работы на обычном стационарном ПК.</p></div></div></article></div><div class="modal fade" id=modal-d6fa8290d3e527df35b48f953c939c27 tabindex=-1 aria-labelledby=modal-d6fa8290d3e527df35b48f953c939c27-label aria-hidden=true><div class="modal-dialog modal-fullscreen"><div class=modal-content><div class=modal-header><h2 class="modal-title fs-5 text-truncate" id=modal-d6fa8290d3e527df35b48f953c939c27-label><a href=/ru/articles/2022/05/36058650-3f35-5ed5-9565-0aa7d8800c28/>Windows Server 2022 для рабочей станции</a></h2><button type=button class=btn-close data-bs-dismiss=modal aria-label=Закрыть></button></div><div class=modal-body><div class=node-body><p>В этой небольшой заметке я расскажу, как перенастроить серверную версию ОС Windows для работы на обычном стационарном ПК.</p><h2 id=3587861891-настройка-служб><a class=link-body-emphasis href=#3587861891-%d0%bd%d0%b0%d1%81%d1%82%d1%80%d0%be%d0%b9%d0%ba%d0%b0-%d1%81%d0%bb%d1%83%d0%b6%d0%b1>Настройка служб</a></h2><p>На сервере нет необходимости использовать поисковые механизмы и вывод звука, поэтому они отключены. Но на рабочей станции эти параметры необходимы. Для включения звука и поискового механизма, необходимо настроить запуск соответствующих служб.</p><ul><li>Services<ul><li>Windows Audio<ul><li>Startup type<ul><li>Automatic</li></ul></li></ul></li><li>Windows Audio Endpoint<ul><li>Startup type<ul><li>Automatic</li></ul></li></ul></li><li>Windows Search<ul><li>Startup type<ul><li>Automatic (Delayed Start)</li></ul></li></ul></li></ul></li></ul><h2 id=3587861891-отключение-shutdown-event-tracker><a class=link-body-emphasis href=#3587861891-%d0%be%d1%82%d0%ba%d0%bb%d1%8e%d1%87%d0%b5%d0%bd%d0%b8%d0%b5-shutdown-event-tracker>Отключение Shutdown Event Tracker</a></h2><p>Сервер должен работать бесперебойно. Любое отключение сервера, по хорошему, должно записываться в специальный журнал. Но так как у нас рабочая станция, записывать каждые перезагрузку или выключение нет необходимости. Включаем службы.</p><ul><li>Local Group Policy<ul><li>Computer Configuration / Administrative Templates / System<ul><li>Display Shutdown Event Tracker<ul><li>Disabled</li></ul></li></ul></li></ul></li></ul><h2 id=3587861891-отключение-строгой-системы-безопасности-ie><a class=link-body-emphasis href=#3587861891-%d0%be%d1%82%d0%ba%d0%bb%d1%8e%d1%87%d0%b5%d0%bd%d0%b8%d0%b5-%d1%81%d1%82%d1%80%d0%be%d0%b3%d0%be%d0%b9-%d1%81%d0%b8%d1%81%d1%82%d0%b5%d0%bc%d1%8b-%d0%b1%d0%b5%d0%b7%d0%be%d0%bf%d0%b0%d1%81%d0%bd%d0%be%d1%81%d1%82%d0%b8-ie>Отключение строгой системы безопасности IE</a></h2><p>Сервер использует строгие параметры системы безопасности IE. Но на рабочей станции в этих параметрах нет необходимости и они будут только мешать. Отключаем их.</p><ul><li>Server Manager / Local Server<ul><li>IE Enhanced Security Configuration<ul><li>Off</li></ul></li></ul></li></ul><h2 id=3587861891-оптимизация-производительности-для-приложений><a class=link-body-emphasis href=#3587861891-%d0%be%d0%bf%d1%82%d0%b8%d0%bc%d0%b8%d0%b7%d0%b0%d1%86%d0%b8%d1%8f-%d0%bf%d1%80%d0%be%d0%b8%d0%b7%d0%b2%d0%be%d0%b4%d0%b8%d1%82%d0%b5%d0%bb%d1%8c%d0%bd%d0%be%d1%81%d1%82%d0%b8-%d0%b4%d0%bb%d1%8f-%d0%bf%d1%80%d0%b8%d0%bb%d0%be%d0%b6%d0%b5%d0%bd%d0%b8%d0%b9>Оптимизация производительности для приложений</a></h2><p>По умолчанию, на сервере оптимизация включена для фоновых служб. На рабочей станции необходима оптимизация для программ. Включаем оптимизацию для программ.</p><ul><li>System / Advanced System Settings / Advanced / Performance / Advanced<ul><li>Adjust for best performance of<ul><li>Programs</li></ul></li></ul></li></ul><h2 id=3587861891-отключение-dep><a class=link-body-emphasis href=#3587861891-%d0%be%d1%82%d0%ba%d0%bb%d1%8e%d1%87%d0%b5%d0%bd%d0%b8%d0%b5-dep>Отключение DEP</a></h2><p>По умолчанию, <a title href=https://docs.microsoft.com/en-us/windows/win32/memory/data-execution-prevention target=_blank rel="noopener noreferrer nofollow">Data Execution Prevention (DEP)</a> включена абсолютно для всех программ и сервисов. Такая излишняя защита на рабочей станции не нужна. Поэтому, переключаем выполнение DEP только для программ и сервисов самой ОС Windows.</p><ul><li>System / Advanced System Settings / Advanced / Performance / Data Execution Prevention<ul><li>Turn on DEP for essential Windows programs and services only</li></ul></li></ul><h2 id=3587861891-включение-memory-compression-operation-api-и-pagecombining><a class=link-body-emphasis href=#3587861891-%d0%b2%d0%ba%d0%bb%d1%8e%d1%87%d0%b5%d0%bd%d0%b8%d0%b5-memory-compression-operation-api-%d0%b8-pagecombining>Включение Memory Compression, Operation API и PageCombining</a></h2><p>В ОС Windows для обычных компьютеров включены Memory Compression, Operation API и PageCombining. Поэтому, перенастраиваем серверную версию ОС на такую же конфигурацию. Для этого запускаем PowerShell от имени Администратора и выполняем команду:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-0 shortcode-codeblock-powershell"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-68d9cd1744751b14e06efbb362fd8a0b><div class=highlight><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=nb>Enable-MMAgent</span> <span class=n>-MemoryCompression</span> <span class=n>-OperationAPI</span> <span class=n>-PageCombining</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-68d9cd1744751b14e06efbb362fd8a0b role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div></div></div><div class=modal-footer><ul class="list-inline text-center text-body-secondary small"><li class=list-inline-item><a href=https://lib.onl/ru/tags/server/>#server</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/powershell/>#powershell</a></li><li class=list-inline-item>&bull;</li><li class="list-inline-item text-success" data-bs-tooltip data-bs-title='Уровень сложности: Простой'><i class="far fa-face-smile fa-fw"></i></li><li class=list-inline-item>&bull;</li><li class=list-inline-item><time datetime=2022-05-09T11:53:26Z data-fn=date-local>2022/05/09 11:53:26 UTC</time></li></ul></div></div></div></div></div><div class=col><div class="d-sm-block d-md-none"><article class=node-articles><header><div class="node-cover mb-3"><a title="Установка ядра XanMod в Debian" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2022/01/06ef2fab-2ae2-5356-9154-7ca1e486d27d/ data-bs-toggle=modal data-bs-target=#modal-b368e50016c8d85387e5b06640580d5a><picture><source srcset='https://images.unsplash.com/photo-1615485021362-5db597fbab1d?crop=edges&amp;w=640&amp;h=360&amp;fit=crop&amp;auto=compress,format 640w,https://images.unsplash.com/photo-1615485021362-5db597fbab1d?crop=edges&amp;w=768&amp;h=432&amp;fit=crop&amp;auto=compress,format 768w,https://images.unsplash.com/photo-1615485021362-5db597fbab1d?crop=edges&amp;w=1024&amp;h=576&amp;fit=crop&amp;auto=compress,format 1024w,https://images.unsplash.com/photo-1615485021362-5db597fbab1d?crop=edges&amp;w=1280&amp;h=720&amp;fit=crop&amp;auto=compress,format 1280w,https://images.unsplash.com/photo-1615485021362-5db597fbab1d?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format 1600w' sizes="(min-width: 576px) 100vw"><img class=img-fluid src="https://images.unsplash.com/photo-1615485021362-5db597fbab1d?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format" width=1600 height=900 alt="Установка ядра XanMod в Debian" loading=lazy></picture></a></div><div class=node-title><h2 class=h5><a href=/ru/articles/2022/01/06ef2fab-2ae2-5356-9154-7ca1e486d27d/ data-bs-toggle=modal data-bs-target=#modal-b368e50016c8d85387e5b06640580d5a>Установка ядра XanMod в Debian</a></h2></div></header><div class=node-body><p>Приветствую! В этой небольшой заметке приведу команду, при помощи которой можно добавить репозиторий ядра XanMod в Debian.</p></div></article></div><div class="d-none d-md-block"><article class="node-articles d-flex overflow-hidden"><div class="flex-shrink-0 me-3"><div class=node-cover><a title="Установка ядра XanMod в Debian" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2022/01/06ef2fab-2ae2-5356-9154-7ca1e486d27d/ data-bs-toggle=modal data-bs-target=#modal-b368e50016c8d85387e5b06640580d5a><img class=img-fluid src="https://images.unsplash.com/photo-1615485021362-5db597fbab1d?crop=edges&amp;w=160&amp;h=160&amp;fit=crop&amp;auto=compress,format" width=160 height=160 alt="Установка ядра XanMod в Debian" loading=lazy></a></div></div><div class="flex-grow-1 overflow-hidden"><header><div class=node-title><h2 class=h5><a href=/ru/articles/2022/01/06ef2fab-2ae2-5356-9154-7ca1e486d27d/ data-bs-toggle=modal data-bs-target=#modal-b368e50016c8d85387e5b06640580d5a>Установка ядра XanMod в Debian</a></h2></div></header><div class=node-body><p>Приветствую! В этой небольшой заметке приведу команду, при помощи которой можно добавить репозиторий ядра XanMod в Debian.</p></div></div></article></div><div class="modal fade" id=modal-b368e50016c8d85387e5b06640580d5a tabindex=-1 aria-labelledby=modal-b368e50016c8d85387e5b06640580d5a-label aria-hidden=true><div class="modal-dialog modal-fullscreen"><div class=modal-content><div class=modal-header><h2 class="modal-title fs-5 text-truncate" id=modal-b368e50016c8d85387e5b06640580d5a-label><a href=/ru/articles/2022/01/06ef2fab-2ae2-5356-9154-7ca1e486d27d/>Установка ядра XanMod в Debian</a></h2><button type=button class=btn-close data-bs-dismiss=modal aria-label=Закрыть></button></div><div class=modal-body><div class=node-body><p>Приветствую! В этой небольшой заметке приведу команду, при помощи которой можно добавить репозиторий ядра XanMod в Debian.</p><h2 id=734701045-что-такое-ядро-xanmod><a class=link-body-emphasis href=#734701045-%d1%87%d1%82%d0%be-%d1%82%d0%b0%d0%ba%d0%be%d0%b5-%d1%8f%d0%b4%d1%80%d0%be-xanmod>Что такое ядро XanMod?</a></h2><p>Ядро <strong>XanMod</strong> имеет ряд патчей и оптимизаций. Список изменений по сравнению с ванильным ядром, я взял с <a title href=https://xanmod.org target=_blank rel="noopener noreferrer nofollow">официального сайта</a>:</p><ul><li>Caching, Virtual Memory Manager and CPUFreq Governor improvements.</li><li>Full multi-core block layer runqueue requests for high I/O throughput.</li><li>BBRv2 TCP congestion control + FQ-PIE packet scheduling and AQM algorithm.</li><li>ORC Unwinder for kernel stack traces (debuginfo) implementation.</li><li>High responsiveness multitasking Task Type scheduler (SCHED_NORMAL) build available [5.15-tt].</li><li>Real-time Linux kernel (PREEMPT_RT) build available [5.15-rt] [5.10-rt].</li><li>Third-party patchset available: patches<ul><li>le9&rsquo;s file mappings under memory pressure protection.</li><li>Linux Random Number Generator (LRNG) framework.</li><li>TCP performance optimizations backport from linux/net-next [5.16] [5.15].</li><li>AMD&rsquo;s P-state driver for Zen2 and Zen3 processors [5.16] [5.15].</li><li>Futex waitv and legacy WAIT_MULTIPLE implementation for Wine / Proton Fsync support.</li><li>WineSync driver for fast kernel-backed Wine [5.16] [5.15] [as module: winesync].</li><li>Google&rsquo;s Multigenerational LRU framework [5.16] [5.15].</li><li>Google&rsquo;s BBRv2 TCP congestion control.</li><li>Paragon&rsquo;s Software NTFS3 driver [as module: ntfs3].</li><li>PCIe ACS Override for bypassing IOMMU groups support.</li><li>Graysky&rsquo;s additional CPU optimizations for GCC and Clang.</li><li>Clear Linux patchset [partial].</li><li>Android Ashmem and Binder IPC driver as module for Anbox.</li><li>Updated ZSTD library for bug fixes and r/w performance compression improvements on Btrfs, F2FS, SquashFS, pstore, initramfs and vmlinuz.</li></ul></li><li>Generic packages for compatibility with most Debian & Ubuntu based distributions. Builts on the latest LLVM 12.0.1, GCC 11.2 and Binutils 2.37.</li><li>GPLv2 license. Can be built for any distribution or purpose.</li></ul><p>Стоит заметить, что ядро XanMod не единственное, которое интегрирует в себя оптимизации. Есть ещё ядро <a title href=https://liquorix.net target=_blank rel="noopener noreferrer nofollow"><strong>Liquorix</strong></a>, которое занимается практически тем же самым. Но, посмотрев <a title href="https://www.phoronix.com/scan.php?page=article&amp;item=ryzen5-xanmod-liquorix" target=_blank rel="noopener noreferrer nofollow">обзор и тесты</a> на Phoronix&rsquo;е, я сделал выбор в пользу XanMod.</p><h2 id=734701045-установка-xanmod><a class=link-body-emphasis href=#734701045-%d1%83%d1%81%d1%82%d0%b0%d0%bd%d0%be%d0%b2%d0%ba%d0%b0-xanmod>Установка XanMod</a></h2><p>Однострочная команда по добавлению ядра XanMod в репозиторий Debian&rsquo;а приведена ниже. Она дробится на следующие под-команды:</p><ol><li>Добавление файла <code>xanmod-kernel.list</code> в директорию <code>/etc/apt/sources.list.d</code>.</li><li>Скачивание файла подписи <code>archive.key</code> и размещение его в директорию <code>/etc/apt/trusted.gpg.d</code> с названием <code>xanmod-kernel.gpg</code>.</li><li>Обновление информации из репозитория при помощи команды <code>apt update</code>.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-0 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class=flex-shrink-0><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-3e6d7717cbaf0950ff8d3f1bca897c02 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-3e6d7717cbaf0950ff8d3f1bca897c02><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>echo</span> <span class=s1>&#39;deb [signed-by=/etc/apt/trusted.gpg.d/xanmod-kernel.gpg] http://deb.xanmod.org releases main&#39;</span> <span class=p>|</span> tee /etc/apt/sources.list.d/xanmod-kernel.list <span class=o>&amp;&amp;</span> curl -fsSL <span class=s1>&#39;https://dl.xanmod.org/archive.key&#39;</span> <span class=p>|</span> gpg --dearmor <span class=p>|</span> tee /etc/apt/trusted.gpg.d/xanmod-kernel.gpg &gt; /dev/null <span class=o>&amp;&amp;</span> apt update</span></span></code></pre></div></div></div></div><p>После выполнения вышеприведённой команды, установка ядра XanMod происходит таким образом:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-1 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class=flex-shrink-0><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-183bfa226f655e473ceba481d4b9c616 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-183bfa226f655e473ceba481d4b9c616><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>apt install linux-xanmod-<span class=o>[</span>ABI<span class=o>]</span></span></span></code></pre></div></div></div></div><p>Где:</p><ul><li><code>[ABI]</code> - версия архитектуры. Список версий архитектур можно посмотреть ниже.</li></ul><h3 id=734701045-примеры><a class=link-body-emphasis href=#734701045-%d0%bf%d1%80%d0%b8%d0%bc%d0%b5%d1%80%d1%8b>Примеры</a></h3><p>Установить ядро XanMod с версией архитектуры <code>x64v1</code>:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-2 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class=flex-shrink-0><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-43798dff946a14b5145c91ba59abb005 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-43798dff946a14b5145c91ba59abb005><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>apt install linux-xanmod-x64v1</span></span></code></pre></div></div></div></div><p>Установить ядро XanMod с версией архитектуры <code>x64v2</code>:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-3 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class=flex-shrink-0><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-3a28ef98940d6e013aa4b977419eab69 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-3a28ef98940d6e013aa4b977419eab69><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>apt install linux-xanmod-x64v2</span></span></code></pre></div></div></div></div><p>Установить ядро XanMod с версией архитектуры <code>x64v3</code>:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-4 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class=flex-shrink-0><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-f2178b06f3904b478088bb048116e9d5 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-f2178b06f3904b478088bb048116e9d5><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>apt install linux-xanmod-x64v3</span></span></code></pre></div></div></div></div><p>Установить ядро XanMod с версией архитектуры <code>x64v4</code>:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-5 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class=flex-shrink-0><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-66663ed1323509dc08c07fff0eb28d7d role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-66663ed1323509dc08c07fff0eb28d7d><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>apt install linux-xanmod-x64v4</span></span></code></pre></div></div></div></div><p>Для установки Mainline-версии ядра команда будет такой:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-6 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class=flex-shrink-0><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-4590c187fc7b43e73dab821bb99ca643 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-4590c187fc7b43e73dab821bb99ca643><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>apt install linux-xanmod-edge-x64v3</span></span></code></pre></div></div></div></div><h2 id=734701045-версии-архитектур-xanmod><a class=link-body-emphasis href=#734701045-%d0%b2%d0%b5%d1%80%d1%81%d0%b8%d0%b8-%d0%b0%d1%80%d1%85%d0%b8%d1%82%d0%b5%d0%ba%d1%82%d1%83%d1%80-xanmod>Версии архитектур XanMod</a></h2><p>Версия архитектуры зависит от ядра процессора и поддерживаемых им инструкций. Версию архитектуры можно узнать из списка ниже.</p><h3 id=734701045-x86-64-legacy><a class=link-body-emphasis href=#734701045-x86-64-legacy>x86-64 (LEGACY)</a></h3><p>Суффикс для установки ядра: <code>x64v1</code>.</p><p><strong>Поддерживаемые архитектуры:</strong></p><ul><li>AMD K8-family</li><li>AMD K10-family</li><li>AMD Family 10h (Barcelona)</li><li>Intel Pentium 4 / Xeon (Nocona)</li><li>Intel Core 2 (all variants)</li><li>All x86-64 CPUs</li></ul><h3 id=734701045-x86-64-v2><a class=link-body-emphasis href=#734701045-x86-64-v2>x86-64-v2</a></h3><p>Суффикс для установки ядра: <code>x64v2</code>.</p><p><strong>Поддерживаемые архитектуры:</strong></p><ul><li>AMD Family 14h (Bobcat)</li><li>AMD Family 16h (Jaguar)</li><li>AMD Family 15h (Bulldozer)</li><li>AMD Family 15h (Piledriver)</li><li>AMD Family 15h (Steamroller)</li><li>Intel 1st Gen Core (Nehalem)</li><li>Intel 1.5 Gen Core (Westmere)</li><li>Intel 2nd Gen Core (Sandybridge)</li><li>Intel 3rd Gen Core (Ivybridge)</li><li>Intel low-power Silvermont</li><li>Intel Goldmont (Apollo Lake)</li><li>Intel Goldmont (Denverton)</li><li>Intel Goldmont Plus (Gemini Lake)</li></ul><h3 id=734701045-x86-64-v3><a class=link-body-emphasis href=#734701045-x86-64-v3>x86-64-v3</a></h3><p>Суффикс для установки ядра: <code>x64v3</code>.</p><p><strong>Поддерживаемые архитектуры:</strong></p><ul><li>AMD Family 15h (Excavator)</li><li>AMD Family 17h (Zen)</li><li>AMD Family 17h (Zen+)</li><li>AMD Family 17h (Zen2)</li><li>AMD Family 19h (Zen3)</li><li>Intel 4th Gen Core (Haswell)</li><li>Intel 5th Gen Core (Broadwell)</li><li>Intel 6th Gen Core (Skylake)</li><li>Intel 7th Gen Core (Kaby Lake)</li><li>Intel 8/9th Gen Core (Coffee Lake)</li><li>Intel 10th Gen Core (Comet Lake)</li><li>Intel 12th Gen (Alder Lake)</li><li>Intel 13th Gen (Raptor Lake)</li><li>Intel 14th Gen (Meteor Lake)</li></ul><h3 id=734701045-x86-64-v4-avx-512><a class=link-body-emphasis href=#734701045-x86-64-v4-avx-512>x86-64-v4 (AVX-512)</a></h3><p>Суффикс для установки ядра: <code>x64v4</code>.</p><p><strong>Поддерживаемые архитектуры:</strong></p><ul><li>AMD Family 19h (Zen4)</li><li>Intel 6th Gen Core (Skylake X)</li><li>Intel 8th Gen Core i3 (Cannon Lake)</li><li>Intel Xeon / 10th Gen Core (Ice Lake)</li><li>Intel Xeon (Cascade Lake)</li><li>Intel Xeon (Cooper Lake)</li><li>Intel 3rd Gen 10nm++ (Tiger Lake)</li><li>Intel 4th Gen 10nm++ (Sapphire Rapids)</li><li>Intel 5th Gen 10nm++ (Emerald Rapids)</li><li>Intel 11th Gen (Rocket Lake)</li></ul></div></div><div class=modal-footer><ul class="list-inline text-center text-body-secondary small"><li class=list-inline-item><a href=https://lib.onl/ru/tags/debian/>#debian</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/xanmod/>#xanmod</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/kernel/>#kernel</a></li><li class=list-inline-item>&bull;</li><li class="list-inline-item text-success" data-bs-tooltip data-bs-title='Уровень сложности: Простой'><i class="far fa-face-smile fa-fw"></i></li><li class=list-inline-item>&bull;</li><li class=list-inline-item><time datetime=2022-01-13T22:44:15Z data-fn=date-local>2022/01/13 22:44:15 UTC</time></li></ul></div></div></div></div></div><div class=col><div class="d-sm-block d-md-none"><article class=node-articles><header><div class="node-cover mb-3"><a title="Установка Vivaldi в Debian" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2022/01/ddddd243-d182-5e26-a161-d2ea7812214a/ data-bs-toggle=modal data-bs-target=#modal-6497161633b56e7372bb616ffbbcea86><picture><source srcset='https://images.unsplash.com/photo-1564760290292-23341e4df6ec?crop=edges&amp;w=640&amp;h=360&amp;fit=crop&amp;auto=compress,format 640w,https://images.unsplash.com/photo-1564760290292-23341e4df6ec?crop=edges&amp;w=768&amp;h=432&amp;fit=crop&amp;auto=compress,format 768w,https://images.unsplash.com/photo-1564760290292-23341e4df6ec?crop=edges&amp;w=1024&amp;h=576&amp;fit=crop&amp;auto=compress,format 1024w,https://images.unsplash.com/photo-1564760290292-23341e4df6ec?crop=edges&amp;w=1280&amp;h=720&amp;fit=crop&amp;auto=compress,format 1280w,https://images.unsplash.com/photo-1564760290292-23341e4df6ec?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format 1600w' sizes="(min-width: 576px) 100vw"><img class=img-fluid src="https://images.unsplash.com/photo-1564760290292-23341e4df6ec?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format" width=1600 height=900 alt="Установка Vivaldi в Debian" loading=lazy></picture></a></div><div class=node-title><h2 class=h5><a href=/ru/articles/2022/01/ddddd243-d182-5e26-a161-d2ea7812214a/ data-bs-toggle=modal data-bs-target=#modal-6497161633b56e7372bb616ffbbcea86>Установка Vivaldi в Debian</a></h2></div></header><div class=node-body><p>Привет всем! В этой небольшой заметке я приведу команду, при помощи которой можно добавить репозиторий браузера <strong>Vivaldi</strong> в Debian.</p></div></article></div><div class="d-none d-md-block"><article class="node-articles d-flex overflow-hidden"><div class="flex-shrink-0 me-3"><div class=node-cover><a title="Установка Vivaldi в Debian" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2022/01/ddddd243-d182-5e26-a161-d2ea7812214a/ data-bs-toggle=modal data-bs-target=#modal-6497161633b56e7372bb616ffbbcea86><img class=img-fluid src="https://images.unsplash.com/photo-1564760290292-23341e4df6ec?crop=edges&amp;w=160&amp;h=160&amp;fit=crop&amp;auto=compress,format" width=160 height=160 alt="Установка Vivaldi в Debian" loading=lazy></a></div></div><div class="flex-grow-1 overflow-hidden"><header><div class=node-title><h2 class=h5><a href=/ru/articles/2022/01/ddddd243-d182-5e26-a161-d2ea7812214a/ data-bs-toggle=modal data-bs-target=#modal-6497161633b56e7372bb616ffbbcea86>Установка Vivaldi в Debian</a></h2></div></header><div class=node-body><p>Привет всем! В этой небольшой заметке я приведу команду, при помощи которой можно добавить репозиторий браузера <strong>Vivaldi</strong> в Debian.</p></div></div></article></div><div class="modal fade" id=modal-6497161633b56e7372bb616ffbbcea86 tabindex=-1 aria-labelledby=modal-6497161633b56e7372bb616ffbbcea86-label aria-hidden=true><div class="modal-dialog modal-fullscreen"><div class=modal-content><div class=modal-header><h2 class="modal-title fs-5 text-truncate" id=modal-6497161633b56e7372bb616ffbbcea86-label><a href=/ru/articles/2022/01/ddddd243-d182-5e26-a161-d2ea7812214a/>Установка Vivaldi в Debian</a></h2><button type=button class=btn-close data-bs-dismiss=modal aria-label=Закрыть></button></div><div class=modal-body><div class=node-body><p>Привет всем! В этой небольшой заметке я приведу команду, при помощи которой можно добавить репозиторий браузера <strong>Vivaldi</strong> в Debian.</p><p>Установочный пакет <strong>Vivaldi</strong> уже выполняет указанные действия, но для этого он задействует утилиту <code>apt-key</code>, которая в <strong>Debian 11</strong> имеет статус <code>deprecated</code>.</p><p>Однострочная команда по добавлению <strong>Vivaldi</strong> в репозиторий Debian&rsquo;а приведена ниже. Она дробится на следующие под-команды:</p><ol><li>Добавление файла <code>vivaldi-archive.list</code> в директорию <code>/etc/apt/sources.list.d</code>.</li><li>Скачивание файла подписи <code>linux_signing_key.pub</code> и размещение его в директорию <code>/etc/apt/trusted.gpg.d</code> с названием <code>vivaldi-browser.gpg</code>.</li><li>Обновление информации из репозитория при помощи команды <code>apt update</code>.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-0 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class=flex-shrink-0><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-7bd3db9738d19e7605c7125600da9901 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-7bd3db9738d19e7605c7125600da9901><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;deb [signed-by=/etc/apt/trusted.gpg.d/vivaldi-browser.gpg arch=</span><span class=k>$(</span>dpkg --print-architecture<span class=k>)</span><span class=s2>] https://repo.vivaldi.com/archive/deb/ stable main&#34;</span> <span class=p>|</span> tee /etc/apt/sources.list.d/vivaldi-archive.list <span class=o>&amp;&amp;</span> curl -fsSL <span class=s1>&#39;https://repo.vivaldi.com/archive/linux_signing_key.pub&#39;</span> <span class=p>|</span> gpg --dearmor <span class=p>|</span> tee /etc/apt/trusted.gpg.d/vivaldi-browser.gpg &gt; /dev/null <span class=o>&amp;&amp;</span> apt update</span></span></code></pre></div></div></div></div><p>После выполнения команды, установка <strong>Vivaldi</strong> происходит таким образом:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-1 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class=flex-shrink-0><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-634d614817dbb9827e99b12aa0b25fd7 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-634d614817dbb9827e99b12aa0b25fd7><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>apt install vivaldi-stable</span></span></code></pre></div></div></div></div></div></div><div class=modal-footer><ul class="list-inline text-center text-body-secondary small"><li class=list-inline-item><a href=https://lib.onl/ru/tags/debian/>#debian</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/vivaldi/>#vivaldi</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/browser/>#browser</a></li><li class=list-inline-item>&bull;</li><li class="list-inline-item text-success" data-bs-tooltip data-bs-title='Уровень сложности: Простой'><i class="far fa-face-smile fa-fw"></i></li><li class=list-inline-item>&bull;</li><li class=list-inline-item><time datetime=2022-01-13T22:44:01Z data-fn=date-local>2022/01/13 22:44:01 UTC</time></li></ul></div></div></div></div></div><div class=col><div class="d-sm-block d-md-none"><article class=node-articles><header><div class="node-cover mb-3"><a title="Чёрный экран с курсором при старте GDM" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/09/581804b8-0613-52a8-a5c4-fdae90e7bc8a/ data-bs-toggle=modal data-bs-target=#modal-46334584c908587adafc12280bd2f27b><picture><source srcset='https://images.unsplash.com/photo-1542906453-02e875f65428?crop=edges&amp;w=640&amp;h=360&amp;fit=crop&amp;auto=compress,format 640w,https://images.unsplash.com/photo-1542906453-02e875f65428?crop=edges&amp;w=768&amp;h=432&amp;fit=crop&amp;auto=compress,format 768w,https://images.unsplash.com/photo-1542906453-02e875f65428?crop=edges&amp;w=1024&amp;h=576&amp;fit=crop&amp;auto=compress,format 1024w,https://images.unsplash.com/photo-1542906453-02e875f65428?crop=edges&amp;w=1280&amp;h=720&amp;fit=crop&amp;auto=compress,format 1280w,https://images.unsplash.com/photo-1542906453-02e875f65428?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format 1600w' sizes="(min-width: 576px) 100vw"><img class=img-fluid src="https://images.unsplash.com/photo-1542906453-02e875f65428?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format" width=1600 height=900 alt="Чёрный экран с курсором при старте GDM" loading=lazy></picture></a></div><div class=node-title><h2 class=h5><a href=/ru/articles/2021/09/581804b8-0613-52a8-a5c4-fdae90e7bc8a/ data-bs-toggle=modal data-bs-target=#modal-46334584c908587adafc12280bd2f27b>Чёрный экран с курсором при старте GDM</a></h2></div></header><div class=node-body><p>На днях установил <strong>Debian 11</strong> на несколько ПК. Всё было отлично, кроме как на одном из ПК почему то <strong>GDM</strong> не стал загружаться. Чёрный экран с мигающем текстовым курсором&mldr;</p></div></article></div><div class="d-none d-md-block"><article class="node-articles d-flex overflow-hidden"><div class="flex-shrink-0 me-3"><div class=node-cover><a title="Чёрный экран с курсором при старте GDM" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/09/581804b8-0613-52a8-a5c4-fdae90e7bc8a/ data-bs-toggle=modal data-bs-target=#modal-46334584c908587adafc12280bd2f27b><img class=img-fluid src="https://images.unsplash.com/photo-1542906453-02e875f65428?crop=edges&amp;w=160&amp;h=160&amp;fit=crop&amp;auto=compress,format" width=160 height=160 alt="Чёрный экран с курсором при старте GDM" loading=lazy></a></div></div><div class="flex-grow-1 overflow-hidden"><header><div class=node-title><h2 class=h5><a href=/ru/articles/2021/09/581804b8-0613-52a8-a5c4-fdae90e7bc8a/ data-bs-toggle=modal data-bs-target=#modal-46334584c908587adafc12280bd2f27b>Чёрный экран с курсором при старте GDM</a></h2></div></header><div class=node-body><p>На днях установил <strong>Debian 11</strong> на несколько ПК. Всё было отлично, кроме как на одном из ПК почему то <strong>GDM</strong> не стал загружаться. Чёрный экран с мигающем текстовым курсором&mldr;</p></div></div></article></div><div class="modal fade" id=modal-46334584c908587adafc12280bd2f27b tabindex=-1 aria-labelledby=modal-46334584c908587adafc12280bd2f27b-label aria-hidden=true><div class="modal-dialog modal-fullscreen"><div class=modal-content><div class=modal-header><h2 class="modal-title fs-5 text-truncate" id=modal-46334584c908587adafc12280bd2f27b-label><a href=/ru/articles/2021/09/581804b8-0613-52a8-a5c4-fdae90e7bc8a/>Чёрный экран с курсором при старте GDM</a></h2><button type=button class=btn-close data-bs-dismiss=modal aria-label=Закрыть></button></div><div class=modal-body><div class=node-body><p>На днях установил <strong>Debian 11</strong> на несколько ПК. Всё было отлично, кроме как на одном из ПК почему то <strong>GDM</strong> не стал загружаться. Чёрный экран с мигающем текстовым курсором&mldr;</p><p>На других ПК всё было нормально. Отличие проблемного ПК от остальных заключалось в том, что на проблемном ПК система была установлена на <strong>SSD</strong>. Может быть дело в этом. В интернете я нашёл похожую проблему. По сути, проблема заключается в том, что сам GDM запускается чуть раньше, чем начинается инициализация графической подсистемы. И на кой чёрт его несёт вперёд&mldr;</p><p>В общем, предлагают несколько решений.</p><h2 id=2038044481-настройка-сервиса-gdm><a class=link-body-emphasis href=#2038044481-%d0%bd%d0%b0%d1%81%d1%82%d1%80%d0%be%d0%b9%d0%ba%d0%b0-%d1%81%d0%b5%d1%80%d0%b2%d0%b8%d1%81%d0%b0-gdm>Настройка сервиса GDM</a></h2><p>Данный вариант решения проблемы предлагает отредактировать стартовые параметры сервиса GDM, чтобы тот запускался с небольшой задержкой и не лез вперёд остальной графической подсистемы.</p><p>В терминале нужно ввести от root&rsquo;а команду <code>systemctl edit gdm.service</code>, откроется редактор сервиса GDM. В нем необходимо добавить строку <code>ExecStartPre=/bin/sleep 2</code>, которая создаёт задержку перед запуском самого GDM. Примерно вот так:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-0 shortcode-codeblock-ini"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-49ad3e7c605504083c173de1e099f455><div class=highlight><pre tabindex=0 class=chroma><code class=language-ini data-lang=ini><span class=line><span class=cl><span class=c1>### Anything between here and the comment below will become the new contents of the file</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>[Service]</span>
</span></span><span class=line><span class=cl><span class=na>ExecStartPre</span><span class=o>=</span><span class=s>/bin/sleep 2</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>### Lines below this comment will be discarded</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-49ad3e7c605504083c173de1e099f455 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Таким образом GDM начинает запускаться после того, как инициализируется графическая подсистема.</p><p>Ещё одно исправление <a title href=https://gitlab.gnome.org/GNOME/gdm/-/issues/662#note_993169 target=_blank rel="noopener noreferrer nofollow">предложили</a> в баг-трекере GNOME/GDM. Вместо торможения загрузки GDM, необходимо добавить следующие строки:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-1 shortcode-codeblock-ini"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-e09ee77fc26a0fd00ab9f828faedfe4c><div class=highlight><pre tabindex=0 class=chroma><code class=language-ini data-lang=ini><span class=line><span class=cl><span class=k>[Unit]</span>
</span></span><span class=line><span class=cl><span class=na>Wants</span><span class=o>=</span><span class=s>systemd-udev-trigger.service systemd-udev-settle.service</span>
</span></span><span class=line><span class=cl><span class=na>After</span><span class=o>=</span><span class=s>systemd-udev-trigger.service systemd-udev-settle.service</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-e09ee77fc26a0fd00ab9f828faedfe4c role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Но это не совсем корректное исправление (хотя исправление, изложенное выше, тоже трудно назвать правильным), так как после применения этих строк, появляется ошибка:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-2 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class=flex-shrink-0><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-fe5632799b75746c419a886734bbb443 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-fe5632799b75746c419a886734bbb443><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>Dec <span class=m>27</span> 22:23:48 oleksandr-xps15 udevadm<span class=o>[</span>260<span class=o>]</span>: systemd-udev-settle.service is deprecated. Please fix gdm.service not to pull it in.</span></span></code></pre></div></div></div></div><h2 id=2038044481-указание-порядка-инициализации-графической-подсистемы><a class=link-body-emphasis href=#2038044481-%d1%83%d0%ba%d0%b0%d0%b7%d0%b0%d0%bd%d0%b8%d0%b5-%d0%bf%d0%be%d1%80%d1%8f%d0%b4%d0%ba%d0%b0-%d0%b8%d0%bd%d0%b8%d1%86%d0%b8%d0%b0%d0%bb%d0%b8%d0%b7%d0%b0%d1%86%d0%b8%d0%b8-%d0%b3%d1%80%d0%b0%d1%84%d0%b8%d1%87%d0%b5%d1%81%d0%ba%d0%be%d0%b9-%d0%bf%d0%be%d0%b4%d1%81%d0%b8%d1%81%d1%82%d0%b5%d0%bc%d1%8b>Указание порядка инициализации графической подсистемы</a></h2><p>Этот вариант решения проблемы подходит для <strong>Arch Linux</strong>. Необходимо в файле <code>/etc/mkinitcpio.conf</code> добавить в массив <code>MODULES</code> свою графическую подсистему, чтобы та запускалась раньше, чем GDM. Например:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-3 shortcode-codeblock-text"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-d68a5964517b83dab824b01663e8f9b6><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>MODULES=(amdgpu)</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-d68a5964517b83dab824b01663e8f9b6 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Можно указать другие графические подсистемы, всё зависит от видеокарты, установленной в ПК:</p><ul><li><code>amdgpu</code> - для современных видеокарт AMD.</li><li><code>radeon</code> - для устаревших видеокарт AMD.</li><li><code>nouveau</code> - для Nvidia Nouveau.</li><li><code>i915</code> - для Intel.</li><li><code>mgag200</code> - для видеокарт Matrox.</li></ul><p>Если в системе используется Intel в качестве графики и в модулях прописан <code>i915</code>, то могут появится ошибки ACPI. Для исправления этих ошибок необходимо добавить <code>intel_agp</code> перед <code>i915</code>. Чтобы проверить корректность загрузки модуля, можно ввести команду <code>lsmod | grep intel_agp</code>.</p></div></div><div class=modal-footer><ul class="list-inline text-center text-body-secondary small"><li class=list-inline-item><a href=https://lib.onl/ru/tags/debian/>#debian</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/gnome/>#gnome</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/gdm/>#gdm</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/systemd/>#systemd</a></li><li class=list-inline-item>&bull;</li><li class="list-inline-item text-success" data-bs-tooltip data-bs-title='Уровень сложности: Простой'><i class="far fa-face-smile fa-fw"></i></li><li class=list-inline-item>&bull;</li><li class=list-inline-item><time datetime=2021-09-30T08:10:19Z data-fn=date-local>2021/09/30 08:10:19 UTC</time></li></ul></div></div></div></div></div><div class=col><div class="d-sm-block d-md-none"><article class=node-articles><header><div class="node-cover mb-3"><a title="Отключение режима Wayland в GDM" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/09/0d11ecc0-2714-5c5c-9b48-804f50419590/ data-bs-toggle=modal data-bs-target=#modal-7fd40499c33c1b2e333c385a02dbde1c><picture><source srcset='https://images.unsplash.com/photo-1590140409417-8fc288725f77?crop=edges&amp;w=640&amp;h=360&amp;fit=crop&amp;auto=compress,format 640w,https://images.unsplash.com/photo-1590140409417-8fc288725f77?crop=edges&amp;w=768&amp;h=432&amp;fit=crop&amp;auto=compress,format 768w,https://images.unsplash.com/photo-1590140409417-8fc288725f77?crop=edges&amp;w=1024&amp;h=576&amp;fit=crop&amp;auto=compress,format 1024w,https://images.unsplash.com/photo-1590140409417-8fc288725f77?crop=edges&amp;w=1280&amp;h=720&amp;fit=crop&amp;auto=compress,format 1280w,https://images.unsplash.com/photo-1590140409417-8fc288725f77?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format 1600w' sizes="(min-width: 576px) 100vw"><img class=img-fluid src="https://images.unsplash.com/photo-1590140409417-8fc288725f77?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format" width=1600 height=900 alt="Отключение режима Wayland в GDM" loading=lazy></picture></a></div><div class=node-title><h2 class=h5><a href=/ru/articles/2021/09/0d11ecc0-2714-5c5c-9b48-804f50419590/ data-bs-toggle=modal data-bs-target=#modal-7fd40499c33c1b2e333c385a02dbde1c>Отключение режима Wayland в GDM</a></h2></div></header><div class=node-body><p>Использовать <strong>Wayland</strong> мне, пока что, нет необходимости. Поэтому, я решил его отключить в <strong>GDM</strong>.</p></div></article></div><div class="d-none d-md-block"><article class="node-articles d-flex overflow-hidden"><div class="flex-shrink-0 me-3"><div class=node-cover><a title="Отключение режима Wayland в GDM" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/09/0d11ecc0-2714-5c5c-9b48-804f50419590/ data-bs-toggle=modal data-bs-target=#modal-7fd40499c33c1b2e333c385a02dbde1c><img class=img-fluid src="https://images.unsplash.com/photo-1590140409417-8fc288725f77?crop=edges&amp;w=160&amp;h=160&amp;fit=crop&amp;auto=compress,format" width=160 height=160 alt="Отключение режима Wayland в GDM" loading=lazy></a></div></div><div class="flex-grow-1 overflow-hidden"><header><div class=node-title><h2 class=h5><a href=/ru/articles/2021/09/0d11ecc0-2714-5c5c-9b48-804f50419590/ data-bs-toggle=modal data-bs-target=#modal-7fd40499c33c1b2e333c385a02dbde1c>Отключение режима Wayland в GDM</a></h2></div></header><div class=node-body><p>Использовать <strong>Wayland</strong> мне, пока что, нет необходимости. Поэтому, я решил его отключить в <strong>GDM</strong>.</p></div></div></article></div><div class="modal fade" id=modal-7fd40499c33c1b2e333c385a02dbde1c tabindex=-1 aria-labelledby=modal-7fd40499c33c1b2e333c385a02dbde1c-label aria-hidden=true><div class="modal-dialog modal-fullscreen"><div class=modal-content><div class=modal-header><h2 class="modal-title fs-5 text-truncate" id=modal-7fd40499c33c1b2e333c385a02dbde1c-label><a href=/ru/articles/2021/09/0d11ecc0-2714-5c5c-9b48-804f50419590/>Отключение режима Wayland в GDM</a></h2><button type=button class=btn-close data-bs-dismiss=modal aria-label=Закрыть></button></div><div class=modal-body><div class=node-body><p>Использовать <strong>Wayland</strong> мне, пока что, нет необходимости. Поэтому, я решил его отключить в <strong>GDM</strong>.</p><p>Для того, чтобы отключить выбор режима Wayland в GDM, необходимо в файле <code>/etc/gdm3/daemon.conf</code> раскомментировать строку:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-0 shortcode-codeblock-ini"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-335618f379abbc6762a7e6b33331aec7><div class=highlight><pre tabindex=0 class=chroma><code class=language-ini data-lang=ini><span class=line><span class=cl><span class=c1># WaylandEnable=false</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-335618f379abbc6762a7e6b33331aec7 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Должно получится так:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-1 shortcode-codeblock-ini"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-fdb7d18858318335a38310d77df7f0ca><div class=highlight><pre tabindex=0 class=chroma><code class=language-ini data-lang=ini><span class=line><span class=cl><span class=na>WaylandEnable</span><span class=o>=</span><span class=s>false</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-fdb7d18858318335a38310d77df7f0ca role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Таким образом даём понять GDM, что мы не желаем использовать Wayland.</p></div></div><div class=modal-footer><ul class="list-inline text-center text-body-secondary small"><li class=list-inline-item><a href=https://lib.onl/ru/tags/wayland/>#wayland</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/gdm/>#gdm</a></li><li class=list-inline-item>&bull;</li><li class="list-inline-item text-success" data-bs-tooltip data-bs-title='Уровень сложности: Простой'><i class="far fa-face-smile fa-fw"></i></li><li class=list-inline-item>&bull;</li><li class=list-inline-item><time datetime=2021-09-30T07:51:30Z data-fn=date-local>2021/09/30 07:51:30 UTC</time></li></ul></div></div></div></div></div><div class=col><div class="d-sm-block d-md-none"><article class=node-articles><header><div class="node-cover mb-3"><a title="Установка Proxmox VE на Debian 11 (Bullseye)" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/09/1cf305cd-85d0-5e02-aabb-e01346bfee0f/ data-bs-toggle=modal data-bs-target=#modal-3ac1a989a84cf2e8442fe696e5b4698b><picture><source srcset='https://images.unsplash.com/photo-1566443280617-35db331c54fb?crop=edges&amp;w=640&amp;h=360&amp;fit=crop&amp;auto=compress,format 640w,https://images.unsplash.com/photo-1566443280617-35db331c54fb?crop=edges&amp;w=768&amp;h=432&amp;fit=crop&amp;auto=compress,format 768w,https://images.unsplash.com/photo-1566443280617-35db331c54fb?crop=edges&amp;w=1024&amp;h=576&amp;fit=crop&amp;auto=compress,format 1024w,https://images.unsplash.com/photo-1566443280617-35db331c54fb?crop=edges&amp;w=1280&amp;h=720&amp;fit=crop&amp;auto=compress,format 1280w,https://images.unsplash.com/photo-1566443280617-35db331c54fb?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format 1600w' sizes="(min-width: 576px) 100vw"><img class=img-fluid src="https://images.unsplash.com/photo-1566443280617-35db331c54fb?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format" width=1600 height=900 alt="Установка Proxmox VE на Debian 11 (Bullseye)" loading=lazy></picture></a></div><div class=node-title><h2 class=h5><a href=/ru/articles/2021/09/1cf305cd-85d0-5e02-aabb-e01346bfee0f/ data-bs-toggle=modal data-bs-target=#modal-3ac1a989a84cf2e8442fe696e5b4698b>Установка Proxmox VE на Debian 11 (Bullseye)</a></h2></div></header><div class=node-body><p>В этой небольшой заметке, я расскажу как установить <strong>Proxmox VE</strong> на чистый <strong>Debian 11 (Bullseye)</strong>.</p></div></article></div><div class="d-none d-md-block"><article class="node-articles d-flex overflow-hidden"><div class="flex-shrink-0 me-3"><div class=node-cover><a title="Установка Proxmox VE на Debian 11 (Bullseye)" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/09/1cf305cd-85d0-5e02-aabb-e01346bfee0f/ data-bs-toggle=modal data-bs-target=#modal-3ac1a989a84cf2e8442fe696e5b4698b><img class=img-fluid src="https://images.unsplash.com/photo-1566443280617-35db331c54fb?crop=edges&amp;w=160&amp;h=160&amp;fit=crop&amp;auto=compress,format" width=160 height=160 alt="Установка Proxmox VE на Debian 11 (Bullseye)" loading=lazy></a></div></div><div class="flex-grow-1 overflow-hidden"><header><div class=node-title><h2 class=h5><a href=/ru/articles/2021/09/1cf305cd-85d0-5e02-aabb-e01346bfee0f/ data-bs-toggle=modal data-bs-target=#modal-3ac1a989a84cf2e8442fe696e5b4698b>Установка Proxmox VE на Debian 11 (Bullseye)</a></h2></div></header><div class=node-body><p>В этой небольшой заметке, я расскажу как установить <strong>Proxmox VE</strong> на чистый <strong>Debian 11 (Bullseye)</strong>.</p></div></div></article></div><div class="modal fade" id=modal-3ac1a989a84cf2e8442fe696e5b4698b tabindex=-1 aria-labelledby=modal-3ac1a989a84cf2e8442fe696e5b4698b-label aria-hidden=true><div class="modal-dialog modal-fullscreen"><div class=modal-content><div class=modal-header><h2 class="modal-title fs-5 text-truncate" id=modal-3ac1a989a84cf2e8442fe696e5b4698b-label><a href=/ru/articles/2021/09/1cf305cd-85d0-5e02-aabb-e01346bfee0f/>Установка Proxmox VE на Debian 11 (Bullseye)</a></h2><button type=button class=btn-close data-bs-dismiss=modal aria-label=Закрыть></button></div><div class=modal-body><div class=node-body><p>В этой небольшой заметке, я расскажу как установить <strong>Proxmox VE</strong> на чистый <strong>Debian 11 (Bullseye)</strong>.</p><h2 id=1585486462-подготовка><a class=link-body-emphasis href=#1585486462-%d0%bf%d0%be%d0%b4%d0%b3%d0%be%d1%82%d0%be%d0%b2%d0%ba%d0%b0>Подготовка</a></h2><p>Для начала необходимо отредактировать файл <code>/etc/hosts</code>, прописав туда IP сервера, на который будет устанавливаться наш Proxmox VE:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-0 shortcode-codeblock-text"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-56fba8535cb80acd57e5fadf634edb03><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>127.0.0.1   localhost
</span></span><span class=line><span class=cl>127.0.1.1   localhost.localdomain     localhost
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl># Proxmox
</span></span><span class=line><span class=cl>10.0.1.1    srv-vm.home.local         srv-vm</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-56fba8535cb80acd57e5fadf634edb03 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Для проверки, можно выполнить команду <code>hostname --ip-address</code>, которая вернёт IP сервера, указанного в <code>/etc/hosts</code> выше.</p><h2 id=1585486462-добавление-репозиториев><a class=link-body-emphasis href=#1585486462-%d0%b4%d0%be%d0%b1%d0%b0%d0%b2%d0%bb%d0%b5%d0%bd%d0%b8%d0%b5-%d1%80%d0%b5%d0%bf%d0%be%d0%b7%d0%b8%d1%82%d0%be%d1%80%d0%b8%d0%b5%d0%b2>Добавление репозиториев</a></h2><p>Добавим репозиторий Proxmox VE:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-1 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-687e280f26096f2aa1e25e52ee58c37c><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;deb [arch=amd64] http://download.proxmox.com/debian/pve bullseye pve-no-subscription&#34;</span> &gt; /etc/apt/sources.list.d/pve.list</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-687e280f26096f2aa1e25e52ee58c37c role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Скачаем и установим ключ репозитория:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-2 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-a5473a78b99f33c5433a585571e8a9ef><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>curl <span class=s1>&#39;https://enterprise.proxmox.com/debian/proxmox-release-bullseye.gpg&#39;</span> -o /etc/apt/trusted.gpg.d/pve.gpg</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-a5473a78b99f33c5433a585571e8a9ef role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Обновим базу пакетов APT и саму систему:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-3 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-7a739aa4ff69eb605f607f1a9c66a6d9><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>apt update <span class=o>&amp;&amp;</span> apt full-upgrade</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-7a739aa4ff69eb605f607f1a9c66a6d9 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><h2 id=1585486462-установка-пакетов><a class=link-body-emphasis href=#1585486462-%d1%83%d1%81%d1%82%d0%b0%d0%bd%d0%be%d0%b2%d0%ba%d0%b0-%d0%bf%d0%b0%d0%ba%d0%b5%d1%82%d0%be%d0%b2>Установка пакетов</a></h2><p>Начнём установку пакетов командой:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-4 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-e6b8d67b3de8f9476cd70bfaa5db384a><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>apt install proxmox-ve postfix open-iscsi</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-e6b8d67b3de8f9476cd70bfaa5db384a role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Стоит заметить, что устанавливается Postfix, он необходим для отправки писем от Proxmox VE. Но мне в локальной сети такая функция не нужна. При установке, Postfix спросит в каком режиме ему необходимо будет работать. Я выбираю <strong>local only</strong>.</p><h2 id=1585486462-исправление-ошибок><a class=link-body-emphasis href=#1585486462-%d0%b8%d1%81%d0%bf%d1%80%d0%b0%d0%b2%d0%bb%d0%b5%d0%bd%d0%b8%d0%b5-%d0%be%d1%88%d0%b8%d0%b1%d0%be%d0%ba>Исправление ошибок</a></h2><p>После установки Proxmox VE через пакетны менеджер APT, я столкнулся с некоторыми проблемами. Не знаю, может быть они будут отсутствовать, если устанавливать Proxmox VE при помощи его отдельного ISO-файла&mldr;</p><h3 id=1585486462-lvm2-activation-generator-lvmconfig-failed><a class=link-body-emphasis href=#1585486462-lvm2-activation-generator-lvmconfig-failed>lvm2-activation-generator: lvmconfig failed</a></h3><p>Для исправления ошибки <code>lvm2-activation-generator: lvmconfig failed</code>, необходимо в файле <code>/etc/lvm/lvm.conf</code> изменить параметр <code>event_activation</code>, а именно раскомментировать и установить в <code>0</code>:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-5 shortcode-codeblock-text"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-1e2d512d38ffd6aa91ff5a08e811034b><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>global {
</span></span><span class=line><span class=cl>  &lt;...&gt;
</span></span><span class=line><span class=cl>  # Configuration option global/event_activation.
</span></span><span class=line><span class=cl>  # Activate LVs based on system-generated device events.
</span></span><span class=line><span class=cl>  # When a device appears on the system, a system-generated event runs
</span></span><span class=line><span class=cl>  # the pvscan command to activate LVs if the new PV completes the VG.
</span></span><span class=line><span class=cl>  # Use auto_activation_volume_list to select which LVs should be
</span></span><span class=line><span class=cl>  # activated from these events (the default is all.)
</span></span><span class=line><span class=cl>  # When event_activation is disabled, the system will generally run
</span></span><span class=line><span class=cl>  # a direct activation command to activate LVs in complete VGs.
</span></span><span class=line><span class=cl>  # This configuration option has an automatic default value.
</span></span><span class=line><span class=cl>  # event_activation = 1
</span></span><span class=line><span class=cl>  &lt;...&gt;
</span></span><span class=line><span class=cl>}</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-1e2d512d38ffd6aa91ff5a08e811034b role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="shortcode shortcode-codeblock shortcode-codeblock-6 shortcode-codeblock-text"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-4782859e85123d0ee6fbc27b721fc7bb><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>global {
</span></span><span class=line><span class=cl>  &lt;...&gt;
</span></span><span class=line><span class=cl>  # Configuration option global/event_activation.
</span></span><span class=line><span class=cl>  # Activate LVs based on system-generated device events.
</span></span><span class=line><span class=cl>  # When a device appears on the system, a system-generated event runs
</span></span><span class=line><span class=cl>  # the pvscan command to activate LVs if the new PV completes the VG.
</span></span><span class=line><span class=cl>  # Use auto_activation_volume_list to select which LVs should be
</span></span><span class=line><span class=cl>  # activated from these events (the default is all.)
</span></span><span class=line><span class=cl>  # When event_activation is disabled, the system will generally run
</span></span><span class=line><span class=cl>  # a direct activation command to activate LVs in complete VGs.
</span></span><span class=line><span class=cl>  # This configuration option has an automatic default value.
</span></span><span class=line><span class=cl>  event_activation = 0
</span></span><span class=line><span class=cl>  &lt;...&gt;
</span></span><span class=line><span class=cl>}</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-4782859e85123d0ee6fbc27b721fc7bb role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><h3 id=1585486462-не-поднимается--интерфейс><a class=link-body-emphasis href=#1585486462-%d0%bd%d0%b5-%d0%bf%d0%be%d0%b4%d0%bd%d0%b8%d0%bc%d0%b0%d0%b5%d1%82%d1%81%d1%8f--%d0%b8%d0%bd%d1%82%d0%b5%d1%80%d1%84%d0%b5%d0%b9%d1%81>Не поднимается интерфейс</a></h3><p>После установки, у меня перестал автоматически подниматься сетевой интерфейс. Может быть, в отдельном ISO-образе Proxmox VE такой проблемы нет, потому что при установке с отдельного ISO-образа, он запрашивает у администратора параметры сети. Но если устанавливать Proxmox VE через пакетную систему Debian, то никаких запросов не появляется. В общем, я сделал так (<code>/etc/network/interfaces</code>):</p><div class="shortcode shortcode-codeblock shortcode-codeblock-7 shortcode-codeblock-text"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-f7d5701fe7ca8e8d60e1dde4b4163e8d><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>auto lo
</span></span><span class=line><span class=cl>iface lo inet loopback
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>iface enp3s0 inet manual
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>auto vmbr0
</span></span><span class=line><span class=cl>iface vmbr0 inet static
</span></span><span class=line><span class=cl>  address 10.0.1.1/16
</span></span><span class=line><span class=cl>  gateway 10.0.0.1
</span></span><span class=line><span class=cl>  bridge-ports enp3s0
</span></span><span class=line><span class=cl>  bridge-stp off
</span></span><span class=line><span class=cl>  bridge-fd 0</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-f7d5701fe7ca8e8d60e1dde4b4163e8d role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Конкретно, тут я добавил блок виртуального соединения:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-8 shortcode-codeblock-text"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-6790ac86eb161b28bd6b49425661055f><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>auto vmbr0
</span></span><span class=line><span class=cl>iface vmbr0 inet static
</span></span><span class=line><span class=cl>  address 10.0.1.1/16
</span></span><span class=line><span class=cl>  gateway 10.0.0.1
</span></span><span class=line><span class=cl>  bridge-ports enp3s0
</span></span><span class=line><span class=cl>  bridge-stp off
</span></span><span class=line><span class=cl>  bridge-fd 0</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-6790ac86eb161b28bd6b49425661055f role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Где указал мост с физической картой <code>enp3s0</code>. Саму же карту <code>enp3s0</code> я перевёл в режим <code>manual</code>. После этого, сетевой интерфейс на сервере заработал в штатном режиме.</p><p>На этом консольная настройка сервера виртуализации закончена. Настройка самого Proxmox&rsquo;а можно выполнять уже в удобном web-интерфейсе.</p></div></div><div class=modal-footer><ul class="list-inline text-center text-body-secondary small"><li class=list-inline-item><a href=https://lib.onl/ru/tags/proxmox/>#proxmox</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/debian/>#debian</a></li><li class=list-inline-item>&bull;</li><li class="list-inline-item text-warning" data-bs-tooltip data-bs-title='Уровень сложности: Средний'><i class="far fa-face-meh fa-fw"></i></li><li class=list-inline-item>&bull;</li><li class=list-inline-item><time datetime=2021-09-12T21:36:02Z data-fn=date-local>2021/09/12 21:36:02 UTC</time></li></ul></div></div></div></div></div><div class=col><div class="d-sm-block d-md-none"><article class=node-articles><header><div class="node-cover mb-3"><a title="Debian: Wired Networks are Unmanaged" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/09/ff829d15-4a19-52e3-a3aa-ad70aa38854a/ data-bs-toggle=modal data-bs-target=#modal-0d5bd620a756a99b7283a2129d748c77><picture><source srcset='https://images.unsplash.com/photo-1554098415-4052459dc340?crop=bottom&amp;w=640&amp;h=360&amp;fit=crop&amp;auto=compress,format 640w,https://images.unsplash.com/photo-1554098415-4052459dc340?crop=bottom&amp;w=768&amp;h=432&amp;fit=crop&amp;auto=compress,format 768w,https://images.unsplash.com/photo-1554098415-4052459dc340?crop=bottom&amp;w=1024&amp;h=576&amp;fit=crop&amp;auto=compress,format 1024w,https://images.unsplash.com/photo-1554098415-4052459dc340?crop=bottom&amp;w=1280&amp;h=720&amp;fit=crop&amp;auto=compress,format 1280w,https://images.unsplash.com/photo-1554098415-4052459dc340?crop=bottom&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format 1600w' sizes="(min-width: 576px) 100vw"><img class=img-fluid src="https://images.unsplash.com/photo-1554098415-4052459dc340?crop=bottom&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format" width=1600 height=900 alt="Debian: Wired Networks are Unmanaged" loading=lazy></picture></a></div><div class=node-title><h2 class=h5><a href=/ru/articles/2021/09/ff829d15-4a19-52e3-a3aa-ad70aa38854a/ data-bs-toggle=modal data-bs-target=#modal-0d5bd620a756a99b7283a2129d748c77>Debian: Wired Networks are Unmanaged</a></h2></div></header><div class=node-body><p>При базовой установке Debian, Network Manager не устанавливается и, соответственно, он не управляет сетевой конфигурацией. Исправим данную ситуацию&mldr;</p></div></article></div><div class="d-none d-md-block"><article class="node-articles d-flex overflow-hidden"><div class="flex-shrink-0 me-3"><div class=node-cover><a title="Debian: Wired Networks are Unmanaged" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/09/ff829d15-4a19-52e3-a3aa-ad70aa38854a/ data-bs-toggle=modal data-bs-target=#modal-0d5bd620a756a99b7283a2129d748c77><img class=img-fluid src="https://images.unsplash.com/photo-1554098415-4052459dc340?crop=bottom&amp;w=160&amp;h=160&amp;fit=crop&amp;auto=compress,format" width=160 height=160 alt="Debian: Wired Networks are Unmanaged" loading=lazy></a></div></div><div class="flex-grow-1 overflow-hidden"><header><div class=node-title><h2 class=h5><a href=/ru/articles/2021/09/ff829d15-4a19-52e3-a3aa-ad70aa38854a/ data-bs-toggle=modal data-bs-target=#modal-0d5bd620a756a99b7283a2129d748c77>Debian: Wired Networks are Unmanaged</a></h2></div></header><div class=node-body><p>При базовой установке Debian, Network Manager не устанавливается и, соответственно, он не управляет сетевой конфигурацией. Исправим данную ситуацию&mldr;</p></div></div></article></div><div class="modal fade" id=modal-0d5bd620a756a99b7283a2129d748c77 tabindex=-1 aria-labelledby=modal-0d5bd620a756a99b7283a2129d748c77-label aria-hidden=true><div class="modal-dialog modal-fullscreen"><div class=modal-content><div class=modal-header><h2 class="modal-title fs-5 text-truncate" id=modal-0d5bd620a756a99b7283a2129d748c77-label><a href=/ru/articles/2021/09/ff829d15-4a19-52e3-a3aa-ad70aa38854a/>Debian: Wired Networks are Unmanaged</a></h2><button type=button class=btn-close data-bs-dismiss=modal aria-label=Закрыть></button></div><div class=modal-body><div class=node-body><p>При базовой установке Debian, Network Manager не устанавливается и, соответственно, он не управляет сетевой конфигурацией. Исправим данную ситуацию&mldr;</p><p>Лично я люблю ставить систему в минимальной комплектации. У меня есть <a title href=https://uaik.github.io/ target=_blank rel="noopener noreferrer nofollow">отдельный ресурс</a> со сценариями автоматической установки. Это шаблоны, которые позволяют поставить систему в автоматическом режиме и с минимальным набором компонентов. В основном, такие шаблоны полезны для серверов. Однако, для домашнего компьютера тоже вполне подойдут. Но после установки домашней системы через такой шаблон, потребуется небольшая корректировка.</p><p>Итак, установим Network Manager при помощи пакетного менеджера <strong>APT</strong>:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-0 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-59c6e07c50da517a548b62c3576e402f><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>apt install network-manager</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-59c6e07c50da517a548b62c3576e402f role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Но этого недостаточно. Система будет говорить, что &ldquo;Wired Networks are Unmanaged&rdquo;, потому что всё ещё сетевой конфигурацией управляет не Network Manager. Для исправления этой ситуации, необходимо в <code>/etc/NetworkManager/NetworkManager.conf</code> изменить <code>managed=false</code> на <code>managed=true</code>.</p><p>Далее, перезапустить службу:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-1 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-2cb7da6dcf88599dabfb78acec48dfca><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>service NetworkManager restart</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-2cb7da6dcf88599dabfb78acec48dfca role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>На этом всё. Теперь сетевой конфигурацией управляет Network Manager.</p></div></div><div class=modal-footer><ul class="list-inline text-center text-body-secondary small"><li class=list-inline-item><a href=https://lib.onl/ru/tags/debian/>#debian</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/systemd/>#systemd</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/network/>#network</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/network-manager/>#network-manager</a></li><li class=list-inline-item>&bull;</li><li class="list-inline-item text-success" data-bs-tooltip data-bs-title='Уровень сложности: Простой'><i class="far fa-face-smile fa-fw"></i></li><li class=list-inline-item>&bull;</li><li class=list-inline-item><time datetime=2021-09-09T19:14:12Z data-fn=date-local>2021/09/09 19:14:12 UTC</time></li></ul></div></div></div></div></div><div class=col><div class="d-sm-block d-md-none"><article class=node-articles><header><div class="node-cover mb-3"><a title="Распаковка пакетов DEB / RPM" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/09/b2caccc7-92bf-57ed-970f-136c546f18e2/ data-bs-toggle=modal data-bs-target=#modal-eaca63380a58f9edb6b59cb7e3edca81><picture><source srcset='https://images.unsplash.com/photo-1577705998148-6da4f3963bc8?crop=center&amp;w=640&amp;h=360&amp;fit=crop&amp;auto=compress,format 640w,https://images.unsplash.com/photo-1577705998148-6da4f3963bc8?crop=center&amp;w=768&amp;h=432&amp;fit=crop&amp;auto=compress,format 768w,https://images.unsplash.com/photo-1577705998148-6da4f3963bc8?crop=center&amp;w=1024&amp;h=576&amp;fit=crop&amp;auto=compress,format 1024w,https://images.unsplash.com/photo-1577705998148-6da4f3963bc8?crop=center&amp;w=1280&amp;h=720&amp;fit=crop&amp;auto=compress,format 1280w,https://images.unsplash.com/photo-1577705998148-6da4f3963bc8?crop=center&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format 1600w' sizes="(min-width: 576px) 100vw"><img class=img-fluid src="https://images.unsplash.com/photo-1577705998148-6da4f3963bc8?crop=center&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format" width=1600 height=900 alt="Распаковка пакетов DEB / RPM" loading=lazy></picture></a></div><div class=node-title><h2 class=h5><a href=/ru/articles/2021/09/b2caccc7-92bf-57ed-970f-136c546f18e2/ data-bs-toggle=modal data-bs-target=#modal-eaca63380a58f9edb6b59cb7e3edca81>Распаковка пакетов DEB / RPM</a></h2></div></header><div class=node-body><p>Я собираю пакеты для Debian и RHEL. И зачастую, мне необходимо посмотреть содержимое собранного пакета, чтобы удостоверится в правильности сборки и корректности расположения файлов внутри пакета. В …</p></div></article></div><div class="d-none d-md-block"><article class="node-articles d-flex overflow-hidden"><div class="flex-shrink-0 me-3"><div class=node-cover><a title="Распаковка пакетов DEB / RPM" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/09/b2caccc7-92bf-57ed-970f-136c546f18e2/ data-bs-toggle=modal data-bs-target=#modal-eaca63380a58f9edb6b59cb7e3edca81><img class=img-fluid src="https://images.unsplash.com/photo-1577705998148-6da4f3963bc8?crop=center&amp;w=160&amp;h=160&amp;fit=crop&amp;auto=compress,format" width=160 height=160 alt="Распаковка пакетов DEB / RPM" loading=lazy></a></div></div><div class="flex-grow-1 overflow-hidden"><header><div class=node-title><h2 class=h5><a href=/ru/articles/2021/09/b2caccc7-92bf-57ed-970f-136c546f18e2/ data-bs-toggle=modal data-bs-target=#modal-eaca63380a58f9edb6b59cb7e3edca81>Распаковка пакетов DEB / RPM</a></h2></div></header><div class=node-body><p>Я собираю пакеты для Debian и RHEL. И зачастую, мне необходимо посмотреть содержимое собранного пакета, чтобы удостоверится в правильности сборки и корректности расположения файлов внутри пакета. В …</p></div></div></article></div><div class="modal fade" id=modal-eaca63380a58f9edb6b59cb7e3edca81 tabindex=-1 aria-labelledby=modal-eaca63380a58f9edb6b59cb7e3edca81-label aria-hidden=true><div class="modal-dialog modal-fullscreen"><div class=modal-content><div class=modal-header><h2 class="modal-title fs-5 text-truncate" id=modal-eaca63380a58f9edb6b59cb7e3edca81-label><a href=/ru/articles/2021/09/b2caccc7-92bf-57ed-970f-136c546f18e2/>Распаковка пакетов DEB / RPM</a></h2><button type=button class=btn-close data-bs-dismiss=modal aria-label=Закрыть></button></div><div class=modal-body><div class=node-body><p>Я собираю пакеты для Debian и RHEL. И зачастую, мне необходимо посмотреть содержимое собранного пакета, чтобы удостоверится в правильности сборки и корректности расположения файлов внутри пакета. В этой статье кратно расскажу, как и при помощи чего можно посмотреть собранные пакеты.</p><h2 id=3467092071-deb><a class=link-body-emphasis href=#3467092071-deb>DEB</a></h2><p>Пакет <code>.deb</code> архивируется при помощи <a title href=https://en.wikipedia.org/wiki/Ar_%28Unix%29 target=_blank rel="noopener noreferrer nofollow">ar</a>. Соответственно, распаковать пакет тоже следует через данный архиватор:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-0 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-35d2d189328fb03345fc6be0e660ce59><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>ar x example.deb</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-35d2d189328fb03345fc6be0e660ce59 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ul><li><code>debian-binary</code> – файл, содержащий версию формата <code>.deb</code>.</li><li><code>control.tar.xz</code> – файл, содержащий md5sums и директорию для сборки пакета.</li><li><code>data.tar.xz</code> – архив, содержащий все файлы, которые должны быть установлены в системе при установке пакета.</li></ul><h2 id=3467092071-rpm><a class=link-body-emphasis href=#3467092071-rpm>RPM</a></h2><p>Пакет <code>.rpm</code> содержит архив <code>cpio</code>. Имеется удобная утилита <code>rpm2cpio</code>, которая преобразует <code>.rpm</code> в архив <code>cpio</code>.</p><div class="shortcode shortcode-codeblock shortcode-codeblock-1 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-2d6dcb7c50490ceec8596817b2856fcd><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>rpm2cpio myrpmfile.rpm
</span></span><span class=line><span class=cl>rpm2cpio - &lt; myrpmfile.rpm
</span></span><span class=line><span class=cl>rpm2cpio myrpmfile.rpm <span class=p>|</span> cpio -idmv</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-2d6dcb7c50490ceec8596817b2856fcd role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Опции <code>rpm2cpio</code>:</p><ul><li><code>-i</code> - восстановить архив.</li><li><code>-d</code> - создать необходимые каталоги.</li><li><code>-m</code> - сохранить время модификации файлов.</li><li><code>-v</code> - подробный вывод процесса преобразования.</li></ul><p>Также, просматривать <code>.rpm</code> можно при помощи файлового менеджера Midnight Commander (<code>mc</code>).</p></div></div><div class=modal-footer><ul class="list-inline text-center text-body-secondary small"><li class=list-inline-item><a href=https://lib.onl/ru/tags/debian/>#debian</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/fedora/>#fedora</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/deb/>#deb</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/rpm/>#rpm</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/ar/>#ar</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/cpio/>#cpio</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/rpm2cpio/>#rpm2cpio</a></li><li class=list-inline-item>&bull;</li><li class="list-inline-item text-success" data-bs-tooltip data-bs-title='Уровень сложности: Простой'><i class="far fa-face-smile fa-fw"></i></li><li class=list-inline-item>&bull;</li><li class=list-inline-item><time datetime=2021-09-08T09:39:36Z data-fn=date-local>2021/09/08 09:39:36 UTC</time></li></ul></div></div></div></div></div><div class=col><div class="d-sm-block d-md-none"><article class=node-articles><header><div class="node-cover mb-3"><a title="Отключение установки дополнительных пакетов в Debian APT" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/09/43b40b92-c29a-504b-87fa-5eac368dcf95/ data-bs-toggle=modal data-bs-target=#modal-cf6fa93b8912675f7ee1785dc4b51394><picture><source srcset='https://images.unsplash.com/photo-1583078379333-e34d6569c406?crop=center&amp;w=640&amp;h=360&amp;fit=crop&amp;auto=compress,format 640w,https://images.unsplash.com/photo-1583078379333-e34d6569c406?crop=center&amp;w=768&amp;h=432&amp;fit=crop&amp;auto=compress,format 768w,https://images.unsplash.com/photo-1583078379333-e34d6569c406?crop=center&amp;w=1024&amp;h=576&amp;fit=crop&amp;auto=compress,format 1024w,https://images.unsplash.com/photo-1583078379333-e34d6569c406?crop=center&amp;w=1280&amp;h=720&amp;fit=crop&amp;auto=compress,format 1280w,https://images.unsplash.com/photo-1583078379333-e34d6569c406?crop=center&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format 1600w' sizes="(min-width: 576px) 100vw"><img class=img-fluid src="https://images.unsplash.com/photo-1583078379333-e34d6569c406?crop=center&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format" width=1600 height=900 alt="Отключение установки дополнительных пакетов в Debian APT" loading=lazy></picture></a></div><div class=node-title><h2 class=h5><a href=/ru/articles/2021/09/43b40b92-c29a-504b-87fa-5eac368dcf95/ data-bs-toggle=modal data-bs-target=#modal-cf6fa93b8912675f7ee1785dc4b51394>Отключение установки дополнительных пакетов в Debian APT</a></h2></div></header><div class=node-body><p>Стандартное действие APT при установке пакета, это установить дополнительные рекомендуемые пакеты. Но, к примеру, мне рекомендуемые пакеты не нужны. Они занимают место и, если я захочу поставить …</p></div></article></div><div class="d-none d-md-block"><article class="node-articles d-flex overflow-hidden"><div class="flex-shrink-0 me-3"><div class=node-cover><a title="Отключение установки дополнительных пакетов в Debian APT" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/09/43b40b92-c29a-504b-87fa-5eac368dcf95/ data-bs-toggle=modal data-bs-target=#modal-cf6fa93b8912675f7ee1785dc4b51394><img class=img-fluid src="https://images.unsplash.com/photo-1583078379333-e34d6569c406?crop=center&amp;w=160&amp;h=160&amp;fit=crop&amp;auto=compress,format" width=160 height=160 alt="Отключение установки дополнительных пакетов в Debian APT" loading=lazy></a></div></div><div class="flex-grow-1 overflow-hidden"><header><div class=node-title><h2 class=h5><a href=/ru/articles/2021/09/43b40b92-c29a-504b-87fa-5eac368dcf95/ data-bs-toggle=modal data-bs-target=#modal-cf6fa93b8912675f7ee1785dc4b51394>Отключение установки дополнительных пакетов в Debian APT</a></h2></div></header><div class=node-body><p>Стандартное действие APT при установке пакета, это установить дополнительные рекомендуемые пакеты. Но, к примеру, мне рекомендуемые пакеты не нужны. Они занимают место и, если я захочу поставить …</p></div></div></article></div><div class="modal fade" id=modal-cf6fa93b8912675f7ee1785dc4b51394 tabindex=-1 aria-labelledby=modal-cf6fa93b8912675f7ee1785dc4b51394-label aria-hidden=true><div class="modal-dialog modal-fullscreen"><div class=modal-content><div class=modal-header><h2 class="modal-title fs-5 text-truncate" id=modal-cf6fa93b8912675f7ee1785dc4b51394-label><a href=/ru/articles/2021/09/43b40b92-c29a-504b-87fa-5eac368dcf95/>Отключение установки дополнительных пакетов в Debian APT</a></h2><button type=button class=btn-close data-bs-dismiss=modal aria-label=Закрыть></button></div><div class=modal-body><div class=node-body><p>Стандартное действие APT при установке пакета, это установить дополнительные рекомендуемые пакеты. Но, к примеру, мне рекомендуемые пакеты не нужны. Они занимают место и, если я захочу поставить что-то дополнительно, я поставлю это сам.</p><p>Ниже приведены две команды, которые позволяют отключить установку рекомендуемых (Recommends) и дополнительных (Suggests)пакетов.</p><div class="shortcode shortcode-codeblock shortcode-codeblock-0 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-e2c0617ea2a3bb061d42bd81d286f2d4><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=nb>echo</span> <span class=s1>&#39;APT::Install-Recommends &#34;false&#34;;&#39;</span> &gt; /etc/apt/apt.conf.d/00InstallRecommends</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-e2c0617ea2a3bb061d42bd81d286f2d4 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="shortcode shortcode-codeblock shortcode-codeblock-1 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-5681cbddeea1f1937eae4a1a8c302959><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=nb>echo</span> <span class=s1>&#39;APT::Install-Suggests &#34;false&#34;;&#39;</span> &gt; /etc/apt/apt.conf.d/00InstallSuggests</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-5681cbddeea1f1937eae4a1a8c302959 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Стоит заметить, что при установке Debian на завершающем этапе можно отключить рекомендуемые пакеты (в preseed этот параметр именуется как <code>d-i base-installer/install-recommends boolean false</code>). При этом, после установки, Debian сам создаст файл <code>00InstallRecommends</code> в <code>/etc/apt/apt.conf.d</code> с соответствующим содержанием.</p></div></div><div class=modal-footer><ul class="list-inline text-center text-body-secondary small"><li class=list-inline-item><a href=https://lib.onl/ru/tags/debian/>#debian</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/apt/>#apt</a></li><li class=list-inline-item>&bull;</li><li class="list-inline-item text-success" data-bs-tooltip data-bs-title='Уровень сложности: Простой'><i class="far fa-face-smile fa-fw"></i></li><li class=list-inline-item>&bull;</li><li class=list-inline-item><time datetime=2021-09-07T13:07:46Z data-fn=date-local>2021/09/07 13:07:46 UTC</time></li></ul></div></div></div></div></div><div class=col><div class="d-sm-block d-md-none"><article class=node-articles><header><div class="node-cover mb-3"><a title="dhclient отправляет 36-значный идентификатор вместо MAC" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/09/aeed7c90-003a-532a-b2c4-3807aaee88fa/ data-bs-toggle=modal data-bs-target=#modal-0a83682bfaea03cf6caf297951fe19cb><picture><source srcset='https://images.unsplash.com/photo-1544197150-b99a580bb7a8?crop=edges&amp;w=640&amp;h=360&amp;fit=crop&amp;auto=compress,format 640w,https://images.unsplash.com/photo-1544197150-b99a580bb7a8?crop=edges&amp;w=768&amp;h=432&amp;fit=crop&amp;auto=compress,format 768w,https://images.unsplash.com/photo-1544197150-b99a580bb7a8?crop=edges&amp;w=1024&amp;h=576&amp;fit=crop&amp;auto=compress,format 1024w,https://images.unsplash.com/photo-1544197150-b99a580bb7a8?crop=edges&amp;w=1280&amp;h=720&amp;fit=crop&amp;auto=compress,format 1280w,https://images.unsplash.com/photo-1544197150-b99a580bb7a8?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format 1600w' sizes="(min-width: 576px) 100vw"><img class=img-fluid src="https://images.unsplash.com/photo-1544197150-b99a580bb7a8?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format" width=1600 height=900 alt="dhclient отправляет 36-значный идентификатор вместо MAC" loading=lazy></picture></a></div><div class=node-title><h2 class=h5><a href=/ru/articles/2021/09/aeed7c90-003a-532a-b2c4-3807aaee88fa/ data-bs-toggle=modal data-bs-target=#modal-0a83682bfaea03cf6caf297951fe19cb>dhclient отправляет 36-значный идентификатор вместо MAC</a></h2></div></header><div class=node-body><p>Начиная с <strong>Debian 10</strong> в составе дистрибутива поставляется новая версия <strong>dhclient</strong>, которая стала более совместимой с RFC. Поэтому, dhclient теперь отправляет не прямой MAC, а 36-значный идентификатор.</p></div></article></div><div class="d-none d-md-block"><article class="node-articles d-flex overflow-hidden"><div class="flex-shrink-0 me-3"><div class=node-cover><a title="dhclient отправляет 36-значный идентификатор вместо MAC" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/09/aeed7c90-003a-532a-b2c4-3807aaee88fa/ data-bs-toggle=modal data-bs-target=#modal-0a83682bfaea03cf6caf297951fe19cb><img class=img-fluid src="https://images.unsplash.com/photo-1544197150-b99a580bb7a8?crop=edges&amp;w=160&amp;h=160&amp;fit=crop&amp;auto=compress,format" width=160 height=160 alt="dhclient отправляет 36-значный идентификатор вместо MAC" loading=lazy></a></div></div><div class="flex-grow-1 overflow-hidden"><header><div class=node-title><h2 class=h5><a href=/ru/articles/2021/09/aeed7c90-003a-532a-b2c4-3807aaee88fa/ data-bs-toggle=modal data-bs-target=#modal-0a83682bfaea03cf6caf297951fe19cb>dhclient отправляет 36-значный идентификатор вместо MAC</a></h2></div></header><div class=node-body><p>Начиная с <strong>Debian 10</strong> в составе дистрибутива поставляется новая версия <strong>dhclient</strong>, которая стала более совместимой с RFC. Поэтому, dhclient теперь отправляет не прямой MAC, а 36-значный идентификатор.</p></div></div></article></div><div class="modal fade" id=modal-0a83682bfaea03cf6caf297951fe19cb tabindex=-1 aria-labelledby=modal-0a83682bfaea03cf6caf297951fe19cb-label aria-hidden=true><div class="modal-dialog modal-fullscreen"><div class=modal-content><div class=modal-header><h2 class="modal-title fs-5 text-truncate" id=modal-0a83682bfaea03cf6caf297951fe19cb-label><a href=/ru/articles/2021/09/aeed7c90-003a-532a-b2c4-3807aaee88fa/>dhclient отправляет 36-значный идентификатор вместо MAC</a></h2><button type=button class=btn-close data-bs-dismiss=modal aria-label=Закрыть></button></div><div class=modal-body><div class=node-body><p>Начиная с <strong>Debian 10</strong> в составе дистрибутива поставляется новая версия <strong>dhclient</strong>, которая стала более совместимой с RFC. Поэтому, dhclient теперь отправляет не прямой MAC, а 36-значный идентификатор.</p><p>Чтобы указать dhclient&rsquo;у отправлять обычный MAC, необходимо в <code>/etc/dhcp/dhclient.conf</code> прописать строку:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-0 shortcode-codeblock-ini"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-603edabaed1f3a29688959b2b9070c8c><div class=highlight><pre tabindex=0 class=chroma><code class=language-ini data-lang=ini><span class=line><span class=cl><span class=na>send dhcp-client-identifier</span> <span class=o>=</span> <span class=s>hardware;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-603edabaed1f3a29688959b2b9070c8c role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Тоже самое при помощи команды:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-1 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-181727ecdf850a1ec8a89336004185d7><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=nb>echo</span> <span class=s1>&#39;send dhcp-client-identifier = hardware;&#39;</span> &gt;&gt; /etc/dhcp/dhclient.conf</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-181727ecdf850a1ec8a89336004185d7 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div></div></div><div class=modal-footer><ul class="list-inline text-center text-body-secondary small"><li class=list-inline-item><a href=https://lib.onl/ru/tags/debian/>#debian</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/dhcp/>#dhcp</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/dhclient/>#dhclient</a></li><li class=list-inline-item>&bull;</li><li class="list-inline-item text-success" data-bs-tooltip data-bs-title='Уровень сложности: Простой'><i class="far fa-face-smile fa-fw"></i></li><li class=list-inline-item>&bull;</li><li class=list-inline-item><time datetime=2021-09-07T08:38:24Z data-fn=date-local>2021/09/07 08:38:24 UTC</time></li></ul></div></div></div></div></div><div class=col><div class="d-sm-block d-md-none"><article class=node-articles><header><div class="node-cover mb-3"><a title="RPM макросы" class="d-flex align-items-center rounded overflow-hidden" href=/ru/drafts/2021/08/66ed7238-6afc-50eb-950d-c5cbe3c370c7/ data-bs-toggle=modal data-bs-target=#modal-82b40f12c4d9e561026f18efd38d97fb><picture><source srcset='https://images.unsplash.com/photo-1517768692594-b4295586b7d6?crop=edges&amp;w=640&amp;h=360&amp;fit=crop&amp;auto=compress,format 640w,https://images.unsplash.com/photo-1517768692594-b4295586b7d6?crop=edges&amp;w=768&amp;h=432&amp;fit=crop&amp;auto=compress,format 768w,https://images.unsplash.com/photo-1517768692594-b4295586b7d6?crop=edges&amp;w=1024&amp;h=576&amp;fit=crop&amp;auto=compress,format 1024w,https://images.unsplash.com/photo-1517768692594-b4295586b7d6?crop=edges&amp;w=1280&amp;h=720&amp;fit=crop&amp;auto=compress,format 1280w,https://images.unsplash.com/photo-1517768692594-b4295586b7d6?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format 1600w' sizes="(min-width: 576px) 100vw"><img class=img-fluid src="https://images.unsplash.com/photo-1517768692594-b4295586b7d6?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format" width=1600 height=900 alt="RPM макросы" loading=lazy></picture></a></div><div class=node-title><h2 class=h5><a href=/ru/drafts/2021/08/66ed7238-6afc-50eb-950d-c5cbe3c370c7/ data-bs-toggle=modal data-bs-target=#modal-82b40f12c4d9e561026f18efd38d97fb>RPM макросы</a></h2></div></header><div class=node-body></div></article></div><div class="d-none d-md-block"><article class="node-articles d-flex overflow-hidden"><div class="flex-shrink-0 me-3"><div class=node-cover><a title="RPM макросы" class="d-flex align-items-center rounded overflow-hidden" href=/ru/drafts/2021/08/66ed7238-6afc-50eb-950d-c5cbe3c370c7/ data-bs-toggle=modal data-bs-target=#modal-82b40f12c4d9e561026f18efd38d97fb><img class=img-fluid src="https://images.unsplash.com/photo-1517768692594-b4295586b7d6?crop=edges&amp;w=160&amp;h=160&amp;fit=crop&amp;auto=compress,format" width=160 height=160 alt="RPM макросы" loading=lazy></a></div></div><div class="flex-grow-1 overflow-hidden"><header><div class=node-title><h2 class=h5><a href=/ru/drafts/2021/08/66ed7238-6afc-50eb-950d-c5cbe3c370c7/ data-bs-toggle=modal data-bs-target=#modal-82b40f12c4d9e561026f18efd38d97fb>RPM макросы</a></h2></div></header><div class=node-body></div></div></article></div><div class="modal fade" id=modal-82b40f12c4d9e561026f18efd38d97fb tabindex=-1 aria-labelledby=modal-82b40f12c4d9e561026f18efd38d97fb-label aria-hidden=true><div class="modal-dialog modal-fullscreen"><div class=modal-content><div class=modal-header><h2 class="modal-title fs-5 text-truncate" id=modal-82b40f12c4d9e561026f18efd38d97fb-label><a href=/ru/drafts/2021/08/66ed7238-6afc-50eb-950d-c5cbe3c370c7/>RPM макросы</a></h2><button type=button class=btn-close data-bs-dismiss=modal aria-label=Закрыть></button></div><div class=modal-body><div class=node-body><h2 id=1002041594-макросы-программ><a class=link-body-emphasis href=#1002041594-%d0%bc%d0%b0%d0%ba%d1%80%d0%be%d1%81%d1%8b-%d0%bf%d1%80%d0%be%d0%b3%d1%80%d0%b0%d0%bc%d0%bc>Макросы программ</a></h2><ul><li><code>%{__7zip}</code></li><li><code>%{__awk}</code></li><li><code>%{__bzip2}</code></li><li><code>%{__bzr}</code></li><li><code>%{__cat}</code></li><li><code>%{__chmod}</code></li><li><code>%{__chown}</code></li><li><code>%{__cp}</code></li><li><code>%{__file}</code></li><li><code>%{__gem}</code></li><li><code>%{__git}</code></li><li><code>%{__gpg}</code></li><li><code>%{__grep}</code></li><li><code>%{__gzip}</code></li><li><code>%{__hg}</code></li><li><code>%{__id_u}</code></li><li><code>%{__id}</code></li><li><code>%{__install}</code></li><li><code>%{__ln_s}</code></li><li><code>%{__lrzip}</code></li><li><code>%{__lzip}</code></li><li><code>%{__make}</code></li><li><code>%{__mkdir_p}</code></li><li><code>%{__mkdir}</code></li><li><code>%{__mv}</code></li><li><code>%{__patch}</code></li><li><code>%{__quilt}</code></li><li><code>%{__rm}</code></li><li><code>%{__sed}</code></li><li><code>%{__tar}</code></li><li><code>%{__unzip}</code></li><li><code>%{__xz}</code></li><li><code>%{__zstd}</code></li></ul><h2 id=1002041594-макросы-для-путей><a class=link-body-emphasis href=#1002041594-%d0%bc%d0%b0%d0%ba%d1%80%d0%be%d1%81%d1%8b-%d0%b4%d0%bb%d1%8f-%d0%bf%d1%83%d1%82%d0%b5%d0%b9>Макросы для путей</a></h2><ul><li><code>%{_sysconfdir}</code></li><li><code>%{_prefix}</code></li><li><code>%{_exec_prefix}</code></li><li><code>%{_includedir}</code></li><li><code>%{_bindir}</code></li><li><code>%{_libdir}</code></li><li><code>%{_libexecdir}</code></li><li><code>%{_sbindir}</code></li><li><code>%{_datadir}</code></li><li><code>%{_infodir}</code></li><li><code>%{_mandir}</code></li><li><code>%{_docdir}</code></li><li><code>%{_rundir}</code></li><li><code>%{_localstatedir}</code></li><li><code>%{_sharedstatedir}</code></li><li><code>%{_lib}</code></li></ul><h2 id=1002041594-старые-макросы><a class=link-body-emphasis href=#1002041594-%d1%81%d1%82%d0%b0%d1%80%d1%8b%d0%b5-%d0%bc%d0%b0%d0%ba%d1%80%d0%be%d1%81%d1%8b>Старые макросы</a></h2><ul><li><code>%{_datarootdir}</code></li><li><code>%{_var}</code></li><li><code>%{_tmppath}</code></li><li><code>%{_usr}</code></li><li><code>%{_usrsrc}</code></li><li><code>%{_initddir}</code></li><li><code>%{_initrddir}</code></li></ul></div></div><div class=modal-footer><ul class="list-inline text-center text-body-secondary small"><li class=list-inline-item>&bull;</li><li class="list-inline-item text-success" data-bs-tooltip data-bs-title='Уровень сложности: Простой'><i class="far fa-face-smile fa-fw"></i></li><li class=list-inline-item>&bull;</li><li class=list-inline-item><time datetime=2021-08-20T11:47:38Z data-fn=date-local>2021/08/20 11:47:38 UTC</time></li></ul></div></div></div></div></div><div class=col><div class="d-sm-block d-md-none"><article class=node-articles><header><div class="node-cover mb-3"><a title="Скрипт автоматического удаления устаревших файлов" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/08/ca744dce-e607-52e6-9952-8ae04e052a5b/ data-bs-toggle=modal data-bs-target=#modal-069944bd560caa3b4ba3d7e8b5745498><picture><source srcset='https://images.unsplash.com/flagged/photo-1578728890856-8bbf3883aa6d?crop=center&amp;w=640&amp;h=360&amp;fit=crop&amp;auto=compress,format 640w,https://images.unsplash.com/flagged/photo-1578728890856-8bbf3883aa6d?crop=center&amp;w=768&amp;h=432&amp;fit=crop&amp;auto=compress,format 768w,https://images.unsplash.com/flagged/photo-1578728890856-8bbf3883aa6d?crop=center&amp;w=1024&amp;h=576&amp;fit=crop&amp;auto=compress,format 1024w,https://images.unsplash.com/flagged/photo-1578728890856-8bbf3883aa6d?crop=center&amp;w=1280&amp;h=720&amp;fit=crop&amp;auto=compress,format 1280w,https://images.unsplash.com/flagged/photo-1578728890856-8bbf3883aa6d?crop=center&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format 1600w' sizes="(min-width: 576px) 100vw"><img class=img-fluid src="https://images.unsplash.com/flagged/photo-1578728890856-8bbf3883aa6d?crop=center&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format" width=1600 height=900 alt="Скрипт автоматического удаления устаревших файлов" loading=lazy></picture></a></div><div class=node-title><h2 class=h5><a href=/ru/articles/2021/08/ca744dce-e607-52e6-9952-8ae04e052a5b/ data-bs-toggle=modal data-bs-target=#modal-069944bd560caa3b4ba3d7e8b5745498>Скрипт автоматического удаления устаревших файлов</a></h2></div></header><div class=node-body><p>В одной компании стояла задача сделать файловый архив-помойку для хранения и пересылки документации в сторонние организации. Я накидал на PHP самописный интерфейс для загрузки файлов, а на …</p></div></article></div><div class="d-none d-md-block"><article class="node-articles d-flex overflow-hidden"><div class="flex-shrink-0 me-3"><div class=node-cover><a title="Скрипт автоматического удаления устаревших файлов" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/08/ca744dce-e607-52e6-9952-8ae04e052a5b/ data-bs-toggle=modal data-bs-target=#modal-069944bd560caa3b4ba3d7e8b5745498><img class=img-fluid src="https://images.unsplash.com/flagged/photo-1578728890856-8bbf3883aa6d?crop=center&amp;w=160&amp;h=160&amp;fit=crop&amp;auto=compress,format" width=160 height=160 alt="Скрипт автоматического удаления устаревших файлов" loading=lazy></a></div></div><div class="flex-grow-1 overflow-hidden"><header><div class=node-title><h2 class=h5><a href=/ru/articles/2021/08/ca744dce-e607-52e6-9952-8ae04e052a5b/ data-bs-toggle=modal data-bs-target=#modal-069944bd560caa3b4ba3d7e8b5745498>Скрипт автоматического удаления устаревших файлов</a></h2></div></header><div class=node-body><p>В одной компании стояла задача сделать файловый архив-помойку для хранения и пересылки документации в сторонние организации. Я накидал на PHP самописный интерфейс для загрузки файлов, а на …</p></div></div></article></div><div class="modal fade" id=modal-069944bd560caa3b4ba3d7e8b5745498 tabindex=-1 aria-labelledby=modal-069944bd560caa3b4ba3d7e8b5745498-label aria-hidden=true><div class="modal-dialog modal-fullscreen"><div class=modal-content><div class=modal-header><h2 class="modal-title fs-5 text-truncate" id=modal-069944bd560caa3b4ba3d7e8b5745498-label><a href=/ru/articles/2021/08/ca744dce-e607-52e6-9952-8ae04e052a5b/>Скрипт автоматического удаления устаревших файлов</a></h2><button type=button class=btn-close data-bs-dismiss=modal aria-label=Закрыть></button></div><div class=modal-body><div class=node-body><p>В одной компании стояла задача сделать файловый архив-помойку для хранения и пересылки документации в сторонние организации. Я накидал на PHP самописный интерфейс для загрузки файлов, а на bash&rsquo;е сделал скрипт автоматического удаления устаревших файлов. Небольшая заметка об этом скрипте.</p><p>Скрипт для удаления устаревших файлов очень прост, написан на bash&rsquo;е и основывается на утилите <code>find</code>. Утилита <code>find</code> имеет опцию <code>-mtime</code>, при помощи которого можно сделать выборку файлов по времени изменения:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-0 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-f4405f6caab5ad834852eb1b3b5a0190><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>find <span class=s2>&#34;/home/user&#34;</span> -type f -mtime +3</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-f4405f6caab5ad834852eb1b3b5a0190 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Здесь мы говорим утилите <code>find</code>, что необходимо найти и показать файлы, у которых с даты последнего изменения прошло более 3 дней. Если необходимо вывести файлы, дата изменения которых будет менее <code>3</code> дней, то ставим отрицательное значение <code>-3</code>.</p><p>Далее, конструируем конвейер, и при помощи <code>xargs</code> указываем команду удаления <code>rm -f</code>:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-1 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-29ef15135a9247c73cb8055c589415dd><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>find <span class=s2>&#34;/home/user&#34;</span> -type f -mtime +3 -print0 <span class=p>|</span> xargs -0 rm -f</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-29ef15135a9247c73cb8055c589415dd role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Сам скрипт провожу ниже.</p><h2 id=642483823-скрипт><a class=link-body-emphasis href=#642483823-%d1%81%d0%ba%d1%80%d0%b8%d0%bf%d1%82>Скрипт</a></h2><div class="shortcode shortcode-file mb-3"><div class="card overflow-hidden"><div class=card-header><div class="d-flex align-items-center"><div class=flex-shrink-0><i class="far fa-file-code fa-fw"></i></div><div class="flex-grow-1 mx-2"><code>delete-files.sh</code></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-262c300713873c05d73b0dac11bc6952 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li><li class=list-inline-item data-bs-tooltip data-bs-title=Скачать><a class=text-body href=delete-files.sh download role=button aria-label=Скачать><i class="fas fa-download fa-fw"></i></a></li><li class=list-inline-item data-bs-tooltip data-bs-title=Открыть><a class=text-body href=delete-files.sh target=_blank role=button aria-label=Открыть><i class="fas fa-arrow-up-right-from-square fa-fw"></i></a></li></ul></div></div></div><div class=card-body id=clipboard-262c300713873c05d73b0dac11bc6952><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=cp>#!/usr/bin/bash -e
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=c1>#</span>
</span></span><span class=line><span class=cl><span class=c1># Script for automatically deleting outdated files.</span>
</span></span><span class=line><span class=cl><span class=c1>#</span>
</span></span><span class=line><span class=cl><span class=c1># @package    Bash</span>
</span></span><span class=line><span class=cl><span class=c1># @author     Kitsune Solar &lt;mail@kitsune.solar&gt;</span>
</span></span><span class=line><span class=cl><span class=c1># @copyright  2023 iHub TO</span>
</span></span><span class=line><span class=cl><span class=c1># @license    MIT</span>
</span></span><span class=line><span class=cl><span class=c1># @version    0.1.0</span>
</span></span><span class=line><span class=cl><span class=c1># @link       https://lib.onl/ru/articles/2021/08/ca744dce-e607-52e6-9952-8ae04e052a5b/</span>
</span></span><span class=line><span class=cl><span class=c1># -------------------------------------------------------------------------------------------------------------------- #</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>days</span><span class=o>=</span><span class=s2>&#34;</span><span class=si>${</span><span class=nv>1</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>dir</span><span class=o>=</span><span class=s2>&#34;</span><span class=si>${</span><span class=nv>2</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>find <span class=s2>&#34;</span><span class=si>${</span><span class=nv>dir</span><span class=si>}</span><span class=s2>&#34;</span> -type f -mtime +<span class=si>${</span><span class=nv>days</span><span class=si>}</span> -print0 <span class=p>|</span> xargs -0 rm -f
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>exit</span> <span class=m>0</span></span></span></code></pre></div></div></div></div><p>В скрипте я вынес некоторые значения в переменные для удобной перенастройки. Вызывается скрипт следующем образом:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-2 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class=flex-shrink-0><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-6da816383d02a771e18e02eae01fc66f role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-6da816383d02a771e18e02eae01fc66f><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>delete-files.sh <span class=s2>&#34;3&#34;</span> <span class=s2>&#34;/path/to/storage&#34;</span></span></span></code></pre></div></div></div></div><p>Где:</p><ul><li><code>3</code> - количество дней, прошедших с момента последнего изменения файла.</li><li><code>/path/to/storage</code> - путь к файловому хранилищу, в котором необходимо удалять устаревшие файлы.</li></ul><h2 id=642483823-автоматический-запуск-по-расписанию><a class=link-body-emphasis href=#642483823-%d0%b0%d0%b2%d1%82%d0%be%d0%bc%d0%b0%d1%82%d0%b8%d1%87%d0%b5%d1%81%d0%ba%d0%b8%d0%b9-%d0%b7%d0%b0%d0%bf%d1%83%d1%81%d0%ba-%d0%bf%d0%be-%d1%80%d0%b0%d1%81%d0%bf%d0%b8%d1%81%d0%b0%d0%bd%d0%b8%d1%8e>Автоматический запуск по расписанию</a></h2><p>Осталось добавить выполнение скрипта по cron&rsquo;у. Я указал время <code>23:59</code>, когда нагрузка на файловое хранилище минимальна:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-3 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-86bc87daae26053fb6810ec06c8a1729><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1># Check &amp; remove old files in 23:59 every day.</span>
</span></span><span class=line><span class=cl><span class=m>59</span> <span class=m>23</span> * * * <span class=o>[</span>username<span class=o>]</span> /usr/bin/bash /path/to/delete-files.sh <span class=s2>&#34;3&#34;</span> <span class=s2>&#34;/path/to/storage&#34;</span> &gt; /dev/null 2&gt;<span class=p>&amp;</span><span class=m>1</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-86bc87daae26053fb6810ec06c8a1729 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div></div></div><div class=modal-footer><ul class="list-inline text-center text-body-secondary small"><li class=list-inline-item><a href=https://lib.onl/ru/tags/bash/>#bash</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/find/>#find</a></li><li class=list-inline-item>&bull;</li><li class="list-inline-item text-success" data-bs-tooltip data-bs-title='Уровень сложности: Простой'><i class="far fa-face-smile fa-fw"></i></li><li class=list-inline-item>&bull;</li><li class=list-inline-item><time datetime=2021-08-19T15:03:46Z data-fn=date-local>2021/08/19 15:03:46 UTC</time></li></ul></div></div></div></div></div><div class=col><div class="d-sm-block d-md-none"><article class=node-articles><header><div class="node-cover mb-3"><a title="Интересные модули Drupal" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/08/28fa2886-aea6-5abc-9da8-43be56283cdb/ data-bs-toggle=modal data-bs-target=#modal-17d2ea086b31e7c1cf9be6e0c60b0eb3><picture><source srcset='https://images.unsplash.com/photo-1532622785990-d2c36a76f5a6?crop=edges&amp;w=640&amp;h=360&amp;fit=crop&amp;auto=compress,format 640w,https://images.unsplash.com/photo-1532622785990-d2c36a76f5a6?crop=edges&amp;w=768&amp;h=432&amp;fit=crop&amp;auto=compress,format 768w,https://images.unsplash.com/photo-1532622785990-d2c36a76f5a6?crop=edges&amp;w=1024&amp;h=576&amp;fit=crop&amp;auto=compress,format 1024w,https://images.unsplash.com/photo-1532622785990-d2c36a76f5a6?crop=edges&amp;w=1280&amp;h=720&amp;fit=crop&amp;auto=compress,format 1280w,https://images.unsplash.com/photo-1532622785990-d2c36a76f5a6?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format 1600w' sizes="(min-width: 576px) 100vw"><img class=img-fluid src="https://images.unsplash.com/photo-1532622785990-d2c36a76f5a6?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format" width=1600 height=900 alt="Интересные модули Drupal" loading=lazy></picture></a></div><div class=node-title><h2 class=h5><a href=/ru/articles/2021/08/28fa2886-aea6-5abc-9da8-43be56283cdb/ data-bs-toggle=modal data-bs-target=#modal-17d2ea086b31e7c1cf9be6e0c60b0eb3>Интересные модули Drupal</a></h2></div></header><div class=node-body><p>Здесь собраны ссылки на интересные и необходимые для меня в работе модули.</p></div></article></div><div class="d-none d-md-block"><article class="node-articles d-flex overflow-hidden"><div class="flex-shrink-0 me-3"><div class=node-cover><a title="Интересные модули Drupal" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/08/28fa2886-aea6-5abc-9da8-43be56283cdb/ data-bs-toggle=modal data-bs-target=#modal-17d2ea086b31e7c1cf9be6e0c60b0eb3><img class=img-fluid src="https://images.unsplash.com/photo-1532622785990-d2c36a76f5a6?crop=edges&amp;w=160&amp;h=160&amp;fit=crop&amp;auto=compress,format" width=160 height=160 alt="Интересные модули Drupal" loading=lazy></a></div></div><div class="flex-grow-1 overflow-hidden"><header><div class=node-title><h2 class=h5><a href=/ru/articles/2021/08/28fa2886-aea6-5abc-9da8-43be56283cdb/ data-bs-toggle=modal data-bs-target=#modal-17d2ea086b31e7c1cf9be6e0c60b0eb3>Интересные модули Drupal</a></h2></div></header><div class=node-body><p>Здесь собраны ссылки на интересные и необходимые для меня в работе модули.</p></div></div></article></div><div class="modal fade" id=modal-17d2ea086b31e7c1cf9be6e0c60b0eb3 tabindex=-1 aria-labelledby=modal-17d2ea086b31e7c1cf9be6e0c60b0eb3-label aria-hidden=true><div class="modal-dialog modal-fullscreen"><div class=modal-content><div class=modal-header><h2 class="modal-title fs-5 text-truncate" id=modal-17d2ea086b31e7c1cf9be6e0c60b0eb3-label><a href=/ru/articles/2021/08/28fa2886-aea6-5abc-9da8-43be56283cdb/>Интересные модули Drupal</a></h2><button type=button class=btn-close data-bs-dismiss=modal aria-label=Закрыть></button></div><div class=modal-body><div class=node-body><p>Здесь собраны ссылки на интересные и необходимые для меня в работе модули.</p><h2 id=848287393-permissions-by-term><a class=link-body-emphasis href=#848287393-permissions-by-term>Permissions by Term</a></h2><p><a title href=https://www.drupal.org/project/permissions_by_term target=_blank rel="noopener noreferrer nofollow">Модуль</a> позволяет применять права доступа к материалу путём добавления термина таксономии.</p><h2 id=848287393-node-view-permissions><a class=link-body-emphasis href=#848287393-node-view-permissions>Node View Permissions</a></h2><p><a title href=https://www.drupal.org/project/node_view_permissions target=_blank rel="noopener noreferrer nofollow">Модуль</a> разрешает или запрещает просматривать материал определённым ролям пользователей. Подобная функция была в Drupal 6, но в последующих версиях её убрали.</p><h2 id=848287393-poll><a class=link-body-emphasis href=#848287393-poll>Poll</a></h2><p><a title href=https://www.drupal.org/project/poll target=_blank rel="noopener noreferrer nofollow">Модуль</a> опросов. Позволяет создавать опросы в различной конфигурации.</p><h2 id=848287393-scheduler><a class=link-body-emphasis href=#848287393-scheduler>Scheduler</a></h2><p>Очень полезный <a title href=https://www.drupal.org/project/scheduler target=_blank rel="noopener noreferrer nofollow">модуль</a>, особенно редакторам. Модуль позволяет создавать отложенные материалы, которые необходимо опубликовать через определённое время.</p></div></div><div class=modal-footer><ul class="list-inline text-center text-body-secondary small"><li class=list-inline-item><a href=https://lib.onl/ru/tags/cms/>#cms</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/cmf/>#cmf</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/drupal/>#drupal</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/php/>#php</a></li><li class=list-inline-item>&bull;</li><li class="list-inline-item text-success" data-bs-tooltip data-bs-title='Уровень сложности: Простой'><i class="far fa-face-smile fa-fw"></i></li><li class=list-inline-item>&bull;</li><li class=list-inline-item><time datetime=2021-08-18T06:58:21Z data-fn=date-local>2021/08/18 06:58:21 UTC</time></li></ul></div></div></div></div></div><div class=col><div class="d-sm-block d-md-none"><article class=node-articles><header><div class="node-cover mb-3"><a title="XenForo: Первичные настройки движка и параметры системы" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/08/8ddf3622-5dd8-5101-9c40-2f3e08f4a579/ data-bs-toggle=modal data-bs-target=#modal-ed82a298f279da922a8d7e913b1c002e><picture><source srcset='https://images.unsplash.com/photo-1429772011165-0c2e054367b8?crop=edges&amp;w=640&amp;h=360&amp;fit=crop&amp;auto=compress,format 640w,https://images.unsplash.com/photo-1429772011165-0c2e054367b8?crop=edges&amp;w=768&amp;h=432&amp;fit=crop&amp;auto=compress,format 768w,https://images.unsplash.com/photo-1429772011165-0c2e054367b8?crop=edges&amp;w=1024&amp;h=576&amp;fit=crop&amp;auto=compress,format 1024w,https://images.unsplash.com/photo-1429772011165-0c2e054367b8?crop=edges&amp;w=1280&amp;h=720&amp;fit=crop&amp;auto=compress,format 1280w,https://images.unsplash.com/photo-1429772011165-0c2e054367b8?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format 1600w' sizes="(min-width: 576px) 100vw"><img class=img-fluid src="https://images.unsplash.com/photo-1429772011165-0c2e054367b8?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format" width=1600 height=900 alt="XenForo: Первичные настройки движка и параметры системы" loading=lazy></picture></a></div><div class=node-title><h2 class=h5><a href=/ru/articles/2021/08/8ddf3622-5dd8-5101-9c40-2f3e08f4a579/ data-bs-toggle=modal data-bs-target=#modal-ed82a298f279da922a8d7e913b1c002e>XenForo: Первичные настройки движка и параметры системы</a></h2></div></header><div class=node-body><p>У меня в проекте находятся несколько форумов на движке XenForo. Здесь я собрал для себя первичные параметры и настройки движка XenForo.</p></div></article></div><div class="d-none d-md-block"><article class="node-articles d-flex overflow-hidden"><div class="flex-shrink-0 me-3"><div class=node-cover><a title="XenForo: Первичные настройки движка и параметры системы" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/08/8ddf3622-5dd8-5101-9c40-2f3e08f4a579/ data-bs-toggle=modal data-bs-target=#modal-ed82a298f279da922a8d7e913b1c002e><img class=img-fluid src="https://images.unsplash.com/photo-1429772011165-0c2e054367b8?crop=edges&amp;w=160&amp;h=160&amp;fit=crop&amp;auto=compress,format" width=160 height=160 alt="XenForo: Первичные настройки движка и параметры системы" loading=lazy></a></div></div><div class="flex-grow-1 overflow-hidden"><header><div class=node-title><h2 class=h5><a href=/ru/articles/2021/08/8ddf3622-5dd8-5101-9c40-2f3e08f4a579/ data-bs-toggle=modal data-bs-target=#modal-ed82a298f279da922a8d7e913b1c002e>XenForo: Первичные настройки движка и параметры системы</a></h2></div></header><div class=node-body><p>У меня в проекте находятся несколько форумов на движке XenForo. Здесь я собрал для себя первичные параметры и настройки движка XenForo.</p></div></div></article></div><div class="modal fade" id=modal-ed82a298f279da922a8d7e913b1c002e tabindex=-1 aria-labelledby=modal-ed82a298f279da922a8d7e913b1c002e-label aria-hidden=true><div class="modal-dialog modal-fullscreen"><div class=modal-content><div class=modal-header><h2 class="modal-title fs-5 text-truncate" id=modal-ed82a298f279da922a8d7e913b1c002e-label><a href=/ru/articles/2021/08/8ddf3622-5dd8-5101-9c40-2f3e08f4a579/>XenForo: Первичные настройки движка и параметры системы</a></h2><button type=button class=btn-close data-bs-dismiss=modal aria-label=Закрыть></button></div><div class=modal-body><div class=node-body><p>У меня в проекте находятся несколько форумов на движке XenForo. Здесь я собрал для себя первичные параметры и настройки движка XenForo.</p><h2 id=2096671276-файл-конфигурации><a class=link-body-emphasis href=#2096671276-%d1%84%d0%b0%d0%b9%d0%bb-%d0%ba%d0%be%d0%bd%d1%84%d0%b8%d0%b3%d1%83%d1%80%d0%b0%d1%86%d0%b8%d0%b8>Файл конфигурации</a></h2><p>Примеры параметров в файле config.php для первоначальной установки и запуска системы.</p><div class="shortcode shortcode-file mb-3"><div class="card overflow-hidden"><div class=card-header><div class="d-flex align-items-center"><div class=flex-shrink-0><i class="far fa-file-code fa-fw"></i></div><div class="flex-grow-1 mx-2"><code>config.php</code></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-87d2733cfd024bb315283e4bfead14f6 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li><li class=list-inline-item data-bs-tooltip data-bs-title=Скачать><a class=text-body href=config.php download role=button aria-label=Скачать><i class="fas fa-download fa-fw"></i></a></li><li class=list-inline-item data-bs-tooltip data-bs-title=Открыть><a class=text-body href=config.php target=_blank role=button aria-label=Открыть><i class="fas fa-arrow-up-right-from-square fa-fw"></i></a></li></ul></div></div></div><div class=card-body id=clipboard-87d2733cfd024bb315283e4bfead14f6><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=o>&lt;?</span><span class=nx>php</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Database.
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nv>$config</span><span class=p>[</span><span class=s1>&#39;db&#39;</span><span class=p>][</span><span class=s1>&#39;host&#39;</span><span class=p>]</span>                             <span class=o>=</span> <span class=s1>&#39;127.0.0.1&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nv>$config</span><span class=p>[</span><span class=s1>&#39;db&#39;</span><span class=p>][</span><span class=s1>&#39;port&#39;</span><span class=p>]</span>                             <span class=o>=</span> <span class=mi>3306</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nv>$config</span><span class=p>[</span><span class=s1>&#39;db&#39;</span><span class=p>][</span><span class=s1>&#39;username&#39;</span><span class=p>]</span>                         <span class=o>=</span> <span class=s1>&#39;&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nv>$config</span><span class=p>[</span><span class=s1>&#39;db&#39;</span><span class=p>][</span><span class=s1>&#39;password&#39;</span><span class=p>]</span>                         <span class=o>=</span> <span class=s1>&#39;&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nv>$config</span><span class=p>[</span><span class=s1>&#39;db&#39;</span><span class=p>][</span><span class=s1>&#39;dbname&#39;</span><span class=p>]</span>                           <span class=o>=</span> <span class=s1>&#39;&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nv>$config</span><span class=p>[</span><span class=s1>&#39;db&#39;</span><span class=p>][</span><span class=s1>&#39;socket&#39;</span><span class=p>]</span>                           <span class=o>=</span> <span class=k>null</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Unicode support.
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nv>$config</span><span class=p>[</span><span class=s1>&#39;fullUnicode&#39;</span><span class=p>]</span>                            <span class=o>=</span> <span class=k>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Site-wide feature.
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nv>$config</span><span class=p>[</span><span class=s1>&#39;enableTfa&#39;</span><span class=p>]</span>                              <span class=o>=</span> <span class=k>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nv>$config</span><span class=p>[</span><span class=s1>&#39;enableApi&#39;</span><span class=p>]</span>                              <span class=o>=</span> <span class=k>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nv>$config</span><span class=p>[</span><span class=s1>&#39;enableOneClickUpgrade&#39;</span><span class=p>]</span>                  <span class=o>=</span> <span class=k>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Cookie.
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nv>$config</span><span class=p>[</span><span class=s1>&#39;cookie&#39;</span><span class=p>][</span><span class=s1>&#39;prefix&#39;</span><span class=p>]</span>                       <span class=o>=</span> <span class=s1>&#39;xf_&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Data and script locations.
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nv>$config</span><span class=p>[</span><span class=s1>&#39;externalDataPath&#39;</span><span class=p>]</span>                       <span class=o>=</span> <span class=s1>&#39;storage/data&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nv>$config</span><span class=p>[</span><span class=s1>&#39;externalDataUrl&#39;</span><span class=p>]</span>                        <span class=o>=</span> <span class=s1>&#39;storage/data&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nv>$config</span><span class=p>[</span><span class=s1>&#39;internalDataPath&#39;</span><span class=p>]</span>                       <span class=o>=</span> <span class=s1>&#39;storage/data.int&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nv>$config</span><span class=p>[</span><span class=s1>&#39;codeCachePath&#39;</span><span class=p>]</span>                          <span class=o>=</span> <span class=s1>&#39;%s/cache/code&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nv>$config</span><span class=p>[</span><span class=s1>&#39;tempDataPath&#39;</span><span class=p>]</span>                           <span class=o>=</span> <span class=s1>&#39;%s/temp&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nv>$config</span><span class=p>[</span><span class=s1>&#39;javaScriptUrl&#39;</span><span class=p>]</span>                          <span class=o>=</span> <span class=s1>&#39;js&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Auth.
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nv>$config</span><span class=p>[</span><span class=s1>&#39;auth&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=s1>&#39;algo&#39;</span> <span class=o>=&gt;</span> <span class=nx>PASSWORD_ARGON2ID</span>
</span></span><span class=line><span class=cl><span class=p>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Cache.
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=cm>/*
</span></span></span><span class=line><span class=cl><span class=cm>$config[&#39;cache&#39;][&#39;enabled&#39;]                       = true;
</span></span></span><span class=line><span class=cl><span class=cm>$config[&#39;cache&#39;][&#39;provider&#39;]                      = &#39;Redis&#39;;
</span></span></span><span class=line><span class=cl><span class=cm>$config[&#39;cache&#39;][&#39;config&#39;]                        = [
</span></span></span><span class=line><span class=cl><span class=cm>  &#39;host&#39; =&gt; &#39;127.0.0.1&#39;,
</span></span></span><span class=line><span class=cl><span class=cm>  &#39;password&#39; =&gt; &#39;&#39;,
</span></span></span><span class=line><span class=cl><span class=cm>  &#39;database&#39; =&gt; 1
</span></span></span><span class=line><span class=cl><span class=cm>];
</span></span></span><span class=line><span class=cl><span class=cm>*/</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Guest page caching.
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=cm>/*
</span></span></span><span class=line><span class=cl><span class=cm>$config[&#39;pageCache&#39;][&#39;enabled&#39;]                   = true;
</span></span></span><span class=line><span class=cl><span class=cm>$config[&#39;cache&#39;][&#39;context&#39;][&#39;page&#39;][&#39;provider&#39;]   = &#39;Filesystem&#39;;
</span></span></span><span class=line><span class=cl><span class=cm>$config[&#39;cache&#39;][&#39;context&#39;][&#39;page&#39;][&#39;config&#39;]     = [
</span></span></span><span class=line><span class=cl><span class=cm>  &#39;directory&#39; =&gt; &#39;&#39;
</span></span></span><span class=line><span class=cl><span class=cm>];
</span></span></span><span class=line><span class=cl><span class=cm>*/</span></span></span></code></pre></div></div></div></div><h2 id=2096671276-регистрация-пользователей><a class=link-body-emphasis href=#2096671276-%d1%80%d0%b5%d0%b3%d0%b8%d1%81%d1%82%d1%80%d0%b0%d1%86%d0%b8%d1%8f-%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d0%be%d0%b2%d0%b0%d1%82%d0%b5%d0%bb%d0%b5%d0%b9>Регистрация пользователей</a></h2><p>Параметры для регистрации пользователей.</p><p><strong>Регулярное выражение:</strong></p><div class="shortcode shortcode-codeblock shortcode-codeblock-0 shortcode-codeblock-text"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-95f88143a30842b90e9fbdc1edfec017><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>#(?!^[\d\-\_\s]+$)^(([a-zA-Z0-9\-\_\s]+)|(((\xD0[\x80-\xBF])|(\xD1[\x80-\xBF])|([0-9\-\_\s]))+))$#</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-95f88143a30842b90e9fbdc1edfec017 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><h2 id=2096671276-теги><a class=link-body-emphasis href=#2096671276-%d1%82%d0%b5%d0%b3%d0%b8>Теги</a></h2><p>Параметры для ввода тегов.</p><p><strong>Регулярное выражение:</strong></p><div class="shortcode shortcode-codeblock shortcode-codeblock-1 shortcode-codeblock-text"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-87e80f0d6da9662e782028c68417d641><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>#(?!^[\d\-\_\s]+$)^(([a-zA-Z0-9\-\_\s]+)|(((\xD0[\x80-\xBF])|(\xD1[\x80-\xBF])|([0-9\-\_\s]))+))$#</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-87e80f0d6da9662e782028c68417d641 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><h2 id=2096671276-группы-пользователей><a class=link-body-emphasis href=#2096671276-%d0%b3%d1%80%d1%83%d0%bf%d0%bf%d1%8b-%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d0%be%d0%b2%d0%b0%d1%82%d0%b5%d0%bb%d0%b5%d0%b9>Группы пользователей</a></h2><p>Настройки групп пользователей.</p><p><strong>Стандартные группы:</strong></p><ul><li>Unregistered / Unconfirmed <code>ID(1)</code></li><li>Registered <code>ID(2)</code></li><li>Administrative <code>ID(3)</code></li><li>Moderating <code>ID(4)</code></li></ul></div></div><div class=modal-footer><ul class="list-inline text-center text-body-secondary small"><li class=list-inline-item><a href=https://lib.onl/ru/tags/cms/>#cms</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/cmf/>#cmf</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/php/>#php</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/xenforo/>#xenforo</a></li><li class=list-inline-item>&bull;</li><li class="list-inline-item text-success" data-bs-tooltip data-bs-title='Уровень сложности: Простой'><i class="far fa-face-smile fa-fw"></i></li><li class=list-inline-item>&bull;</li><li class=list-inline-item><time datetime=2021-08-18T06:55:19Z data-fn=date-local>2021/08/18 06:55:19 UTC</time></li></ul></div></div></div></div></div><div class=col><div class="d-sm-block d-md-none"><article class=node-articles><header><div class="node-cover mb-3"><a title="Условия в шаблонах XenForo 2" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/08/f9a39e37-8816-5f80-8133-893f3dc8f352/ data-bs-toggle=modal data-bs-target=#modal-ca4ac77307b677ce8dab19860caf6f35><picture><source srcset='https://images.unsplash.com/photo-1488590528505-98d2b5aba04b?crop=edges&amp;w=640&amp;h=360&amp;fit=crop&amp;auto=compress,format 640w,https://images.unsplash.com/photo-1488590528505-98d2b5aba04b?crop=edges&amp;w=768&amp;h=432&amp;fit=crop&amp;auto=compress,format 768w,https://images.unsplash.com/photo-1488590528505-98d2b5aba04b?crop=edges&amp;w=1024&amp;h=576&amp;fit=crop&amp;auto=compress,format 1024w,https://images.unsplash.com/photo-1488590528505-98d2b5aba04b?crop=edges&amp;w=1280&amp;h=720&amp;fit=crop&amp;auto=compress,format 1280w,https://images.unsplash.com/photo-1488590528505-98d2b5aba04b?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format 1600w' sizes="(min-width: 576px) 100vw"><img class=img-fluid src="https://images.unsplash.com/photo-1488590528505-98d2b5aba04b?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format" width=1600 height=900 alt="Условия в шаблонах XenForo 2" loading=lazy></picture></a></div><div class=node-title><h2 class=h5><a href=/ru/articles/2021/08/f9a39e37-8816-5f80-8133-893f3dc8f352/ data-bs-toggle=modal data-bs-target=#modal-ca4ac77307b677ce8dab19860caf6f35>Условия в шаблонах XenForo 2</a></h2></div></header><div class=node-body><p>Представляю список условий, которые можно использовать в шаблонах <strong>XenForo</strong>. Все возможные условия перечислить затруднительно, потому что существует множество различных вариантов фильтрации и выборки …</p></div></article></div><div class="d-none d-md-block"><article class="node-articles d-flex overflow-hidden"><div class="flex-shrink-0 me-3"><div class=node-cover><a title="Условия в шаблонах XenForo 2" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/08/f9a39e37-8816-5f80-8133-893f3dc8f352/ data-bs-toggle=modal data-bs-target=#modal-ca4ac77307b677ce8dab19860caf6f35><img class=img-fluid src="https://images.unsplash.com/photo-1488590528505-98d2b5aba04b?crop=edges&amp;w=160&amp;h=160&amp;fit=crop&amp;auto=compress,format" width=160 height=160 alt="Условия в шаблонах XenForo 2" loading=lazy></a></div></div><div class="flex-grow-1 overflow-hidden"><header><div class=node-title><h2 class=h5><a href=/ru/articles/2021/08/f9a39e37-8816-5f80-8133-893f3dc8f352/ data-bs-toggle=modal data-bs-target=#modal-ca4ac77307b677ce8dab19860caf6f35>Условия в шаблонах XenForo 2</a></h2></div></header><div class=node-body><p>Представляю список условий, которые можно использовать в шаблонах <strong>XenForo</strong>. Все возможные условия перечислить затруднительно, потому что существует множество различных вариантов фильтрации и выборки …</p></div></div></article></div><div class="modal fade" id=modal-ca4ac77307b677ce8dab19860caf6f35 tabindex=-1 aria-labelledby=modal-ca4ac77307b677ce8dab19860caf6f35-label aria-hidden=true><div class="modal-dialog modal-fullscreen"><div class=modal-content><div class=modal-header><h2 class="modal-title fs-5 text-truncate" id=modal-ca4ac77307b677ce8dab19860caf6f35-label><a href=/ru/articles/2021/08/f9a39e37-8816-5f80-8133-893f3dc8f352/>Условия в шаблонах XenForo 2</a></h2><button type=button class=btn-close data-bs-dismiss=modal aria-label=Закрыть></button></div><div class=modal-body><div class=node-body><p>Представляю список условий, которые можно использовать в шаблонах <strong>XenForo</strong>. Все возможные условия перечислить затруднительно, потому что существует множество различных вариантов фильтрации и выборки информации. Здесь представлены наиболее популярные варианты.</p><p>С этой статьи я начинаю попытку восстановления накопленных данных за период моей деятельности в качестве исследователя и разработчика веб-приложений.</p><h2 id=2151524139-условия-в-шаблонах><a class=link-body-emphasis href=#2151524139-%d1%83%d1%81%d0%bb%d0%be%d0%b2%d0%b8%d1%8f-%d0%b2-%d1%88%d0%b0%d0%b1%d0%bb%d0%be%d0%bd%d0%b0%d1%85>Условия в шаблонах</a></h2><ol><li>Отображение информации только администраторам.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-0 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-40a5053d9b2f593893f2e47d51a44908><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;$xf.visitor.is_admin&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-40a5053d9b2f593893f2e47d51a44908 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=2><li>Отображение информации только модераторам.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-1 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-b41791a639f46350830d71db1b60f379><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;$xf.visitor.is_moderator&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-b41791a639f46350830d71db1b60f379 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=3><li>Отображение информации только администраторам и модераторам.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-2 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-b21eee7f6af138fa8d8f02fe3d93bd12><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;$xf.visitor.is_admin OR $xf.visitor.is_moderator&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-b21eee7f6af138fa8d8f02fe3d93bd12 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=4><li>Отображение информации только зарегистрированному пользователю</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-3 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-552b32e67b4816a33aa34a0b0284af2b><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;$xf.visitor.user_id&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-552b32e67b4816a33aa34a0b0284af2b role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=5><li>Отображение информации гостю.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-4 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-4b92802bc24efb7a2712e3e21e59f7c9><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;!$xf.visitor.user_id&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-4b92802bc24efb7a2712e3e21e59f7c9 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=6><li>Отображение разной информации зарегистрированному пользователю и гостю.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-5 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-32d78b64f5d86474b3664cba59250f9a><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;!$xf.visitor.user_id&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content for members --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:else</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content for guests --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-32d78b64f5d86474b3664cba59250f9a role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=7><li>Отображение информации только заблокированным пользователям.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-6 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-bad816b0bb06b421d48de3a38044a300><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;$user.is_banned&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-bad816b0bb06b421d48de3a38044a300 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=8><li>Отображение информации только если у пользователя симпатий больше определённого количества.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-7 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-cfc5957767f0c2e4942b4097e6007d09><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;$user.like_count|number &gt; X&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-cfc5957767f0c2e4942b4097e6007d09 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=9><li>Отображение информации только если у пользователя сообщений больше определённого количества.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-8 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-71cbe3d658d044e3f6a5b94e1002ffd6><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;{$xf.visitor.message_count|number} &gt; X&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-71cbe3d658d044e3f6a5b94e1002ffd6 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=10><li>Отображение информации только если у пользователя очков больше определённого количества.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-9 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-f1af42351a3c059087e398e66891e8f6><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;$user.trophy_points|number &gt; X&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-f1af42351a3c059087e398e66891e8f6 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=11><li>Отображение информации определённому пользователю.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-10 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-571179e53820399f46be3b2903859989><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;$xf.visitor.user_id == X&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-571179e53820399f46be3b2903859989 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=12><li>Отображение информации определённым пользователям.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-11 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-7a679a16cfcb05e470e4d3c469c3d8ce><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;in_array($xf.visitor.user_id, [X, Y, Z])&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-7a679a16cfcb05e470e4d3c469c3d8ce role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=13><li>(1) Отображение информации определённым группам пользователей.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-12 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-78347aa6202214ec3a3681c8165ba7be><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;{{$xf.visitor.isMemberOf([X, Y])}}&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-78347aa6202214ec3a3681c8165ba7be role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=13><li>(2) Отображение информации определённой группе пользователей.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-13 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-8214fd374a544293e2217db6b8336878><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;{{$xf.visitor.isMemberOf(X)}}&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-8214fd374a544293e2217db6b8336878 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=14><li>(1) Скрытие информации от определённых групп пользователей.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-14 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-668683e501f383b03f13b6819a9bd953><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;{{!$xf.visitor.isMemberOf([X, Y])}}&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-668683e501f383b03f13b6819a9bd953 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=14><li>(2) Скрытие информации от определённой группы пользователей.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-15 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-cdb3bbe53c5c118eaa8c8c66eb31f491><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;{{!$xf.visitor.isMemberOf(X)}}&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-cdb3bbe53c5c118eaa8c8c66eb31f491 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=15><li>(1) Отображение информации после первого сообщения в теме.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-16 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-33413f54158f075235d5fba438216452><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;$post.position % $xf.options.messagesPerPage == 0&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-33413f54158f075235d5fba438216452 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=15><li>(2) Отображение информации через определённое количества сообщений.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-17 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-84a7a470bfce9e6ed30219f16c498541><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;$post.position % $xf.options.messagesPerPage == X&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-84a7a470bfce9e6ed30219f16c498541 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=16><li>Отображение информации на странице, на которой присутствует боковая панель.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-18 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-aa43ebc2e4c57e8b785eab4f76bad8cc><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;$sidebar&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-aa43ebc2e4c57e8b785eab4f76bad8cc role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=17><li>Отображение информации на главной (домашней) странице форума.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-19 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-6611ceceb03c035f43a59cd057c01ed3><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;$template == &#39;forum_list&#39;&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-6611ceceb03c035f43a59cd057c01ed3 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=18><li>Скрытие информации только с главной (домашней) странице форума.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-20 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-a42744bc993d4174861ba3832aa3f412><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;$template !== &#39;forum_list&#39;&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-a42744bc993d4174861ba3832aa3f412 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=19><li>Отображение информации на странице создания новой темы.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-21 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-c80c9f223bd9b5886ce7241e9728d554><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;$template == &#39;forum_post_thread&#39;&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-c80c9f223bd9b5886ce7241e9728d554 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=20><li>Скрытие информации на странице создания новой темы.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-22 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-0dde65e87c4fb7172aff6829565aaec9><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;$template != &#39;forum_post_thread&#39;&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-0dde65e87c4fb7172aff6829565aaec9 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=21><li>Отображение информации на странице создания нового ресурса.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-23 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-81198912b408e131165078cd7fd0452c><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;$template == &#39;xfrm_category_add_resource&#39;&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-81198912b408e131165078cd7fd0452c role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=22><li>Скрытие информации на странице создания нового ресурса.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-24 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-6361da2b879ad2fb6a19899b70d970b7><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;$template != &#39;xfrm_category_add_resource&#39;&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-6361da2b879ad2fb6a19899b70d970b7 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=23><li>Отображение информации на странице поисковой формы.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-25 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-8a263dd83e04ecac950bec2c1bdb6aa0><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;$template == &#39;search_form&#39;&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-8a263dd83e04ecac950bec2c1bdb6aa0 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=24><li>Скрытие информации на странице поисковой формы.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-26 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-68cf2f1326bee52b34fd9b71ce1cd817><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;$template != &#39;search_form&#39;&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-68cf2f1326bee52b34fd9b71ce1cd817 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=25><li>Отображение информации на странице &ldquo;Что нового?&rdquo;.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-27 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-0138494e2724cc85a57f21340f21f6a0><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;$template == &#39;whats_new&#39;&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-0138494e2724cc85a57f21340f21f6a0 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=26><li>Скрытие информации на странице &ldquo;Что нового?&rdquo;.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-28 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-beeaa7563d235a6b4a65559c7811c5c8><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;$template != &#39;whats_new&#39;&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-beeaa7563d235a6b4a65559c7811c5c8 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=27><li>Отображение информации на странице просмотра личной переписки.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-29 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-59fa0cd39e96bee6d1cf4bfea7ae2868><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;$template == &#39;conversation_view&#39;&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-59fa0cd39e96bee6d1cf4bfea7ae2868 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=28><li>Скрытие информации на странице просмотра личной переписки.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-30 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-332ac45778c636476931d4bbe7c9edf3><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;$template != &#39;conversation_view&#39;&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-332ac45778c636476931d4bbe7c9edf3 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=29><li>Отображение информации на странице просмотра списка личных переписок.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-31 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-416d6c2b1c3615767338ad47bedb779c><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;$template == &#39;conversation_list&#39;&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-416d6c2b1c3615767338ad47bedb779c role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=30><li>Скрытие информации на странице просмотра списка личных переписок.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-32 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-a63b11ab273f823d3439f07800304221><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;$template != &#39;conversation_list&#39;&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-a63b11ab273f823d3439f07800304221 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=31><li>Отображение информации на главной странице ресурсов.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-33 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-ec276a3751de7cb9c807d778a6ebccf0><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;$template == &#39;xfrm_overview&#39;&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-ec276a3751de7cb9c807d778a6ebccf0 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=32><li>Скрытие информации на главной странице ресурсов.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-34 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-b2103cb09f73c88a2c50451f430e78e7><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;$template != &#39;xfrm_overview&#39;&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-b2103cb09f73c88a2c50451f430e78e7 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=33><li>Отображение информации на странице просмотра ресурса.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-35 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-42b646a41ed6c825025204d268902a2f><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;$template == &#39;xfrm_resource_view&#39;&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-42b646a41ed6c825025204d268902a2f role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=34><li>Скрытие информации на странице просмотра ресурса.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-36 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-34ac4e53c3d51c5d3b0b4994a4197859><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;$template != &#39;xfrm_resource_view&#39;&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-34ac4e53c3d51c5d3b0b4994a4197859 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=35><li>Отображение информации на странице просмотра темы.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-37 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-38339522f2a9ac3ed8f542fa7554f89c><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;$template == &#39;thread_view&#39;&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-38339522f2a9ac3ed8f542fa7554f89c role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=36><li>Скрытие информации на странице просмотра темы.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-38 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-b423b4920dfba2a3fdb167b197087cf9><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;$template !=&#39;thread_view&#39;&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-b423b4920dfba2a3fdb167b197087cf9 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=37><li>Отображение информации на странице просмотра форума (раздела).</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-39 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-b1d8e7fa1065240e8d362e6acb77f671><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;$template ==&#39;forum_view&#39;&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-b1d8e7fa1065240e8d362e6acb77f671 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=38><li>Скрытие информации на странице просмотра форума (раздела).</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-40 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-cacdf3d5b02a52c6659387d0fab8452e><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;$template != &#39;forum_view&#39;&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-cacdf3d5b02a52c6659387d0fab8452e role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=39><li>Отображение информации &ldquo;наказанным&rdquo; пользователям.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-41 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-3bf9dcab67a99a3e3e15273158e3c28c><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;{$xf.visitor.Option.is_discouraged}&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-3bf9dcab67a99a3e3e15273158e3c28c role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=40><li>Отображение информации пользователям, которые имеют Gravatar.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-42 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-028c79164c883a77d9a62e4a87f627cc><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;{$xf.visitor.gravatar}&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-028c79164c883a77d9a62e4a87f627cc role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=41><li>Отображение информации пользователям поддержки форума.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-43 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-74684481dd9fe12d60e455d198463622><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;{$xf.visitor.is_staff}&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-74684481dd9fe12d60e455d198463622 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=42><li>Отображение информации пользователям без подтверждённого адреса e-mail.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-44 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-3b817e609c8411f447611275adf569f3><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;{$xf.visitor.isAwaitingEmailConfirmation()}&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-3b817e609c8411f447611275adf569f3 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=43><li>Отображение информации в нескольких форумах (разделах).</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-45 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-d38782ae84052709f2b7e1c7d40f6110><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;in_array({$forum.node_id}, [X, Y, Z])&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-d38782ae84052709f2b7e1c7d40f6110 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=44><li>Скрытие информации в нескольких форумах (разделах).</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-46 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-2abb405fc79a41bdae2e89512d6415e8><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;in_array($forum.node_id, [X, Y, Z])&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-2abb405fc79a41bdae2e89512d6415e8 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=45><li>Отображение информации в определённом форуме (разделе).</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-47 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-1220facac6fc59abac496834aa6f293a><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;$forum.node_id == X&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-1220facac6fc59abac496834aa6f293a role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=46><li>Скрытие информации в определённом форуме (разделе).</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-48 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-e6e7721d3cb23de5e29ddece4b8085c3><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;$forum.node_id != 3&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-e6e7721d3cb23de5e29ddece4b8085c3 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=47><li>Отображение информации только после первого сообщения в каждой теме.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-49 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-fe740b2561b51d34c9ce80246cd244a6><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;{$post.position} % {$xf.options.messagesPerPage} == 1&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-fe740b2561b51d34c9ce80246cd244a6 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=48><li>Отображение информации только внутри первого сообщения в каждой теме.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-50 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-f47404a93aeedd03bd779437bac240bc><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;{$post.position} % {$xf.options.messagesPerPage} == 0&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-f47404a93aeedd03bd779437bac240bc role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=49><li>Отображение информации только при заполненном поле местоположения.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-51 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-99359cd81472a6c2ae8cbc7d476a6738><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;{$xf.visitor.location}&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-99359cd81472a6c2ae8cbc7d476a6738 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=50><li>Отображение информации только при заполненном поле веб-сайта.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-52 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-d0457ce5cb2b4fbcae5539ef570526a4><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;{$xf.visitor.website}&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-d0457ce5cb2b4fbcae5539ef570526a4 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=51><li>Отображение информации при указанной подписи.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-53 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-a8a0a697170cad1700baaeac761b90d2><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;{$xf.visitor.signature}&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-a8a0a697170cad1700baaeac761b90d2 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=52><li>Отображение информации только активированным пользователям.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-54 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-cc71ccaeef0db162ce0cff661ee59bfa><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;{$xf.visitor.user_state} == &#39;valid&#39;&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-cc71ccaeef0db162ce0cff661ee59bfa role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=53><li>Отображение информации только пользователям, ожидающим подтверждения адреса e-mail.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-55 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-434afbc8548d0d15020429a1807781cc><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;{$xf.visitor.user_state} == &#39;email_confirm_edit&#39;&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-434afbc8548d0d15020429a1807781cc role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=54><li>Отображение информации только пользователям с проблемным адресом e-mail.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-56 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-3d981e3844b8ce03a4d20a7827e5ccb6><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;{$xf.visitor.user_state} == &#39;email_bounce&#39;&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-3d981e3844b8ce03a4d20a7827e5ccb6 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=55><li>Отображение информации, если ID пользователя = ID автора темы.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-57 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-5e444476ff5dd820ee0cba815464b1ee><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;{$__globals.thread} AND {$__globals.thread.user_id} == {$user.user_id}&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-5e444476ff5dd820ee0cba815464b1ee role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=56><li>Отображение информации пользователю, который является автором темы.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-58 shortcode-codeblock-html"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-f7bf80a14c48a0a649cfccb4ae1249df><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>xf:if</span> <span class=na>is</span><span class=o>=</span><span class=s>&#34;{$thread.user_id} == {$xf.visitor.user_id}&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- content --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>xf:if</span><span class=p>&gt;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-f7bf80a14c48a0a649cfccb4ae1249df role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div></div></div><div class=modal-footer><ul class="list-inline text-center text-body-secondary small"><li class=list-inline-item><a href=https://lib.onl/ru/tags/html/>#html</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/xenforo/>#xenforo</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/cms/>#cms</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/cmf/>#cmf</a></li><li class=list-inline-item>&bull;</li><li class="list-inline-item text-warning" data-bs-tooltip data-bs-title='Уровень сложности: Средний'><i class="far fa-face-meh fa-fw"></i></li><li class=list-inline-item>&bull;</li><li class=list-inline-item><time datetime=2021-08-17T12:21:10Z data-fn=date-local>2021/08/17 12:21:10 UTC</time></li></ul></div></div></div></div></div><div class=col><div class="d-sm-block d-md-none"><article class=node-articles><header><div class="node-cover mb-3"><a title="Настройка и использование Git" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/08/c35f395f-5921-55eb-afcf-1ad812a1a9d9/ data-bs-toggle=modal data-bs-target=#modal-0110dd716708232031f205e093b615ce><picture><source srcset='https://images.unsplash.com/photo-1556075798-4825dfaaf498?crop=edges&amp;w=640&amp;h=360&amp;fit=crop&amp;auto=compress,format 640w,https://images.unsplash.com/photo-1556075798-4825dfaaf498?crop=edges&amp;w=768&amp;h=432&amp;fit=crop&amp;auto=compress,format 768w,https://images.unsplash.com/photo-1556075798-4825dfaaf498?crop=edges&amp;w=1024&amp;h=576&amp;fit=crop&amp;auto=compress,format 1024w,https://images.unsplash.com/photo-1556075798-4825dfaaf498?crop=edges&amp;w=1280&amp;h=720&amp;fit=crop&amp;auto=compress,format 1280w,https://images.unsplash.com/photo-1556075798-4825dfaaf498?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format 1600w' sizes="(min-width: 576px) 100vw"><img class=img-fluid src="https://images.unsplash.com/photo-1556075798-4825dfaaf498?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format" width=1600 height=900 alt="Настройка и использование Git" loading=lazy></picture></a></div><div class=node-title><h2 class=h5><a href=/ru/articles/2021/08/c35f395f-5921-55eb-afcf-1ad812a1a9d9/ data-bs-toggle=modal data-bs-target=#modal-0110dd716708232031f205e093b615ce>Настройка и использование Git</a></h2></div></header><div class=node-body><p>В этой заметке я приведу параметры Git, которые сам использую при работе с репозиториями.</p></div></article></div><div class="d-none d-md-block"><article class="node-articles d-flex overflow-hidden"><div class="flex-shrink-0 me-3"><div class=node-cover><a title="Настройка и использование Git" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/08/c35f395f-5921-55eb-afcf-1ad812a1a9d9/ data-bs-toggle=modal data-bs-target=#modal-0110dd716708232031f205e093b615ce><img class=img-fluid src="https://images.unsplash.com/photo-1556075798-4825dfaaf498?crop=edges&amp;w=160&amp;h=160&amp;fit=crop&amp;auto=compress,format" width=160 height=160 alt="Настройка и использование Git" loading=lazy></a></div></div><div class="flex-grow-1 overflow-hidden"><header><div class=node-title><h2 class=h5><a href=/ru/articles/2021/08/c35f395f-5921-55eb-afcf-1ad812a1a9d9/ data-bs-toggle=modal data-bs-target=#modal-0110dd716708232031f205e093b615ce>Настройка и использование Git</a></h2></div></header><div class=node-body><p>В этой заметке я приведу параметры Git, которые сам использую при работе с репозиториями.</p></div></div></article></div><div class="modal fade" id=modal-0110dd716708232031f205e093b615ce tabindex=-1 aria-labelledby=modal-0110dd716708232031f205e093b615ce-label aria-hidden=true><div class="modal-dialog modal-fullscreen"><div class=modal-content><div class=modal-header><h2 class="modal-title fs-5 text-truncate" id=modal-0110dd716708232031f205e093b615ce-label><a href=/ru/articles/2021/08/c35f395f-5921-55eb-afcf-1ad812a1a9d9/>Настройка и использование Git</a></h2><button type=button class=btn-close data-bs-dismiss=modal aria-label=Закрыть></button></div><div class=modal-body><div class=node-body><p>В этой заметке я приведу параметры Git, которые сам использую при работе с репозиториями.</p><h2 id=3515797303-первичная-настройка><a class=link-body-emphasis href=#3515797303-%d0%bf%d0%b5%d1%80%d0%b2%d0%b8%d1%87%d0%bd%d0%b0%d1%8f-%d0%bd%d0%b0%d1%81%d1%82%d1%80%d0%be%d0%b9%d0%ba%d0%b0>Первичная настройка</a></h2><p>Для начала работы с Git&rsquo;ом, его необходимо хотя бы минимально настроить.</p><ol><li>Указать своё имя:</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-0 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-37e90f2250b109f48d921eab7b2f78cf><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git config --global user.name <span class=s2>&#34;John Doe&#34;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-37e90f2250b109f48d921eab7b2f78cf role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=2><li>Указать свой адрес e-mail:</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-1 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-22b9b21593a97e0726e2e4044dc4af0f><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git config --global user.email <span class=s2>&#34;johndoe@example.com&#34;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-22b9b21593a97e0726e2e4044dc4af0f role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><h2 id=3515797303-настройка-подписи><a class=link-body-emphasis href=#3515797303-%d0%bd%d0%b0%d1%81%d1%82%d1%80%d0%be%d0%b9%d0%ba%d0%b0-%d0%bf%d0%be%d0%b4%d0%bf%d0%b8%d1%81%d0%b8>Настройка подписи</a></h2><p>Хорошим тоном будет считаться подпись каждого своего коммита.</p><ol><li>Выяснить какие ключи установлены в системе (о создании ключей я публиковал заметку <span class="shortcode shortcode-uuid"><a href=/ru/articles/2020/07/7a204545-daa8-58ce-ba35-75e732e1bcc0/>GnuPG: Создание и работа с ключами шифрования</a></span>):</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-2 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-faae5fe1a16cff6c0b8e570b43f2a913><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>gpg --list-secret-keys --keyid-format<span class=o>=</span>long</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-faae5fe1a16cff6c0b8e570b43f2a913 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=2><li>Указать Git&rsquo;у всегда подписывать каждый коммит:</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-3 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-f086b1e5ed07f8b89115e12484918cb5><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git config --global commit.gpgsign true</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-f086b1e5ed07f8b89115e12484918cb5 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=3><li>Указать Git&rsquo;у идентификатор ключа для подписи коммита:</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-4 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-528b57d1a2878850c80ccef4e7b1bab7><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git config --global user.signingkey 3AA5C34371567BD2</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-528b57d1a2878850c80ccef4e7b1bab7 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><h2 id=3515797303-хранилище-паролей><a class=link-body-emphasis href=#3515797303-%d1%85%d1%80%d0%b0%d0%bd%d0%b8%d0%bb%d0%b8%d1%89%d0%b5-%d0%bf%d0%b0%d1%80%d0%be%d0%bb%d0%b5%d0%b9>Хранилище паролей</a></h2><p>Git по умолчанию не сохраняет регистрационные данные для репозиториев. Эта настройка позволяет указать Git&rsquo;у использовать для хранения регистрационных данных текстовый файл <code>~/.git-credentials</code>:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-5 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-8a4be2a5d429c5debbf70b87dfbfbd0f><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git config --global credential.helper store</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-8a4be2a5d429c5debbf70b87dfbfbd0f role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><h2 id=3515797303-отмена-изменений><a class=link-body-emphasis href=#3515797303-%d0%be%d1%82%d0%bc%d0%b5%d0%bd%d0%b0-%d0%b8%d0%b7%d0%bc%d0%b5%d0%bd%d0%b5%d0%bd%d0%b8%d0%b9>Отмена изменений</a></h2><p>Отмена конкретного коммита:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-6 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-1c4b820664af5b98fa5841164e444ec1><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git revert <span class=o>[</span>commit<span class=o>]</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-1c4b820664af5b98fa5841164e444ec1 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Отмена 2-х коммитов подряд:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-7 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-f948e3c201e4dcd5c4d93385dd5b1ade><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git revert HEAD~2</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-f948e3c201e4dcd5c4d93385dd5b1ade role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><h2 id=3515797303-модули><a class=link-body-emphasis href=#3515797303-%d0%bc%d0%be%d0%b4%d1%83%d0%bb%d0%b8>Модули</a></h2><p>Добавление модуля:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-8 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-9c9b50088bea0f3681505f58484e57d3><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git submodule add https://github.com/<span class=o>[</span>MODULE<span class=o>]</span> <span class=o>[</span>MODULE<span class=o>]</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-9c9b50088bea0f3681505f58484e57d3 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Рекурсивное обновление всех модулей:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-9 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-1d101e5bcf98e9b34679fde2066200c3><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git submodule update --recursive --remote --merge</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-1d101e5bcf98e9b34679fde2066200c3 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Удаление модуля:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-10 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-35fe54186bdbcb3063beadee3c35698c><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git submodule deinit -f <span class=o>[</span>MODULE<span class=o>]</span>  <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  <span class=o>&amp;&amp;</span> git rm -r --cached <span class=o>[</span>MODULE<span class=o>]</span>  <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  <span class=o>&amp;&amp;</span> rm -rf .git/modules/<span class=o>[</span>MODULE<span class=o>]</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  <span class=o>&amp;&amp;</span> rm -rf <span class=o>[</span>MODULE<span class=o>]</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-35fe54186bdbcb3063beadee3c35698c role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><h2 id=3515797303-изменение-адреса-репозитория><a class=link-body-emphasis href=#3515797303-%d0%b8%d0%b7%d0%bc%d0%b5%d0%bd%d0%b5%d0%bd%d0%b8%d0%b5-%d0%b0%d0%b4%d1%80%d0%b5%d1%81%d0%b0-%d1%80%d0%b5%d0%bf%d0%be%d0%b7%d0%b8%d1%82%d0%be%d1%80%d0%b8%d1%8f>Изменение адреса репозитория</a></h2><p>Показать текущий адрес:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-11 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-a3be53802168bdf873b6247e13ba0c82><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git remote -v</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-a3be53802168bdf873b6247e13ba0c82 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Установить новый адрес:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-12 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-e955bd719f0d35ccf1196303e3b4ac42><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git remote set-url origin <span class=s1>&#39;[URL]&#39;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-e955bd719f0d35ccf1196303e3b4ac42 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><h2 id=3515797303-изменение-описания-последнего-commitа><a class=link-body-emphasis href=#3515797303-%d0%b8%d0%b7%d0%bc%d0%b5%d0%bd%d0%b5%d0%bd%d0%b8%d0%b5-%d0%be%d0%bf%d0%b8%d1%81%d0%b0%d0%bd%d0%b8%d1%8f-%d0%bf%d0%be%d1%81%d0%bb%d0%b5%d0%b4%d0%bd%d0%b5%d0%b3%d0%be-commit%d0%b0>Изменение описания последнего commit&rsquo;а</a></h2><p>Если закралась ошибка в описании изменений кода при последнем commit&rsquo;е, это описание можно изменить при помощи команды:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-13 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-28ad5f9f91193bf900c7e28923c0fc97><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git commit --amend -m <span class=s1>&#39;New commit message.&#39;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-28ad5f9f91193bf900c7e28923c0fc97 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Далее, изменённый коммит принудительно отправить на сервер:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-14 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-e05b95d1a0469fc39b3943268d6ef80f><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git push --force <span class=s1>&#39;[remoteName]&#39;</span> <span class=s1>&#39;[branchName]&#39;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-e05b95d1a0469fc39b3943268d6ef80f role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="shortcode shortcode-codeblock shortcode-codeblock-15 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-facf6cfc9e8fbb19a31941c4f424d366><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git push --force <span class=s1>&#39;origin&#39;</span> <span class=s1>&#39;main&#39;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-facf6cfc9e8fbb19a31941c4f424d366 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div></div></div><div class=modal-footer><ul class="list-inline text-center text-body-secondary small"><li class=list-inline-item><a href=https://lib.onl/ru/tags/git/>#git</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/linux/>#linux</a></li><li class=list-inline-item>&bull;</li><li class="list-inline-item text-warning" data-bs-tooltip data-bs-title='Уровень сложности: Средний'><i class="far fa-face-meh fa-fw"></i></li><li class=list-inline-item>&bull;</li><li class=list-inline-item><time datetime=2021-08-14T15:52:38Z data-fn=date-local>2021/08/14 15:52:38 UTC</time></li></ul></div></div></div></div></div><div class=col><div class="d-sm-block d-md-none"><article class=node-articles><header><div class="node-cover mb-3"><a title="Зеркалирование репозитория между хостингами" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/07/3834fbed-71c8-5979-b6c2-236269f5ecea/ data-bs-toggle=modal data-bs-target=#modal-17e667c51f71676b36e78ff1fc2e847e><picture><source srcset='https://images.unsplash.com/photo-1611854571485-982a1f4ba294?crop=edges&amp;w=640&amp;h=360&amp;fit=crop&amp;auto=compress,format 640w,https://images.unsplash.com/photo-1611854571485-982a1f4ba294?crop=edges&amp;w=768&amp;h=432&amp;fit=crop&amp;auto=compress,format 768w,https://images.unsplash.com/photo-1611854571485-982a1f4ba294?crop=edges&amp;w=1024&amp;h=576&amp;fit=crop&amp;auto=compress,format 1024w,https://images.unsplash.com/photo-1611854571485-982a1f4ba294?crop=edges&amp;w=1280&amp;h=720&amp;fit=crop&amp;auto=compress,format 1280w,https://images.unsplash.com/photo-1611854571485-982a1f4ba294?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format 1600w' sizes="(min-width: 576px) 100vw"><img class=img-fluid src="https://images.unsplash.com/photo-1611854571485-982a1f4ba294?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format" width=1600 height=900 alt="Зеркалирование репозитория между хостингами" loading=lazy></picture></a></div><div class=node-title><h2 class=h5><a href=/ru/articles/2021/07/3834fbed-71c8-5979-b6c2-236269f5ecea/ data-bs-toggle=modal data-bs-target=#modal-17e667c51f71676b36e78ff1fc2e847e>Зеркалирование репозитория между хостингами</a></h2></div></header><div class=node-body><p>В предыдущей статье <span class="shortcode shortcode-uuid"><a href=/ru/articles/2021/05/8544b8ce-4586-578f-9633-e8ae43441a25/>Синхронизация репозитория от GitHub к GitLab</a></span> я рассказал о том, как организовать синхронизацию между репозиториями GIT на разных хостингах, в частности, между GitHub и GitLab. В …</p></div></article></div><div class="d-none d-md-block"><article class="node-articles d-flex overflow-hidden"><div class="flex-shrink-0 me-3"><div class=node-cover><a title="Зеркалирование репозитория между хостингами" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/07/3834fbed-71c8-5979-b6c2-236269f5ecea/ data-bs-toggle=modal data-bs-target=#modal-17e667c51f71676b36e78ff1fc2e847e><img class=img-fluid src="https://images.unsplash.com/photo-1611854571485-982a1f4ba294?crop=edges&amp;w=160&amp;h=160&amp;fit=crop&amp;auto=compress,format" width=160 height=160 alt="Зеркалирование репозитория между хостингами" loading=lazy></a></div></div><div class="flex-grow-1 overflow-hidden"><header><div class=node-title><h2 class=h5><a href=/ru/articles/2021/07/3834fbed-71c8-5979-b6c2-236269f5ecea/ data-bs-toggle=modal data-bs-target=#modal-17e667c51f71676b36e78ff1fc2e847e>Зеркалирование репозитория между хостингами</a></h2></div></header><div class=node-body><p>В предыдущей статье <span class="shortcode shortcode-uuid"><a href=/ru/articles/2021/05/8544b8ce-4586-578f-9633-e8ae43441a25/>Синхронизация репозитория от GitHub к GitLab</a></span> я рассказал о том, как организовать синхронизацию между репозиториями GIT на разных хостингах, в частности, между GitHub и GitLab. В …</p></div></div></article></div><div class="modal fade" id=modal-17e667c51f71676b36e78ff1fc2e847e tabindex=-1 aria-labelledby=modal-17e667c51f71676b36e78ff1fc2e847e-label aria-hidden=true><div class="modal-dialog modal-fullscreen"><div class=modal-content><div class=modal-header><h2 class="modal-title fs-5 text-truncate" id=modal-17e667c51f71676b36e78ff1fc2e847e-label><a href=/ru/articles/2021/07/3834fbed-71c8-5979-b6c2-236269f5ecea/>Зеркалирование репозитория между хостингами</a></h2><button type=button class=btn-close data-bs-dismiss=modal aria-label=Закрыть></button></div><div class=modal-body><div class=node-body><p>В предыдущей статье <span class="shortcode shortcode-uuid"><a href=/ru/articles/2021/05/8544b8ce-4586-578f-9633-e8ae43441a25/>Синхронизация репозитория от GitHub к GitLab</a></span> я рассказал о том, как организовать синхронизацию между репозиториями GIT на разных хостингах, в частности, между GitHub и GitLab. В итоге, я решил сделать <a title href=https://github.com/ghastore/github-mirror target=_blank rel="noopener noreferrer nofollow">собственный GitHub Action</a>, который позволяет полностью зеркалировать репозитории.</p><h2 id=3624086081-использование><a class=link-body-emphasis href=#3624086081-%d0%b8%d1%81%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d0%be%d0%b2%d0%b0%d0%bd%d0%b8%d0%b5>Использование</a></h2><p>Для подключения зеркалирования, к примеру, с GitHub на GitLab, необходимо в исходном репозитории создать файл <code>.github/workflows/mirror.yml</code>, в котором указать следующее содержимое:</p><div class="shortcode shortcode-file mb-3"><div class="card overflow-hidden"><div class=card-header><div class="d-flex align-items-center"><div class=flex-shrink-0><i class="far fa-file-code fa-fw"></i></div><div class="flex-grow-1 mx-2"><code>mirror.yml</code></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-5bd19c65ca4cf9bef69317ddfb8ce6b9 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li><li class=list-inline-item data-bs-tooltip data-bs-title=Скачать><a class=text-body href=mirror.yml download role=button aria-label=Скачать><i class="fas fa-download fa-fw"></i></a></li><li class=list-inline-item data-bs-tooltip data-bs-title=Открыть><a class=text-body href=mirror.yml target=_blank role=button aria-label=Открыть><i class="fas fa-arrow-up-right-from-square fa-fw"></i></a></li></ul></div></div></div><div class=card-body id=clipboard-5bd19c65ca4cf9bef69317ddfb8ce6b9><div class=highlight><pre tabindex=0 class=chroma><code class=language-yml data-lang=yml><span class=line><span class=cl><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;Repository Mirror&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>push</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>mirror</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;Mirror&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>pkgstore/github-action-mirror@main</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>src_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;https://github.com/${{ github.repository }}.git&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>src_user</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;${{ secrets.MIRROR_SOURCE_USER_GITHUB }}&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>src_token</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;${{ secrets.MIRROR_SOURCE_TOKEN_GITHUB }}&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>dsc_repo</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;https://gitlab.com/${{ github.repository }}.git&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>dsc_user</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;${{ secrets.MIRROR_TARGET_USER_GITLAB }}&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>dsc_token</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;${{ secrets.MIRROR_TARGET_TOKEN_GITLAB }}&#34;</span></span></span></code></pre></div></div></div></div><ul><li><code>src_repo</code> - <strong>URL</strong> исходного репозитория.</li><li><code>src_user</code> - <strong>пользователь</strong> исходного репозитория.</li><li><code>src_token</code> - <strong>токен пользователя</strong> исходного репозитория.</li><li><code>dsc_repo</code> - <strong>URL</strong> зеркального репозитория.</li><li><code>dsc_user</code> - <strong>пользователь</strong> зеркального репозитория.</li><li><code>dsc_token</code> - <strong>токен пользователя</strong> зеркального репозитория.</li></ul><p>В этом коде стоит обратить внимание на параметр <code>target_repo</code>. GitLab позволяет автоматически создавать репозиторий при зеркалировании, а так как у меня адреса репозиториев совпадают между GitHub и GitLab, мне гораздо проще выстроить конструкцию <code>https://gitlab.com/${{ github.repository }}.git</code>. Переменная <code>${{ github.repository }}</code> содержит имя пользователя / организации и название репозитория, и, при настройке зеркалирования репозитория на GitHub&rsquo;е, зеркало репозитория автоматически создаётся на GitLab&rsquo;е.</p></div></div><div class=modal-footer><ul class="list-inline text-center text-body-secondary small"><li class=list-inline-item><a href=https://lib.onl/ru/tags/git/>#git</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/github/>#github</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/gitlab/>#gitlab</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/mirror/>#mirror</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/sync/>#sync</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/action/>#action</a></li><li class=list-inline-item>&bull;</li><li class="list-inline-item text-success" data-bs-tooltip data-bs-title='Уровень сложности: Простой'><i class="far fa-face-smile fa-fw"></i></li><li class=list-inline-item>&bull;</li><li class=list-inline-item><time datetime=2021-07-06T17:40:43Z data-fn=date-local>2021/07/06 17:40:43 UTC</time></li></ul></div></div></div></div></div><div class=col><div class="d-sm-block d-md-none"><article class=node-articles><header><div class="node-cover mb-3"><a title="Генератор иконок для сайта" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/05/841ba281-a22b-55ee-b97d-251a5dc111d8/ data-bs-toggle=modal data-bs-target=#modal-88a4d8a2b89716a048c9580637349a93><picture><source srcset='https://images.unsplash.com/photo-1554061523-c90d630a7ac9?crop=edges&amp;w=640&amp;h=360&amp;fit=crop&amp;auto=compress,format 640w,https://images.unsplash.com/photo-1554061523-c90d630a7ac9?crop=edges&amp;w=768&amp;h=432&amp;fit=crop&amp;auto=compress,format 768w,https://images.unsplash.com/photo-1554061523-c90d630a7ac9?crop=edges&amp;w=1024&amp;h=576&amp;fit=crop&amp;auto=compress,format 1024w,https://images.unsplash.com/photo-1554061523-c90d630a7ac9?crop=edges&amp;w=1280&amp;h=720&amp;fit=crop&amp;auto=compress,format 1280w,https://images.unsplash.com/photo-1554061523-c90d630a7ac9?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format 1600w' sizes="(min-width: 576px) 100vw"><img class=img-fluid src="https://images.unsplash.com/photo-1554061523-c90d630a7ac9?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format" width=1600 height=900 alt="Генератор иконок для сайта" loading=lazy></picture></a></div><div class=node-title><h2 class=h5><a href=/ru/articles/2021/05/841ba281-a22b-55ee-b97d-251a5dc111d8/ data-bs-toggle=modal data-bs-target=#modal-88a4d8a2b89716a048c9580637349a93>Генератор иконок для сайта</a></h2></div></header><div class=node-body><p>Сделал для сайта автоматизированное создание иконок типа <code>favicon</code>, которыми пользуются браузеры и устройства для своих нужд.</p></div></article></div><div class="d-none d-md-block"><article class="node-articles d-flex overflow-hidden"><div class="flex-shrink-0 me-3"><div class=node-cover><a title="Генератор иконок для сайта" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/05/841ba281-a22b-55ee-b97d-251a5dc111d8/ data-bs-toggle=modal data-bs-target=#modal-88a4d8a2b89716a048c9580637349a93><img class=img-fluid src="https://images.unsplash.com/photo-1554061523-c90d630a7ac9?crop=edges&amp;w=160&amp;h=160&amp;fit=crop&amp;auto=compress,format" width=160 height=160 alt="Генератор иконок для сайта" loading=lazy></a></div></div><div class="flex-grow-1 overflow-hidden"><header><div class=node-title><h2 class=h5><a href=/ru/articles/2021/05/841ba281-a22b-55ee-b97d-251a5dc111d8/ data-bs-toggle=modal data-bs-target=#modal-88a4d8a2b89716a048c9580637349a93>Генератор иконок для сайта</a></h2></div></header><div class=node-body><p>Сделал для сайта автоматизированное создание иконок типа <code>favicon</code>, которыми пользуются браузеры и устройства для своих нужд.</p></div></div></article></div><div class="modal fade" id=modal-88a4d8a2b89716a048c9580637349a93 tabindex=-1 aria-labelledby=modal-88a4d8a2b89716a048c9580637349a93-label aria-hidden=true><div class="modal-dialog modal-fullscreen"><div class=modal-content><div class=modal-header><h2 class="modal-title fs-5 text-truncate" id=modal-88a4d8a2b89716a048c9580637349a93-label><a href=/ru/articles/2021/05/841ba281-a22b-55ee-b97d-251a5dc111d8/>Генератор иконок для сайта</a></h2><button type=button class=btn-close data-bs-dismiss=modal aria-label=Закрыть></button></div><div class=modal-body><div class=node-body><p>Сделал для сайта автоматизированное создание иконок типа <code>favicon</code>, которыми пользуются браузеры и устройства для своих нужд.</p><p>Я накидал небольшой скрипт, состоящий из двух функций <code>png()</code> и <code>ico()</code>. Функция <code>png()</code> берёт файл <code>favicon.svg</code> и преобразует его в PNG, указанных в массиве <code>size</code>, размеров. Функция <code>ico()</code> также берёт файл <code>favicon.svg</code> и преобразует его в формат ICO, который содержит в себе несколько размеров изображения.</p><div class="shortcode shortcode-file mb-3"><div class="card overflow-hidden"><div class=card-header><div class="d-flex align-items-center"><div class=flex-shrink-0><i class="far fa-file-code fa-fw"></i></div><div class="flex-grow-1 mx-2"><code>favicon.sh</code></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-d045422889c417c130522466353d8884 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li><li class=list-inline-item data-bs-tooltip data-bs-title=Скачать><a class=text-body href=favicon.sh download role=button aria-label=Скачать><i class="fas fa-download fa-fw"></i></a></li><li class=list-inline-item data-bs-tooltip data-bs-title=Открыть><a class=text-body href=favicon.sh target=_blank role=button aria-label=Открыть><i class="fas fa-arrow-up-right-from-square fa-fw"></i></a></li></ul></div></div></div><div class=card-body id=clipboard-d045422889c417c130522466353d8884><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=cp>#!/usr/bin/bash -e
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=c1>#</span>
</span></span><span class=line><span class=cl><span class=c1># Generating &#39;favicon.ico&#39; file.</span>
</span></span><span class=line><span class=cl><span class=c1>#</span>
</span></span><span class=line><span class=cl><span class=c1># @package    Bash</span>
</span></span><span class=line><span class=cl><span class=c1># @author     Kitsune Solar &lt;mail@kitsune.solar&gt;</span>
</span></span><span class=line><span class=cl><span class=c1># @copyright  2023 iHub TO</span>
</span></span><span class=line><span class=cl><span class=c1># @license    MIT</span>
</span></span><span class=line><span class=cl><span class=c1># @version    0.1.0</span>
</span></span><span class=line><span class=cl><span class=c1># @link       https://lib.onl/ru/articles/2021/05/841ba281-a22b-55ee-b97d-251a5dc111d8/</span>
</span></span><span class=line><span class=cl><span class=c1># -------------------------------------------------------------------------------------------------------------------- #</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>size</span><span class=o>=(</span> <span class=m>16</span> <span class=m>24</span> <span class=m>32</span> <span class=m>48</span> <span class=m>64</span> <span class=m>72</span> <span class=m>80</span> <span class=m>96</span> <span class=m>128</span> <span class=m>144</span> <span class=m>152</span> <span class=m>167</span> <span class=m>180</span> <span class=m>192</span> <span class=m>196</span> <span class=m>256</span> <span class=m>300</span> <span class=m>512</span> <span class=o>)</span>
</span></span><span class=line><span class=cl><span class=nv>file_svg</span><span class=o>=</span><span class=s1>&#39;favicon.svg&#39;</span>
</span></span><span class=line><span class=cl><span class=nv>file_ico</span><span class=o>=</span><span class=s1>&#39;favicon.ico&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>rsvg</span><span class=o>=</span><span class=s2>&#34;</span><span class=k>$(</span> <span class=nb>command</span> -v rsvg-convert <span class=k>)</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>convert</span><span class=o>=</span><span class=s2>&#34;</span><span class=k>$(</span> <span class=nb>command</span> -v convert <span class=k>)</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>identify</span><span class=o>=</span><span class=s2>&#34;</span><span class=k>$(</span> <span class=nb>command</span> -v identify <span class=k>)</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>png<span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  _check_file
</span></span><span class=line><span class=cl>  <span class=k>for</span> i in <span class=s2>&#34;</span><span class=si>${</span><span class=nv>size</span><span class=p>[@]</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>;</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=si>${</span><span class=nv>rsvg</span><span class=si>}</span> -w <span class=s2>&#34;</span><span class=si>${</span><span class=nv>i</span><span class=si>}</span><span class=s2>&#34;</span> -h <span class=s2>&#34;</span><span class=si>${</span><span class=nv>i</span><span class=si>}</span><span class=s2>&#34;</span> <span class=s2>&#34;</span><span class=si>${</span><span class=nv>file_svg</span><span class=si>}</span><span class=s2>&#34;</span> -o <span class=s2>&#34;favicon-</span><span class=si>${</span><span class=nv>i</span><span class=si>}</span><span class=s2>.png&#34;</span>
</span></span><span class=line><span class=cl>  <span class=k>done</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>ico<span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  _check_file
</span></span><span class=line><span class=cl>  <span class=si>${</span><span class=nv>convert</span><span class=si>}</span> -density <span class=s1>&#39;256x256&#39;</span> -background <span class=s1>&#39;transparent&#39;</span> <span class=s2>&#34;</span><span class=si>${</span><span class=nv>file_svg</span><span class=si>}</span><span class=s2>&#34;</span> -define <span class=s1>&#39;icon:auto-resize&#39;</span> -colors <span class=s1>&#39;256&#39;</span> <span class=s2>&#34;</span><span class=si>${</span><span class=nv>file_ico</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>  <span class=si>${</span><span class=nv>identify</span><span class=si>}</span> <span class=s2>&#34;</span><span class=si>${</span><span class=nv>file_ico</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>_check_file<span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=o>[[</span> -f <span class=s2>&#34;</span><span class=si>${</span><span class=nv>file_svg</span><span class=si>}</span><span class=s2>&#34;</span> <span class=o>]]</span> <span class=o>||</span> <span class=o>{</span> <span class=nb>printf</span> <span class=s1>&#39;%s does not exist!\n&#39;</span> <span class=s2>&#34;</span><span class=si>${</span><span class=nv>file_svg</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>;</span> <span class=nb>exit</span> 1<span class=p>;</span> <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=s2>&#34;</span><span class=nv>$@</span><span class=s2>&#34;</span></span></span></code></pre></div></div></div></div><h2 id=2119579721-использование><a class=link-body-emphasis href=#2119579721-%d0%b8%d1%81%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d0%be%d0%b2%d0%b0%d0%bd%d0%b8%d0%b5>Использование</a></h2><p>Для работы скрипта необходимо, чтобы в системе были установлены <strong>RSVG</strong> и <strong>ImageMagick</strong>. Скрипт можно сохранить с произвольным именем, например, <code>favicon.sh</code> в директорию, где находится изображение <code>favicon.svg</code>. Далее, вызывать функции следующим образом:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-0 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class=flex-shrink-0><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-7cab3429095b09cb789940ab119f4cf7 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-7cab3429095b09cb789940ab119f4cf7><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>bash favicon.sh png</span></span></code></pre></div></div></div></div><div class="shortcode shortcode-codeblock shortcode-codeblock-1 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class=flex-shrink-0><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-938f2210badf850abb979433930e90d9 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-938f2210badf850abb979433930e90d9><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>bash favicon.sh ico</span></span></code></pre></div></div></div></div><p>Скрипт ищет файл <code>favicon.svg</code> и преобразует его в необходимые изображения.</p></div></div><div class=modal-footer><ul class="list-inline text-center text-body-secondary small"><li class=list-inline-item><a href=https://lib.onl/ru/tags/imagemagick/>#imagemagick</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/inkscape/>#inkscape</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/convert/>#convert</a></li><li class=list-inline-item>&bull;</li><li class="list-inline-item text-success" data-bs-tooltip data-bs-title='Уровень сложности: Простой'><i class="far fa-face-smile fa-fw"></i></li><li class=list-inline-item>&bull;</li><li class=list-inline-item><time datetime=2021-05-18T07:41:46Z data-fn=date-local>2021/05/18 07:41:46 UTC</time></li></ul></div></div></div></div></div><div class=col><div class="d-sm-block d-md-none"><article class=node-articles><header><div class="node-cover mb-3"><a title="Обновление Fedora Linux до актуальной версии" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/05/0acd3f9d-07b7-52b8-9fac-b5cb1cc579e0/ data-bs-toggle=modal data-bs-target=#modal-c5d1e2429ba2760751f8d96aa231bc4d><picture><source srcset='https://images.unsplash.com/photo-1585406666850-82f7532fdae3?crop=edges&amp;w=640&amp;h=360&amp;fit=crop&amp;auto=compress,format 640w,https://images.unsplash.com/photo-1585406666850-82f7532fdae3?crop=edges&amp;w=768&amp;h=432&amp;fit=crop&amp;auto=compress,format 768w,https://images.unsplash.com/photo-1585406666850-82f7532fdae3?crop=edges&amp;w=1024&amp;h=576&amp;fit=crop&amp;auto=compress,format 1024w,https://images.unsplash.com/photo-1585406666850-82f7532fdae3?crop=edges&amp;w=1280&amp;h=720&amp;fit=crop&amp;auto=compress,format 1280w,https://images.unsplash.com/photo-1585406666850-82f7532fdae3?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format 1600w' sizes="(min-width: 576px) 100vw"><img class=img-fluid src="https://images.unsplash.com/photo-1585406666850-82f7532fdae3?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format" width=1600 height=900 alt="Обновление Fedora Linux до актуальной версии" loading=lazy></picture></a></div><div class=node-title><h2 class=h5><a href=/ru/articles/2021/05/0acd3f9d-07b7-52b8-9fac-b5cb1cc579e0/ data-bs-toggle=modal data-bs-target=#modal-c5d1e2429ba2760751f8d96aa231bc4d>Обновление Fedora Linux до актуальной версии</a></h2></div></header><div class=node-body><p>Новые версии Fedora публикуются каждые 6-8 месяцев. В этой статье я опишу шаги по обновлению дистрибутива между версиями.</p></div></article></div><div class="d-none d-md-block"><article class="node-articles d-flex overflow-hidden"><div class="flex-shrink-0 me-3"><div class=node-cover><a title="Обновление Fedora Linux до актуальной версии" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/05/0acd3f9d-07b7-52b8-9fac-b5cb1cc579e0/ data-bs-toggle=modal data-bs-target=#modal-c5d1e2429ba2760751f8d96aa231bc4d><img class=img-fluid src="https://images.unsplash.com/photo-1585406666850-82f7532fdae3?crop=edges&amp;w=160&amp;h=160&amp;fit=crop&amp;auto=compress,format" width=160 height=160 alt="Обновление Fedora Linux до актуальной версии" loading=lazy></a></div></div><div class="flex-grow-1 overflow-hidden"><header><div class=node-title><h2 class=h5><a href=/ru/articles/2021/05/0acd3f9d-07b7-52b8-9fac-b5cb1cc579e0/ data-bs-toggle=modal data-bs-target=#modal-c5d1e2429ba2760751f8d96aa231bc4d>Обновление Fedora Linux до актуальной версии</a></h2></div></header><div class=node-body><p>Новые версии Fedora публикуются каждые 6-8 месяцев. В этой статье я опишу шаги по обновлению дистрибутива между версиями.</p></div></div></article></div><div class="modal fade" id=modal-c5d1e2429ba2760751f8d96aa231bc4d tabindex=-1 aria-labelledby=modal-c5d1e2429ba2760751f8d96aa231bc4d-label aria-hidden=true><div class="modal-dialog modal-fullscreen"><div class=modal-content><div class=modal-header><h2 class="modal-title fs-5 text-truncate" id=modal-c5d1e2429ba2760751f8d96aa231bc4d-label><a href=/ru/articles/2021/05/0acd3f9d-07b7-52b8-9fac-b5cb1cc579e0/>Обновление Fedora Linux до актуальной версии</a></h2><button type=button class=btn-close data-bs-dismiss=modal aria-label=Закрыть></button></div><div class=modal-body><div class=node-body><p>Новые версии Fedora публикуются каждые 6-8 месяцев. В этой статье я опишу шаги по обновлению дистрибутива между версиями.</p><ol><li>Устанавливаем плагин обновления системы:</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-0 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux-root"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class="flex-shrink-0 text-danger"><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-1d2ef03fd1d31b3feaad020acd2c2caf role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-1d2ef03fd1d31b3feaad020acd2c2caf><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>dnf install dnf-plugin-system-upgrade</span></span></code></pre></div></div></div></div><ol start=2><li>Скачивание актуальной версии системы:</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-1 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux-root"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class="flex-shrink-0 text-danger"><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-ac801d418a2ddf78937060167788f538 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-ac801d418a2ddf78937060167788f538><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>dnf system-upgrade download --releasever<span class=o>=</span><span class=m>34</span></span></span></code></pre></div></div></div></div><ul><li><code>releasever</code> - номер актуальной версии системы.</li></ul><ol start=3><li>Запуск обновления системы на актуальную версию:</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-2 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux-root"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class="flex-shrink-0 text-danger"><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-159aab5c94cc4280ed500ed9341e0369 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-159aab5c94cc4280ed500ed9341e0369><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>dnf system-upgrade reboot</span></span></code></pre></div></div></div></div><p>Вот и всё. Система обновит пакетную базу и перезагрузится.</p></div></div><div class=modal-footer><ul class="list-inline text-center text-body-secondary small"><li class=list-inline-item><a href=https://lib.onl/ru/tags/fedora/>#fedora</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/dnf/>#dnf</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/upgrade/>#upgrade</a></li><li class=list-inline-item>&bull;</li><li class="list-inline-item text-success" data-bs-tooltip data-bs-title='Уровень сложности: Простой'><i class="far fa-face-smile fa-fw"></i></li><li class=list-inline-item>&bull;</li><li class=list-inline-item><time datetime=2021-05-15T20:29:16Z data-fn=date-local>2021/05/15 20:29:16 UTC</time></li></ul></div></div></div></div></div><div class=col><div class="d-sm-block d-md-none"><article class=node-articles><header><div class="node-cover mb-3"><a title="Настройка статического IP адреса" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/05/ee559a6c-5cde-5166-9d2d-3ceb55878eb8/ data-bs-toggle=modal data-bs-target=#modal-3bbda3955098d2ca8c2a925f4969e8f1><picture><source srcset='https://images.unsplash.com/photo-1544197150-b99a580bb7a8?crop=edges&amp;w=640&amp;h=360&amp;fit=crop&amp;auto=compress,format 640w,https://images.unsplash.com/photo-1544197150-b99a580bb7a8?crop=edges&amp;w=768&amp;h=432&amp;fit=crop&amp;auto=compress,format 768w,https://images.unsplash.com/photo-1544197150-b99a580bb7a8?crop=edges&amp;w=1024&amp;h=576&amp;fit=crop&amp;auto=compress,format 1024w,https://images.unsplash.com/photo-1544197150-b99a580bb7a8?crop=edges&amp;w=1280&amp;h=720&amp;fit=crop&amp;auto=compress,format 1280w,https://images.unsplash.com/photo-1544197150-b99a580bb7a8?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format 1600w' sizes="(min-width: 576px) 100vw"><img class=img-fluid src="https://images.unsplash.com/photo-1544197150-b99a580bb7a8?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format" width=1600 height=900 alt="Настройка статического IP адреса" loading=lazy></picture></a></div><div class=node-title><h2 class=h5><a href=/ru/articles/2021/05/ee559a6c-5cde-5166-9d2d-3ceb55878eb8/ data-bs-toggle=modal data-bs-target=#modal-3bbda3955098d2ca8c2a925f4969e8f1>Настройка статического IP адреса</a></h2></div></header><div class=node-body><p>Рассмотрим различные способы настройки статического IP адреса в дистрибутивах Linux. Способы различаются в зависимости от пакетной базы дистрибутивов. Например, настройка статического IP в …</p></div></article></div><div class="d-none d-md-block"><article class="node-articles d-flex overflow-hidden"><div class="flex-shrink-0 me-3"><div class=node-cover><a title="Настройка статического IP адреса" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/05/ee559a6c-5cde-5166-9d2d-3ceb55878eb8/ data-bs-toggle=modal data-bs-target=#modal-3bbda3955098d2ca8c2a925f4969e8f1><img class=img-fluid src="https://images.unsplash.com/photo-1544197150-b99a580bb7a8?crop=edges&amp;w=160&amp;h=160&amp;fit=crop&amp;auto=compress,format" width=160 height=160 alt="Настройка статического IP адреса" loading=lazy></a></div></div><div class="flex-grow-1 overflow-hidden"><header><div class=node-title><h2 class=h5><a href=/ru/articles/2021/05/ee559a6c-5cde-5166-9d2d-3ceb55878eb8/ data-bs-toggle=modal data-bs-target=#modal-3bbda3955098d2ca8c2a925f4969e8f1>Настройка статического IP адреса</a></h2></div></header><div class=node-body><p>Рассмотрим различные способы настройки статического IP адреса в дистрибутивах Linux. Способы различаются в зависимости от пакетной базы дистрибутивов. Например, настройка статического IP в …</p></div></div></article></div><div class="modal fade" id=modal-3bbda3955098d2ca8c2a925f4969e8f1 tabindex=-1 aria-labelledby=modal-3bbda3955098d2ca8c2a925f4969e8f1-label aria-hidden=true><div class="modal-dialog modal-fullscreen"><div class=modal-content><div class=modal-header><h2 class="modal-title fs-5 text-truncate" id=modal-3bbda3955098d2ca8c2a925f4969e8f1-label><a href=/ru/articles/2021/05/ee559a6c-5cde-5166-9d2d-3ceb55878eb8/>Настройка статического IP адреса</a></h2><button type=button class=btn-close data-bs-dismiss=modal aria-label=Закрыть></button></div><div class=modal-body><div class=node-body><p>Рассмотрим различные способы настройки статического IP адреса в дистрибутивах Linux. Способы различаются в зависимости от пакетной базы дистрибутивов. Например, настройка статического IP в RHEL-based дистрибутиве будет отличаться от настройки в DEB-based дистрибутиве.</p><h2 id=3395534025-подготовка><a class=link-body-emphasis href=#3395534025-%d0%bf%d0%be%d0%b4%d0%b3%d0%be%d1%82%d0%be%d0%b2%d0%ba%d0%b0>Подготовка</a></h2><p>Смотрим текущие сетевые устройства и соединения:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-0 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux-root"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class="flex-shrink-0 text-danger"><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-398163f5ceecbc17d37076499e63eedf role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-398163f5ceecbc17d37076499e63eedf><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ip a
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>1: lo: &lt;loopback,up,lower_up&gt; mtu <span class=m>65536</span> qdisc noqueue state UNKNOWN group default qlen <span class=m>1000</span>
</span></span><span class=line><span class=cl>  link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
</span></span><span class=line><span class=cl>  inet 127.0.0.1/8 scope host lo
</span></span><span class=line><span class=cl>2: enp1s0: &lt;broadcast,multicast,up,lower_up&gt; mtu <span class=m>1500</span> qdisc fq_codel state UP group default qlen <span class=m>1000</span>
</span></span><span class=line><span class=cl>  link/ether xx:xx:xx:xx:xx:xx brd ff:ff:ff:ff:ff:ff
</span></span><span class=line><span class=cl>  inet 192.168.10.123/24 brd 192.168.10.255 scope global dynamic noprefixroute enp1s0</span></span></code></pre></div></div></div></div><h2 id=3395534025-настройка-ip-в-rhel-based-дистрибутивах><a class=link-body-emphasis href=#3395534025-%d0%bd%d0%b0%d1%81%d1%82%d1%80%d0%be%d0%b9%d0%ba%d0%b0-ip-%d0%b2-rhel-based-%d0%b4%d0%b8%d1%81%d1%82%d1%80%d0%b8%d0%b1%d1%83%d1%82%d0%b8%d0%b2%d0%b0%d1%85>Настройка IP в RHEL-based дистрибутивах</a></h2><p>В директории <code>/etc/sysconfig/network-scripts</code> находятся конфигурационные файлы для сетевых интерфейсов. Имя файла состоит из префикса <code>ifcfg</code> и имени интерфейса. Например, содержимое файла для интерфейса <code>enp1s0</code>:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-1 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux-root"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class="flex-shrink-0 text-danger"><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-9d3d31310e5dd7e0940a3f5e15c0dd12 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-9d3d31310e5dd7e0940a3f5e15c0dd12><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>cat /etc/sysconfig/network-scripts/ifcfg-enp1s0
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>TYPE</span><span class=o>=</span><span class=s2>&#34;Ethernet&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>PROXY_METHOD</span><span class=o>=</span><span class=s2>&#34;none&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>BROWSER_ONLY</span><span class=o>=</span><span class=s2>&#34;no&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>BOOTPROTO</span><span class=o>=</span><span class=s2>&#34;dhcp&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>DEFROUTE</span><span class=o>=</span><span class=s2>&#34;yes&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>IPV4_FAILURE_FATAL</span><span class=o>=</span><span class=s2>&#34;no&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>IPV6INIT</span><span class=o>=</span><span class=s2>&#34;yes&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>IPV6_AUTOCONF</span><span class=o>=</span><span class=s2>&#34;yes&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>IPV6_DEFROUTE</span><span class=o>=</span><span class=s2>&#34;yes&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>IPV6_FAILURE_FATAL</span><span class=o>=</span><span class=s2>&#34;no&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>IPV6_ADDR_GEN_MODE</span><span class=o>=</span><span class=s2>&#34;stable-privacy&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>NAME</span><span class=o>=</span><span class=s2>&#34;enp1s0&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>UUID</span><span class=o>=</span><span class=s2>&#34;&lt;DEVICE_ID&gt;&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>DEVICE</span><span class=o>=</span><span class=s2>&#34;enp1s0&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>ONBOOT</span><span class=o>=</span><span class=s2>&#34;yes&#34;</span></span></span></code></pre></div></div></div></div><p>Обратим внимание на опцию <strong>BOOTPROTO</strong>. По умолчанию, в опции <strong>BOOTPROTO</strong> прописано <code>dhcp</code>. Это означает, что сетевой интерфейс получает информацию о сети автоматически от DHCP. Сама опция <strong>BOOTPROTO</strong> может принимать следующие значения:</p><ul><li><code>none</code> – не использовать протокол.</li><li><code>bootp</code> – использование протокола <strong>bootp</strong>.</li><li><code>dhcp</code> – использование протокола <strong>dhcp</strong> (по умолчанию).</li></ul><p>Для настройки статического IP необходимо установит <strong>BOOTPROTO</strong> в <code>none</code> и дописать в конец файла опции:</p><ul><li><code>IPADDR</code> - IP адрес.</li><li><code>PREFIX</code> - маска сети.</li><li><code>GATEWAY</code> - шлюз сети.</li><li><code>DNS</code> - серверы DNS.</li></ul><p>Например:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-2 shortcode-codeblock-ini"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-ddf06b77acf555ae60530af1f533be7d><div class=highlight><pre tabindex=0 class=chroma><code class=language-ini data-lang=ini><span class=line><span class=cl><span class=na>TYPE</span><span class=o>=</span><span class=s>&#34;Ethernet&#34;</span>
</span></span><span class=line><span class=cl><span class=na>PROXY_METHOD</span><span class=o>=</span><span class=s>&#34;none&#34;</span>
</span></span><span class=line><span class=cl><span class=na>BROWSER_ONLY</span><span class=o>=</span><span class=s>&#34;no&#34;</span>
</span></span><span class=line><span class=cl><span class=na>BOOTPROTO</span><span class=o>=</span><span class=s>&#34;none&#34;</span>
</span></span><span class=line><span class=cl><span class=na>DEFROUTE</span><span class=o>=</span><span class=s>&#34;yes&#34;</span>
</span></span><span class=line><span class=cl><span class=na>IPV4_FAILURE_FATAL</span><span class=o>=</span><span class=s>&#34;no&#34;</span>
</span></span><span class=line><span class=cl><span class=na>IPV6INIT</span><span class=o>=</span><span class=s>&#34;yes&#34;</span>
</span></span><span class=line><span class=cl><span class=na>IPV6_AUTOCONF</span><span class=o>=</span><span class=s>&#34;yes&#34;</span>
</span></span><span class=line><span class=cl><span class=na>IPV6_DEFROUTE</span><span class=o>=</span><span class=s>&#34;yes&#34;</span>
</span></span><span class=line><span class=cl><span class=na>IPV6_FAILURE_FATAL</span><span class=o>=</span><span class=s>&#34;no&#34;</span>
</span></span><span class=line><span class=cl><span class=na>IPV6_ADDR_GEN_MODE</span><span class=o>=</span><span class=s>&#34;stable-privacy&#34;</span>
</span></span><span class=line><span class=cl><span class=na>NAME</span><span class=o>=</span><span class=s>&#34;enp1s0&#34;</span>
</span></span><span class=line><span class=cl><span class=na>UUID</span><span class=o>=</span><span class=s>&#34;&lt;DEVICE_ID&gt;&#34;</span>
</span></span><span class=line><span class=cl><span class=na>DEVICE</span><span class=o>=</span><span class=s>&#34;enp1s0&#34;</span>
</span></span><span class=line><span class=cl><span class=na>ONBOOT</span><span class=o>=</span><span class=s>&#34;yes&#34;</span>
</span></span><span class=line><span class=cl><span class=na>IPADDR</span><span class=o>=</span><span class=s>&#34;192.168.10.55&#34;</span>
</span></span><span class=line><span class=cl><span class=na>PREFIX</span><span class=o>=</span><span class=s>&#34;24&#34;</span>
</span></span><span class=line><span class=cl><span class=na>GATEWAY</span><span class=o>=</span><span class=s>&#34;192.168.10.1&#34;</span>
</span></span><span class=line><span class=cl><span class=na>DNS1</span><span class=o>=</span><span class=s>&#34;192.168.11.1&#34;</span>
</span></span><span class=line><span class=cl><span class=na>DNS1</span><span class=o>=</span><span class=s>&#34;192.168.12.1&#34;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-ddf06b77acf555ae60530af1f533be7d role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>После указания всех параметров, необходимо перезапустить интерфейс:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-3 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux-root"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class="flex-shrink-0 text-danger"><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-8d6d3f84f3dc1c43fb305c9b86eecee2 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-8d6d3f84f3dc1c43fb305c9b86eecee2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>nmcli con down enp1s0 <span class=o>&amp;&amp;</span> nmcli con up enp1s0</span></span></code></pre></div></div></div></div><h2 id=3395534025-настройка-ip-при-помощи-network-manager-cli-nmcli><a class=link-body-emphasis href=#3395534025-%d0%bd%d0%b0%d1%81%d1%82%d1%80%d0%be%d0%b9%d0%ba%d0%b0-ip-%d0%bf%d1%80%d0%b8-%d0%bf%d0%be%d0%bc%d0%be%d1%89%d0%b8-network-manager-cli-nmcli>Настройка IP при помощи Network Manager CLI (nmcli)</a></h2><p>Установка IP адреса:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-4 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux-root"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class="flex-shrink-0 text-danger"><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-e8b0765e2dce1c81003cd36464f707ba role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-e8b0765e2dce1c81003cd36464f707ba><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>nmcli con mod enp1s0 ipv4.addresses <span class=s1>&#39;192.168.10.55/24&#39;</span></span></span></code></pre></div></div></div></div><p>Установка шлюза:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-5 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux-root"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class="flex-shrink-0 text-danger"><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-485114c917d63e8b951586caa6a33569 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-485114c917d63e8b951586caa6a33569><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>nmcli con mod enp1s0 ipv4.gateway <span class=s1>&#39;192.168.10.1&#39;</span></span></span></code></pre></div></div></div></div><p>Установка DNS:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-6 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux-root"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class="flex-shrink-0 text-danger"><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-f874efec1c6875d98777d40f0f2f37ce role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-f874efec1c6875d98777d40f0f2f37ce><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>nmcli con mod enp1s0 ipv4.dns <span class=s1>&#39;192.168.11.1&#39;</span></span></span></code></pre></div></div></div></div><p>Установка <strong>BOOTPROTO</strong> в <code>none</code>:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-7 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux-root"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class="flex-shrink-0 text-danger"><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-64e3cb1d81f5cceeb4460aa4eee7a3ef role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-64e3cb1d81f5cceeb4460aa4eee7a3ef><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>nmcli con mod enp1s0 ipv4.method <span class=s1>&#39;manual&#39;</span></span></span></code></pre></div></div></div></div><p>Перезапуск интерфейса:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-8 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux-root"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class="flex-shrink-0 text-danger"><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-16e0e2402b7c8cf80066e5b856c84421 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-16e0e2402b7c8cf80066e5b856c84421><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>nmcli con down enp1s0 <span class=o>&amp;&amp;</span> nmcli con up enp1s0</span></span></code></pre></div></div></div></div></div></div><div class=modal-footer><ul class="list-inline text-center text-body-secondary small"><li class=list-inline-item><a href=https://lib.onl/ru/tags/ip/>#ip</a></li><li class=list-inline-item>&bull;</li><li class="list-inline-item text-warning" data-bs-tooltip data-bs-title='Уровень сложности: Средний'><i class="far fa-face-meh fa-fw"></i></li><li class=list-inline-item>&bull;</li><li class=list-inline-item><time datetime=2021-05-15T17:08:30Z data-fn=date-local>2021/05/15 17:08:30 UTC</time></li></ul></div></div></div></div></div></div><nav class=mt-5><ul class="pagination justify-content-center"><li class=page-item><a class=page-link href=/ru/authors/kitsunesolar/><i class="fas fa-angle-double-left fa-fw"></i></a></li><li class=page-item><a class=page-link href=/ru/authors/kitsunesolar/page/2/><i class="fas fa-angle-left fa-fw"></i></a></li><li class=page-item><a href=/ru/authors/kitsunesolar/ class=page-link>1</a></li><li class=page-item><a href=/ru/authors/kitsunesolar/page/2/ class=page-link>2</a></li><li class="page-item active" aria-current=page><a href=/ru/authors/kitsunesolar/page/3/ class=page-link>3</a></li><li class=page-item><a href=/ru/authors/kitsunesolar/page/4/ class=page-link>4</a></li><li class=page-item><a class=page-link href=/ru/authors/kitsunesolar/page/4/><i class="fas fa-angle-right fa-fw"></i></a></li><li class="page-item disabled"><span class=page-link><i class="fas fa-angle-double-right fa-fw"></i></span></li></ul></nav></div></div></main><footer class="mt-auto border-top bg-light" id=site-footer><div class="section py-5 border-bottom"><div class=container><div class="row g-3"><div class=col-lg><article><h2 class="h5 border-bottom pb-1 mb-3">О проекте</h2><div class=node-body><p>Заметки по системному администрированию и веб-разработкам.</p></div></article></div><div class=col-lg><article><h2 class="h5 border-bottom pb-1 mb-3">Ресурсы</h2><div class=node-body><ul><li><a title href=https://kitsune.solar/ target=_blank rel="noopener noreferrer nofollow">Kitsune Solar</a></li><li><a title href=https://uaik.github.io/ target=_blank rel="noopener noreferrer nofollow">UNIX AIK</a></li></ul></div></article></div><div class=col-lg><article><h2 class="h5 border-bottom pb-1 mb-3">Контакты</h2><div class=node-body><ul><li><a title href=mailto:mail@lib.onl target=_self rel>Email</a></li></ul></div></article></div></div></div></div><div class="section py-3"><div class=container><div class="row row-cols-1 row-cols-lg-2 small text-body-secondary align-items-center"><div class="col text-center text-lg-start"><ul class="list-inline mb-0"><li class=list-inline-item><div>Library Online &copy; 2023</div><div>Заметки на тему администрирования и разработки различных систем, приложений и серверов.</div></li></ul></div><div class="col text-center text-lg-end"><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=RSS><a class="btn btn-light btn-sm" href=/ru/authors/kitsunesolar/index.xml target=_blank aria-label=RSS><i class="fas fa-rss fa-fw"></i></a></li><li class="list-inline-item dropup" data-bs-tooltip data-bs-title=Языки><a class="dropdown-toggle btn btn-light btn-sm" href=# role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false aria-label=Языки><i class="fas fa-language fa-fw"></i></a><div class="dropdown-menu dropdown-menu-end shadow"><a class=dropdown-item href=/ru/ hreflang=ru>Русский
</a><a class=dropdown-item href=/en/ hreflang=en>English</a></div></li></ul></div></div></div></div></footer><div class="modal fade" id=search-modal tabindex=-1 aria-labelledby=searchModalLabel aria-hidden=true><div class="modal-dialog modal-dialog-scrollable modal-xl"><div class=modal-content><div class=modal-header><h5 class=modal-title id=searchModalLabel>Поиск</h5><button type=button class=btn-close data-bs-dismiss=modal aria-label=Закрыть></button></div><div class="modal-body node-body"><div class="row row-cols-1 g-3"><div class=col><div class="row g-3"><div class=col-lg><form action=https://google.com/search method=get class=d-flex target=_blank><input type=hidden name=domains value=lib.onl>
<input type=hidden name=sitesearch value=lib.onl><div class=input-group><span class=input-group-text><i class="fas fa-search fa-fw"></i></span>
<input type=search class=form-control name=q placeholder='Поиск Google' aria-label='Поиск Google'>
<span class=input-group-text><i class="fab fa-google fa-fw"></i></span></div></form></div><div class=col-lg><form action=https://ya.ru/search method=get class=d-flex target=_blank><input type=hidden name=site value=lib.onl><div class=input-group><span class=input-group-text><i class="fas fa-search fa-fw"></i></span>
<input type=search class=form-control name=text placeholder='Поиск Яндекс' aria-label='Поиск Яндекс'>
<span class=input-group-text><i class="fab fa-yandex fa-fw"></i></span></div></form></div></div></div><div class=col><form id=search-form method=get class=d-flex autocomplete=off><div class=input-group><span class=input-group-text><i class="fas fa-search fa-fw"></i></span>
<input id=search-input type=search class=form-control name=q placeholder='Внутренний поиск' aria-label='Внутренний поиск'>
<span class=input-group-text><i class="fas fa-brain fa-fw"></i></span></div></form></div><div class=col><div class="list-group list-group-flush d-none overflow-auto" id=search-results></div><div id=search-help><div class="alert alert-info d-flex align-items-center overflow-hidden node-body" id=alert-e681d9c6a17b41772328ce38bf8c6107 role=alert><div class=flex-shrink-0><i class="fas fa-search fa-fw fa-2x"></i></div><div class="flex-grow-1 ms-3 overflow-hidden"><p>Используется нечёткий поиск (приблизительное сопоставление строк).
Это метод поиска строк, которые приблизительно соответствуют поисковому шаблону.</p><p>Результаты поиска сортируются по точности совпадения с поисковым шаблоном.
Результаты поиска, наиболее точно соответствующие запросу, находятся сверху, приблизительные результаты - снизу.</p></div></div></div></div></div></div></div></div></div><script src=/js/vendor.bundle.min.js defer></script><script src=/ru/js/system.bundle.min.js defer></script><script type=application/ld+json>{"@context":"https://schema.org","@type":"Person","address":{"@type":"PostalAddress","addressCountry":"Russia","addressLocality":"Reutov","addressRegion":"Moscow Region"},"alternateName":"Kitsune Solar","award":["Грамота АО Институт ЭНЕРГОСЕТЬПРОЕКТ"],"birthDate":"1987-03-13","birthPlace":{"@type":"Place","address":{"@type":"PostalAddress","addressCountry":"Russia","addressLocality":"Reutov","addressRegion":"Moscow Region"}},"email":"kitsune.solar@gmail.com","gender":"Male","image":"https://gravatar.com/avatar/4e0b4877c1d23e5164e54d8367e3e3cd?s=512","jobTitle":"System administrator","mainEntityOfPage":"https://lib.onl/ru/authors/kitsunesolar/","name":"Kitsune Solar","sameAs":["https://github.com/KitsuneSolar","https://gitlab.com/KitsuneSolar","https://instagram.com/KitsuneSolar","https://twitter.com/KitsuneSolar","https://vk.com/KitsuneSolar","https://youtube.com/KitsuneSolar"],"telephone":"+7 (000) 000-0000","url":"https://kitsune.solar/"}</script><script type=application/ld+json>{"@context":"https://schema.org","@id":"https://lib.onl/#website","@type":"WebSite","description":"Заметки на тему администрирования и разработки различных систем, приложений и серверов.","hasPart":[{"@context":"https://schema.org","@type":"WPHeader","cssSelector":"#site-header","headline":"headline-string"},{"@context":"https://schema.org","@type":"WPFooter","copyrightHolder":"https://lib.onl/#organization","copyrightYear":"2023","cssSelector":"#site-footer","publisher":"https://lib.onl/#organization"}],"inLanguage":[{"@type":"Language","alternateName":"ru-RU","name":"Русский"},{"@type":"Language","alternateName":"en-US","name":"English"}],"keywords":["powershell","forum","ipb","ips","debian","linux","cmd","cmf","cms","vbulletin","bash","cloudflare","fedora","git","php","systemd","terminal","dhcp","find","gdm"],"mainEntityOfPage":"https://lib.onl/","name":"Library Online","publisher":"https://lib.onl/#organization","url":"https://lib.onl/"}</script><script type=application/ld+json>{"@context":"https://schema.org","@id":"https://lib.onl/#organization","@type":"Organization","address":{"@type":"PostalAddress","addressCountry":"Russia","addressLocality":"Moscow","addressRegion":"Moscow Region"},"contactPoint":{"@type":"ContactPoint","contactType":"customer service","email":"mail@lib.onl","telephone":"+7 (000) 000-0000"},"description":"Заметки на тему администрирования и разработки различных систем, приложений и серверов.","foundingDate":"2020","legalName":"Library Online","logo":{"@type":"ImageObject","url":"https://lib.onl/img/logo.min.svg"},"mainEntityOfPage":"https://lib.onl/","name":"Library Online","sameAs":[""],"url":"https://lib.onl/"}</script><script type=application/ld+json>{"@context":"https://schema.org","@graph":[{"@type":"SiteNavigationElement","name":"Статьи","position":10,"url":"https://lib.onl/ru/articles/"},{"@type":"SiteNavigationElement","name":"Q\u0026A","position":20,"url":"https://lib.onl/ru/faq/"},{"@type":"SiteNavigationElement","name":"Архив","position":100,"url":"https://lib.onl/ru/archive/"},{"@type":"SiteNavigationElement","name":"О проекте","position":999,"url":"https://lib.onl/ru/about/"},{"@type":"SiteNavigationElement","name":"META","position":9999,"url":"https://lib.onl/ru/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":{"@id":"https://lib.onl/ru/","name":"Главная"},"position":1},{"@type":"ListItem","item":{"@id":"https://lib.onl/ru/authors/","name":"Авторы"},"position":2},{"@type":"ListItem","item":{"@id":"https://lib.onl/ru/authors/kitsunesolar/","name":"Kitsune Solar"},"position":3}]}</script></body></html>