<?xml version="1.0" encoding="UTF-8" standalone="yes"?><rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"><channel><title>gnupg | Library Online</title><link>https://lib.onl/ru/tags/gnupg/</link><description>Заметки на тему администрирования и разработки различных систем, приложений и серверов.</description><language>ru-RU</language><sy:updatePeriod>weekly</sy:updatePeriod><sy:updateFrequency>1</sy:updateFrequency><image><link>https://lib.onl/ru/tags/gnupg/</link><url>https://lib.onl/img/icon-128.png</url><width>128</width><height>128</height><title>
gnupg | Library Online</title><description>Заметки на тему администрирования и разработки различных систем, приложений и серверов.</description></image><lastBuildDate>Thu, 16 Jul 2020 06:55:17 +0000</lastBuildDate><atom:link href="https://lib.onl/ru/tags/gnupg/index.xml" rel="self" type="application/rss+xml"/><item><title>Получение и установка MS Office 2021 LTSC</title><link>https://lib.onl/ru/posts/2023/09/dd5a3e1a-596b-50d5-b070-b2a065f99f32/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2023/09/dd5a3e1a-596b-50d5-b070-b2a065f99f32/</guid><description>MS Office является самым популярным набором приложений для офисной работы. На момент написания этой статьи, актуальной версией MS Office является 2021. Её можно купить в магазине. Но здесь я расскажу как получить актуальную версию MS Office 2021 LTSC с серверов Microsoft.</description><content:encoded><![CDATA[<p>MS Office является самым популярным набором приложений для офисной работы. На момент написания этой статьи, актуальной версией MS Office является 2021. Её можно купить в магазине. Но здесь я расскажу как получить актуальную версию MS Office 2021 LTSC с серверов Microsoft.</p>
<p>MS Office 2021 LTSC просто так не купить, это программное обеспечение распространяется для организаций по соглашению о корпоративном лицензировании. MS Office 2021 LTSC поддерживает устройства только с операционными системами <strong>MS Windows 10</strong> или <strong>MS Windows 11</strong>.</p>

<h2 id="получение-ms-office-2021-ltsc">
    Получение MS Office 2021 LTSC
  <sup><a class="text-muted small" href="#%d0%bf%d0%be%d0%bb%d1%83%d1%87%d0%b5%d0%bd%d0%b8%d0%b5-ms-office-2021-ltsc"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Для получения установочного дистрибутива необходимо выполнить подготовительные шаги:</p>
<ol>
<li>Скачать и запустить 






    
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


<a title="" href="https://www.microsoft.com/download/details.aspx?id=49117" target="_blank" rel="noopener noreferrer nofollow">Office Deployment Tool</a>.</li>
<li>Во время установки, выбрать директорию для распаковки <strong>Office Deployment Tool</strong>. В эту директорию будет в дальнейшем загружен установочный дистрибутив MS Office 2021 LTSC.</li>
<li>После завершения процесса установки, открыть консоль и перейти в директорию (<code>cd &lt;path&gt;</code>), куда был установлен Office Deployment Tool.</li>
<li>В корне директории Office Deployment Tool создать файл <code>office.2021.xml</code> следующего содержания:</li>
</ol>







<div class="shortcode shortcode-codebox mb-3">
  <div class="card">
    <div class="card-header">
      <div class="d-flex align-items-center">
          
            <code>office.2021.xml</code>
          
        <div class="d-flex ms-auto">
          <button type="button" class="btn btn-light btn-sm"
                  data-bs-tooltip data-bs-title='Скопировать в буфер обмена'
                  data-fn="clipboard" data-clipboard-target="#codebox-f40b92c15b0577082f11e6a370909758">
            <i class="far fa-copy fa-fw"></i>
          </button>
        </div>
      </div>
    </div>
    <div class="card-body pb-0">
      <pre><code id="codebox-f40b92c15b0577082f11e6a370909758" class="">&lt;Configuration ID=&#34;42865718-c416-4c72-990b-20b6972cb9af&#34;&gt;
  &lt;Add OfficeClientEdition=&#34;64&#34; Channel=&#34;PerpetualVL2021&#34;&gt;
    &lt;Product ID=&#34;ProPlus2021Volume&#34; PIDKEY=&#34;FXYTK-NJJ8C-GB6DW-3DYQT-6F7TH&#34;&gt;
      &lt;Language ID=&#34;en-us&#34; /&gt;
      &lt;Language ID=&#34;ru-ru&#34; /&gt;
    &lt;/Product&gt;
    &lt;Product ID=&#34;VisioPro2021Volume&#34; PIDKEY=&#34;KNH8D-FGHT4-T8RK3-CTDYJ-K2HT4&#34;&gt;
      &lt;Language ID=&#34;en-us&#34; /&gt;
      &lt;Language ID=&#34;ru-ru&#34; /&gt;
    &lt;/Product&gt;
    &lt;Product ID=&#34;ProjectPro2021Volume&#34; PIDKEY=&#34;FTNWT-C6WBT-8HMGF-K9PRX-QV9H8&#34;&gt;
      &lt;Language ID=&#34;en-us&#34; /&gt;
      &lt;Language ID=&#34;ru-ru&#34; /&gt;
    &lt;/Product&gt;
    &lt;Product ID=&#34;LanguagePack&#34;&gt;
      &lt;Language ID=&#34;en-us&#34; /&gt;
      &lt;Language ID=&#34;ru-ru&#34; /&gt;
    &lt;/Product&gt;
    &lt;Product ID=&#34;ProofingTools&#34;&gt;
      &lt;Language ID=&#34;en-us&#34; /&gt;
      &lt;Language ID=&#34;ru-ru&#34; /&gt;
    &lt;/Product&gt;
  &lt;/Add&gt;
  &lt;Property Name=&#34;SharedComputerLicensing&#34; Value=&#34;0&#34; /&gt;
  &lt;Property Name=&#34;FORCEAPPSHUTDOWN&#34; Value=&#34;FALSE&#34; /&gt;
  &lt;Property Name=&#34;DeviceBasedLicensing&#34; Value=&#34;0&#34; /&gt;
  &lt;Property Name=&#34;SCLCacheOverride&#34; Value=&#34;0&#34; /&gt;
  &lt;Property Name=&#34;AUTOACTIVATE&#34; Value=&#34;1&#34; /&gt;
  &lt;Updates Enabled=&#34;TRUE&#34; /&gt;
  &lt;RemoveMSI /&gt;
&lt;/Configuration&gt;</code></pre>
    </div>
  </div>
</div>

<p>Далее, в консоли выполните команду <code>setup.exe /download office.2021.xml</code>. Команда запускает формирование и скачивание установочного дистрибутива MS Office 2021 LTCS с серверов Microsoft. Команда может не отображать процесс своей работы. После завершения команды, консоль вернёт управление пользователю, тем самым можно контролировать завершение получения установочного дистрибутива.</p>

<h2 id="установка-полной-версии-ms-office-2021-ltsc">
    Установка полной версии MS Office 2021 LTSC
  <sup><a class="text-muted small" href="#%d1%83%d1%81%d1%82%d0%b0%d0%bd%d0%be%d0%b2%d0%ba%d0%b0-%d0%bf%d0%be%d0%bb%d0%bd%d0%be%d0%b9-%d0%b2%d0%b5%d1%80%d1%81%d0%b8%d0%b8-ms-office-2021-ltsc"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>После получения установочного дистрибутива MS Office 2021 LTCS, в той же консоли необходимо выполнить команду <code>setup.exe /configure office.2021.xml</code>. Эта команда запускает процесс установки <strong>полной версии</strong> MS Office 2021 LTCS на компьютер пользователя со всеми дополнительными модулями.</p>

<h2 id="установка-минимальной-версии-ms-office-2021-ltsc">
    Установка минимальной версии MS Office 2021 LTSC
  <sup><a class="text-muted small" href="#%d1%83%d1%81%d1%82%d0%b0%d0%bd%d0%be%d0%b2%d0%ba%d0%b0-%d0%bc%d0%b8%d0%bd%d0%b8%d0%bc%d0%b0%d0%bb%d1%8c%d0%bd%d0%be%d0%b9-%d0%b2%d0%b5%d1%80%d1%81%d0%b8%d0%b8-ms-office-2021-ltsc"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Для администраторов, которые хотят установить на компьютер пользователя только самые необходимые компоненты (Access, Excel, Outlook, PowerPoint и World), предлагаю следующий конфигурационный файл:</p>







<div class="shortcode shortcode-codebox mb-3">
  <div class="card">
    <div class="card-header">
      <div class="d-flex align-items-center">
          
            <code>office.2021.minimal.xml</code>
          
        <div class="d-flex ms-auto">
          <button type="button" class="btn btn-light btn-sm"
                  data-bs-tooltip data-bs-title='Скопировать в буфер обмена'
                  data-fn="clipboard" data-clipboard-target="#codebox-87be4a80895974e4a79dde9a0a5f1732">
            <i class="far fa-copy fa-fw"></i>
          </button>
        </div>
      </div>
    </div>
    <div class="card-body pb-0">
      <pre><code id="codebox-87be4a80895974e4a79dde9a0a5f1732" class="">&lt;Configuration ID=&#34;42865718-c416-4c72-990b-20b6972cb9af&#34;&gt;
  &lt;Add OfficeClientEdition=&#34;64&#34; Channel=&#34;PerpetualVL2021&#34;&gt;
    &lt;Product ID=&#34;ProPlus2021Volume&#34; PIDKEY=&#34;FXYTK-NJJ8C-GB6DW-3DYQT-6F7TH&#34;&gt;
      &lt;Language ID=&#34;en-us&#34; /&gt;
      &lt;Language ID=&#34;ru-ru&#34; /&gt;
      &lt;ExcludeApp ID=&#34;Lync&#34; /&gt;
      &lt;ExcludeApp ID=&#34;OneDrive&#34; /&gt;
      &lt;ExcludeApp ID=&#34;OneNote&#34; /&gt;
      &lt;ExcludeApp ID=&#34;Publisher&#34; /&gt;
      &lt;ExcludeApp ID=&#34;Teams&#34; /&gt;
    &lt;/Product&gt;
    &lt;Product ID=&#34;LanguagePack&#34;&gt;
      &lt;Language ID=&#34;en-us&#34; /&gt;
      &lt;Language ID=&#34;ru-ru&#34; /&gt;
    &lt;/Product&gt;
    &lt;Product ID=&#34;ProofingTools&#34;&gt;
      &lt;Language ID=&#34;en-us&#34; /&gt;
      &lt;Language ID=&#34;ru-ru&#34; /&gt;
    &lt;/Product&gt;
  &lt;/Add&gt;
  &lt;Property Name=&#34;SharedComputerLicensing&#34; Value=&#34;0&#34; /&gt;
  &lt;Property Name=&#34;FORCEAPPSHUTDOWN&#34; Value=&#34;FALSE&#34; /&gt;
  &lt;Property Name=&#34;DeviceBasedLicensing&#34; Value=&#34;0&#34; /&gt;
  &lt;Property Name=&#34;SCLCacheOverride&#34; Value=&#34;0&#34; /&gt;
  &lt;Property Name=&#34;AUTOACTIVATE&#34; Value=&#34;1&#34; /&gt;
  &lt;Updates Enabled=&#34;TRUE&#34; /&gt;
  &lt;RemoveMSI /&gt;
&lt;/Configuration&gt;</code></pre>
    </div>
  </div>
</div>

<p>Сохраните его под названием <code>office.2021.minimal.xml</code> и запустите процесс установки при помощи команды <code>setup.exe /configure office.2021.minimal.xml</code>.</p>

<h2 id="создание-собственных-конфигураций">
    Создание собственных конфигураций
  <sup><a class="text-muted small" href="#%d1%81%d0%be%d0%b7%d0%b4%d0%b0%d0%bd%d0%b8%d0%b5-%d1%81%d0%be%d0%b1%d1%81%d1%82%d0%b2%d0%b5%d0%bd%d0%bd%d1%8b%d1%85-%d0%ba%d0%be%d0%bd%d1%84%d0%b8%d0%b3%d1%83%d1%80%d0%b0%d1%86%d0%b8%d0%b9"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Приведённые выше XML-файлы это файлы конфигураций. Их можно создавать самому при помощи веб-инструмента 






    
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


<a title="" href="https://config.office.com/deploymentsettings" target="_blank" rel="noopener noreferrer nofollow">Office Deployment Center</a>. На странице создания конфигураций укажите необходимые параметры и настройки, и нажмите кнопку 

<span class="shortcode shortcode-key"><kbd>Импорт</kbd></span>
.</p>
<p>Полученный XML-файл можно указывать в командах <code>setup.exe /download &lt;XML_FILE&gt;</code> и <code>setup.exe /configure &lt;XML_FILE&gt;</code> для конфигурирования установочного дистрибутива.</p>]]></content:encoded><pubDate>Tue, 26 Sep 2023 17:17:18 +0000</pubDate><category>Office</category></item><item><title>Включение DNS over TLS (DoT) в OPNsense</title><link>https://lib.onl/ru/posts/2022/08/badb30a9-0471-5dab-a422-85422c0ac611/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2022/08/badb30a9-0471-5dab-a422-85422c0ac611/</guid><description>Почитав несколько статей на тему DoT, я решил написать небольшую заметку по настройки OPNsense на использование этого протокола.</description><content:encoded><![CDATA[<p>Почитав несколько статей на тему DoT, я решил написать небольшую заметку по настройки OPNsense на использование этого протокола.</p>
<p><strong>DNS поверх TLS</strong> или <strong>DoT</strong> это протокол, при помощи которого происходит шифрование запросов и ответов к DNS через TLS. Таким образом, повышается конфиденциальность и безопасность пользователей в интернете.</p>
<p>Не все публичные сервера поддерживают DoT. Список наиболее предпочтительных, по моему мнению, я приведу в таблице в конце статьи. А теперь, по пунктам, я расскажу как правильно настроить OPNsense, чтобы она задействовала протокол DoT в своей работе. Для этого нужно выполнить всего несколько шагов&hellip;</p>

<h2 id="настройка-opnsense">
    Настройка OPNsense
  <sup><a class="text-muted small" href="#%d0%bd%d0%b0%d1%81%d1%82%d1%80%d0%be%d0%b9%d0%ba%d0%b0-opnsense"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><ul>
<li>System / Settings / General
<ul>
<li>Отключить параметр <strong>Do not use the local DNS service as a nameserver for this system</strong>.</li>
</ul>
</li>
<li>Services / DHCPv4 / [LAN]
<ul>
<li>Удалить все записи о DNS, если они имеются.</li>
</ul>
</li>
<li>Services / Unbound DNS / General
<ul>
<li>Включить сервис, поставив галочку напротив <strong>Enable</strong>.</li>
<li>Выбрать в параметре <strong>Network Interfaces</strong> пункт локальной сети, в данном случае, <em>LAN</em>.</li>
<li>Включить <strong>DNSSEC</strong>, поставив галочку напротив парамера <strong>Enable DNSSEC Support</strong>.</li>
<li>Остальные параметры можно выключить.</li>
</ul>
</li>
<li>Services / Unbound DNS / DNS over TLS
<ul>
<li>Добавить публичные сервера DNS из списка ниже.</li>
</ul>
</li>
</ul>

<h2 id="публичные-сервера-dns">
    Публичные сервера DNS
  <sup><a class="text-muted small" href="#%d0%bf%d1%83%d0%b1%d0%bb%d0%b8%d1%87%d0%bd%d1%8b%d0%b5-%d1%81%d0%b5%d1%80%d0%b2%d0%b5%d1%80%d0%b0-dns"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Ниже я привожу список публичных серверов DNS, которые поддерживают функцию DNS over TLS (DoT).</p>

<h3 id="cloudflare">
    Cloudflare
  <sup><a class="text-muted small" href="#cloudflare"><i class="fas fa-link fa-fw"></i></a></sup>
</h3>




<table class='table table-striped table-bordered table-responsive w-50'>
<thead>
<tr>
<th>Server IP</th>
<th>Server Port</th>
<th>Verify CN</th>
</tr>
</thead>
<tbody>
<tr>
<td>1.1.1.1</td>
<td>853</td>
<td>cloudflare-dns.com</td>
</tr>
<tr>
<td>1.0.0.1</td>
<td>853</td>
<td>cloudflare-dns.com</td>
</tr>
<tr>
<td>2606:4700:4700::1111</td>
<td>853</td>
<td>cloudflare-dns.com</td>
</tr>
<tr>
<td>2606:4700:4700::1001</td>
<td>853</td>
<td>cloudflare-dns.com</td>
</tr>
</tbody>
</table>



<h3 id="google">
    Google
  <sup><a class="text-muted small" href="#google"><i class="fas fa-link fa-fw"></i></a></sup>
</h3>




<table class='table table-striped table-bordered table-responsive w-50'>
<thead>
<tr>
<th>Server IP</th>
<th>Server Port</th>
<th>Verify CN</th>
</tr>
</thead>
<tbody>
<tr>
<td>8.8.8.8</td>
<td>853</td>
<td>dns.google</td>
</tr>
<tr>
<td>8.8.4.4</td>
<td>853</td>
<td>dns.google</td>
</tr>
<tr>
<td>2001:4860:4860::8888</td>
<td>853</td>
<td>dns.google</td>
</tr>
<tr>
<td>2001:4860:4860::8844</td>
<td>853</td>
<td>dns.google</td>
</tr>
</tbody>
</table>



<h3 id="quad9">
    Quad9
  <sup><a class="text-muted small" href="#quad9"><i class="fas fa-link fa-fw"></i></a></sup>
</h3>




<table class='table table-striped table-bordered table-responsive w-50'>
<thead>
<tr>
<th>Server IP</th>
<th>Server Port</th>
<th>Verify CN</th>
</tr>
</thead>
<tbody>
<tr>
<td>9.9.9.9</td>
<td>853</td>
<td>dns.quad9.net</td>
</tr>
<tr>
<td>149.112.112.112</td>
<td>853</td>
<td>dns.quad9.net</td>
</tr>
<tr>
<td>2620:fe::fe</td>
<td>853</td>
<td>dns.quad9.net</td>
</tr>
<tr>
<td>2620:fe::9</td>
<td>853</td>
<td>dns.quad9.net</td>
</tr>
</tbody>
</table>



<h3 id="cisco-umbrella">
    Cisco Umbrella
  <sup><a class="text-muted small" href="#cisco-umbrella"><i class="fas fa-link fa-fw"></i></a></sup>
</h3>




<table class='table table-striped table-bordered table-responsive w-50'>
<thead>
<tr>
<th>Server IP</th>
<th>Server Port</th>
<th>Verify CN</th>
</tr>
</thead>
<tbody>
<tr>
<td>208.67.222.222</td>
<td>853</td>
<td>dns.opendns.com</td>
</tr>
<tr>
<td>208.67.220.220</td>
<td>853</td>
<td>dns.opendns.com</td>
</tr>
<tr>
<td>2620:119:35::35</td>
<td>853</td>
<td>dns.opendns.com</td>
</tr>
<tr>
<td>2620:119:53::53</td>
<td>853</td>
<td>dns.opendns.com</td>
</tr>
</tbody>
</table>



<h3 id="cleanbrowsing">
    CleanBrowsing
  <sup><a class="text-muted small" href="#cleanbrowsing"><i class="fas fa-link fa-fw"></i></a></sup>
</h3>




<table class='table table-striped table-bordered table-responsive w-50'>
<thead>
<tr>
<th>Server IP</th>
<th>Server Port</th>
<th>Verify CN</th>
</tr>
</thead>
<tbody>
<tr>
<td>185.228.168.9</td>
<td>853</td>
<td>security-filter-dns.cleanbrowsing.org</td>
</tr>
<tr>
<td>185.228.169.9</td>
<td>853</td>
<td>security-filter-dns.cleanbrowsing.org</td>
</tr>
<tr>
<td>2a0d:2a00:1::2</td>
<td>853</td>
<td>security-filter-dns.cleanbrowsing.org</td>
</tr>
<tr>
<td>2a0d:2a00:2::2</td>
<td>853</td>
<td>security-filter-dns.cleanbrowsing.org</td>
</tr>
</tbody>
</table>



<h3 id="adguard-dns">
    AdGuard DNS
  <sup><a class="text-muted small" href="#adguard-dns"><i class="fas fa-link fa-fw"></i></a></sup>
</h3>




<table class='table table-striped table-bordered table-responsive w-50'>
<thead>
<tr>
<th>Server IP</th>
<th>Server Port</th>
<th>Verify CN</th>
</tr>
</thead>
<tbody>
<tr>
<td>94.140.14.14</td>
<td>853</td>
<td>dns.adguard-dns.com</td>
</tr>
<tr>
<td>94.140.15.15</td>
<td>853</td>
<td>dns.adguard-dns.com</td>
</tr>
<tr>
<td>2a10:50c0::ad1:ff</td>
<td>853</td>
<td>dns.adguard-dns.com</td>
</tr>
<tr>
<td>2a10:50c0::ad2:ff</td>
<td>853</td>
<td>dns.adguard-dns.com</td>
</tr>
</tbody>
</table>]]></content:encoded><pubDate>Sun, 14 Aug 2022 18:16:34 +0000</pubDate><category>Сеть</category></item><item><title>Windows Server 2022 для рабочей станции</title><link>https://lib.onl/ru/posts/2022/05/36058650-3f35-5ed5-9565-0aa7d8800c28/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2022/05/36058650-3f35-5ed5-9565-0aa7d8800c28/</guid><description>В этой небольшой заметке я расскажу, как перенастроить серверную версию ОС Windows для работы на обычном стационарном ПК.</description><content:encoded><![CDATA[<p>В этой небольшой заметке я расскажу, как перенастроить серверную версию ОС Windows для работы на обычном стационарном ПК.</p>
<h2 id="настройка-служб">
    Настройка служб
  <sup><a class="text-muted small" href="#%d0%bd%d0%b0%d1%81%d1%82%d1%80%d0%be%d0%b9%d0%ba%d0%b0-%d1%81%d0%bb%d1%83%d0%b6%d0%b1"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>На сервере нет необходимости использовать поисковые механизмы и вывод звука, поэтому они отключены. Но на рабочей станции эти параметры необходимы. Для включения звука и поискового механизма, необходимо настроить запуск соответствующих служб.</p>
<ul>
<li>Services
<ul>
<li>Windows Audio
<ul>
<li>Startup type
<ul>
<li>Automatic</li>
</ul>
</li>
</ul>
</li>
<li>Windows Audio Endpoint
<ul>
<li>Startup type
<ul>
<li>Automatic</li>
</ul>
</li>
</ul>
</li>
<li>Windows Search
<ul>
<li>Startup type
<ul>
<li>Automatic (Delayed Start)</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

<h2 id="отключение-shutdown-event-tracker">
    Отключение Shutdown Event Tracker
  <sup><a class="text-muted small" href="#%d0%be%d1%82%d0%ba%d0%bb%d1%8e%d1%87%d0%b5%d0%bd%d0%b8%d0%b5-shutdown-event-tracker"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Сервер должен работать бесперебойно. Любое отключение сервера, по хорошему, должно записываться в специальный журнал. Но так как у нас рабочая станция, записывать каждые перезагрузку или выключение нет необходимости. Включаем службы.</p>
<ul>
<li>Local Group Policy
<ul>
<li>Computer Configuration / Administrative Templates / System
<ul>
<li>Display Shutdown Event Tracker
<ul>
<li>Disabled</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

<h2 id="отключение-строгой-системы-безопасности-ie">
    Отключение строгой системы безопасности IE
  <sup><a class="text-muted small" href="#%d0%be%d1%82%d0%ba%d0%bb%d1%8e%d1%87%d0%b5%d0%bd%d0%b8%d0%b5-%d1%81%d1%82%d1%80%d0%be%d0%b3%d0%be%d0%b9-%d1%81%d0%b8%d1%81%d1%82%d0%b5%d0%bc%d1%8b-%d0%b1%d0%b5%d0%b7%d0%be%d0%bf%d0%b0%d1%81%d0%bd%d0%be%d1%81%d1%82%d0%b8-ie"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Сервер использует строгие параметры системы безопасности IE. Но на рабочей станции в этих параметрах нет необходимости и они будут только мешать. Отключаем их.</p>
<ul>
<li>Server Manager / Local Server
<ul>
<li>IE Enhanced Security Configuration
<ul>
<li>Off</li>
</ul>
</li>
</ul>
</li>
</ul>

<h2 id="оптимизация-производительности-для-приложений">
    Оптимизация производительности для приложений
  <sup><a class="text-muted small" href="#%d0%be%d0%bf%d1%82%d0%b8%d0%bc%d0%b8%d0%b7%d0%b0%d1%86%d0%b8%d1%8f-%d0%bf%d1%80%d0%be%d0%b8%d0%b7%d0%b2%d0%be%d0%b4%d0%b8%d1%82%d0%b5%d0%bb%d1%8c%d0%bd%d0%be%d1%81%d1%82%d0%b8-%d0%b4%d0%bb%d1%8f-%d0%bf%d1%80%d0%b8%d0%bb%d0%be%d0%b6%d0%b5%d0%bd%d0%b8%d0%b9"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>По умолчанию, на сервере оптимизация включена для фоновых служб. На рабочей станции необходима оптимизация для программ. Включаем оптимизацию для программ.</p>
<ul>
<li>System / Advanced System Settings / Advanced / Performance / Advanced
<ul>
<li>Adjust for best performance of
<ul>
<li>Programs</li>
</ul>
</li>
</ul>
</li>
</ul>

<h2 id="отключение-dep">
    Отключение DEP
  <sup><a class="text-muted small" href="#%d0%be%d1%82%d0%ba%d0%bb%d1%8e%d1%87%d0%b5%d0%bd%d0%b8%d0%b5-dep"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>По умолчанию, 






    
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


<a title="" href="https://docs.microsoft.com/en-us/windows/win32/memory/data-execution-prevention" target="_blank" rel="noopener noreferrer nofollow">Data Execution Prevention (DEP)</a> включена абсолютно для всех программ и сервисов. Такая излишняя защита на рабочей станции не нужна. Поэтому, переключаем выполнение DEP только для программ и сервисов самой ОС Windows.</p>
<ul>
<li>System / Advanced System Settings / Advanced / Performance / Data Execution Prevention
<ul>
<li>Turn on DEP for essential Windows programs and services only</li>
</ul>
</li>
</ul>

<h2 id="включение-memory-compression-operation-api-и-pagecombining">
    Включение Memory Compression, Operation API и PageCombining
  <sup><a class="text-muted small" href="#%d0%b2%d0%ba%d0%bb%d1%8e%d1%87%d0%b5%d0%bd%d0%b8%d0%b5-memory-compression-operation-api-%d0%b8-pagecombining"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>В ОС Windows для обычных компьютеров включены Memory Compression, Operation API и PageCombining. Поэтому, перенастраиваем серверную версию ОС на такую же конфигурацию. Для этого запускаем PowerShell от имени Администратора и выполняем команду:</p>
<pre><code class="language-powershell">Enable-MMAgent -MemoryCompression -OperationAPI -PageCombining
</code></pre>]]></content:encoded><pubDate>Mon, 09 May 2022 11:53:26 +0000</pubDate><category>MS Windows</category></item><item><title>Установка ядра XanMod в Debian</title><link>https://lib.onl/ru/posts/2022/01/06ef2fab-2ae2-5356-9154-7ca1e486d27d/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2022/01/06ef2fab-2ae2-5356-9154-7ca1e486d27d/</guid><description>Приветствую! В этой небольшой заметке приведу команду, при помощи которой можно добавить репозиторий ядра XanMod в Debian.</description><content:encoded><![CDATA[<p>Приветствую! В этой небольшой заметке приведу команду, при помощи которой можно добавить репозиторий ядра <strong>XanMod</strong> в Debian.</p>
<p>Ядро <strong>XanMod</strong> имеет ряд патчей и оптимизаций. Список изменений по сравнению с ванильным ядром, я взял с 






    
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


<a title="" href="https://xanmod.org" target="_blank" rel="noopener noreferrer nofollow">официального сайта</a>:</p>
<ul>
<li>Caching, Virtual Memory Manager and CPUFreq Governor improvements.</li>
<li>Full multi-core block layer runqueue requests for high I/O throughput.</li>
<li>BBRv2 TCP congestion control + FQ-PIE packet scheduling and AQM algorithm.</li>
<li>ORC Unwinder for kernel stack traces (debuginfo) implementation.</li>
<li>High responsiveness multitasking Task Type scheduler (SCHED_NORMAL) build available [5.15-tt].</li>
<li>Real-time Linux kernel (PREEMPT_RT) build available [5.15-rt] [5.10-rt].</li>
<li>Third-party patchset available: patches
<ul>
<li>le9&rsquo;s file mappings under memory pressure protection.</li>
<li>Linux Random Number Generator (LRNG) framework.</li>
<li>TCP performance optimizations backport from linux/net-next [5.16] [5.15].</li>
<li>AMD&rsquo;s P-state driver for Zen2 and Zen3 processors [5.16] [5.15].</li>
<li>Futex waitv and legacy WAIT_MULTIPLE implementation for Wine / Proton Fsync support.</li>
<li>WineSync driver for fast kernel-backed Wine [5.16] [5.15] [as module: winesync].</li>
<li>Google&rsquo;s Multigenerational LRU framework [5.16] [5.15].</li>
<li>Google&rsquo;s BBRv2 TCP congestion control.</li>
<li>Paragon&rsquo;s Software NTFS3 driver [as module: ntfs3].</li>
<li>PCIe ACS Override for bypassing IOMMU groups support.</li>
<li>Graysky&rsquo;s additional CPU optimizations for GCC and Clang.</li>
<li>Clear Linux patchset [partial].</li>
<li>Android Ashmem and Binder IPC driver as module for Anbox.</li>
<li>Updated ZSTD library for bug fixes and r/w performance compression improvements on Btrfs, F2FS, SquashFS, pstore, initramfs and vmlinuz.</li>
</ul>
</li>
<li>Generic packages for compatibility with most Debian &amp; Ubuntu based distributions. Builts on the latest LLVM 12.0.1, GCC 11.2 and Binutils 2.37.</li>
<li>GPLv2 license. Can be built for any distribution or purpose.</li>
</ul>
<p>Стоит заметить, что ядро <strong>XanMod</strong> не единственное, которое интегрирует в себя оптимизации. Есть ещё ядро 






    
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


<a title="" href="https://liquorix.net" target="_blank" rel="noopener noreferrer nofollow"><strong>Liquorix</strong></a>, которое занимается практически тем же самым. Но, посмотрев 






    
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


<a title="" href="https://www.phoronix.com/scan.php?page=article&amp;item=ryzen5-xanmod-liquorix" target="_blank" rel="noopener noreferrer nofollow">обзор и тесты</a> на Phoronix&rsquo;е, я сделал выбор в пользу <strong>XanMod</strong>.</p>
<p>Однострочная команда по добавлению ядра <strong>XanMod</strong> в репозиторий Debian&rsquo;а приведена ниже. Она дробится на следующие под-команды:</p>
<ol>
<li>Добавление файла <code>xanmod-kernel.list</code> в директорию <code>/etc/apt/sources.list.d</code>.</li>
<li>Скачивание файла подписи <code>gpg.key</code> и размещение его в директорию <code>/etc/apt/trusted.gpg.d</code> с названием <code>xanmod-kernel.gpg</code>.</li>
<li>Обновление информации из репозитория при помощи команды <code>apt update</code>.</li>
</ol>
<pre><code class="language-sh">echo 'deb http://deb.xanmod.org releases main' | tee /etc/apt/sources.list.d/xanmod-kernel.list &amp;&amp; curl -fsSL 'https://dl.xanmod.org/gpg.key' | gpg --dearmor | tee /etc/apt/trusted.gpg.d/xanmod-kernel.gpg &gt; /dev/null &amp;&amp; apt update
</code></pre>
<p>После выполнения команды, установка ядра <strong>XanMod</strong> происходит таким образом:</p>
<pre><code class="language-sh">apt install linux-xanmod
</code></pre>
<p>Для установки Mainline-версии ядра команда будет такой:</p>
<pre><code class="language-sh">apt install linux-xanmod-edge
</code></pre>

<h2 id="fq-pie">
    FQ-PIE
  <sup><a class="text-muted small" href="#fq-pie"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Для включения планировщика пакетов <strong>FQ-PIE</strong>, необходимо выполнить команду:</p>
<pre><code class="language-sh">echo 'net.core.default_qdisc = fq_pie' | tee /etc/sysctl.d/90-override.conf
</code></pre>
<p>Проверка:</p>
<pre><code class="language-sh">tc qdisc show
</code></pre>]]></content:encoded><pubDate>Thu, 13 Jan 2022 22:44:15 +0000</pubDate><category>Linux</category></item><item><title>Установка Vivaldi в Debian</title><link>https://lib.onl/ru/posts/2022/01/ddddd243-d182-5e26-a161-d2ea7812214a/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2022/01/ddddd243-d182-5e26-a161-d2ea7812214a/</guid><description>Привет всем! В этой небольшой заметке я приведу команду, при помощи которой можно добавить репозиторий браузера Vivaldi в Debian.</description><content:encoded><![CDATA[<p>Привет всем! В этой небольшой заметке я приведу команду, при помощи которой можно добавить репозиторий браузера <strong>Vivaldi</strong> в Debian.</p>
<p>Установочный пакет <strong>Vivaldi</strong> уже выполняет указанные действия, но для этого он задействует утилиту <code>apt-key</code>, которая в <strong>Debian 11</strong> имеет статус <code>deprecated</code>.</p>
<p>Однострочная команда по добавлению <strong>Vivaldi</strong> в репозиторий Debian&rsquo;а приведена ниже. Она дробится на следующие под-команды:</p>
<ol>
<li>Добавление файла <code>vivaldi-archive.list</code> в директорию <code>/etc/apt/sources.list.d</code>.</li>
<li>Скачивание файла подписи <code>linux_signing_key.pub</code> и размещение его в директорию <code>/etc/apt/trusted.gpg.d</code> с названием <code>vivaldi-browser.gpg</code>.</li>
<li>Обновление информации из репозитория при помощи команды <code>apt update</code>.</li>
</ol>
<pre><code class="language-sh">echo &quot;deb [signed-by=/etc/apt/trusted.gpg.d/vivaldi-browser.gpg arch=$(dpkg --print-architecture)] https://repo.vivaldi.com/archive/deb/ stable main&quot; | tee /etc/apt/sources.list.d/vivaldi-archive.list &amp;&amp; curl -fsSL 'https://repo.vivaldi.com/archive/linux_signing_key.pub' | gpg --dearmor | tee /etc/apt/trusted.gpg.d/vivaldi-browser.gpg &gt; /dev/null &amp;&amp; apt update
</code></pre>
<p>После выполнения команды, установка <strong>Vivaldi</strong> происходит таким образом:</p>
<pre><code class="language-sh">apt install vivaldi-stable
</code></pre>]]></content:encoded><pubDate>Thu, 13 Jan 2022 22:44:01 +0000</pubDate><category>Linux</category></item><item><title>Чёрный экран с курсором при старте GDM</title><link>https://lib.onl/ru/posts/2021/09/581804b8-0613-52a8-a5c4-fdae90e7bc8a/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2021/09/581804b8-0613-52a8-a5c4-fdae90e7bc8a/</guid><description>На днях установил Debian 11 на несколько ПК. Всё было отлично, кроме как на одном из ПК почему то GDM не стал загружаться. Чёрный экран с мигающем текстовым курсором&amp;hellip;</description><content:encoded><![CDATA[<p>На днях установил <strong>Debian 11</strong> на несколько ПК. Всё было отлично, кроме как на одном из ПК почему то <strong>GDM</strong> не стал загружаться. Чёрный экран с мигающем текстовым курсором&hellip;</p>
<p>На других ПК всё было нормально. Отличие проблемного ПК от остальных заключалось в том, что на проблемном ПК система была установлена на <strong>SSD</strong>. Может быть дело в этом. В интернете я нашёл похожую проблему. По сути, проблема заключается в том, что сам GDM запускается чуть раньше, чем начинается инициализация графической подсистемы. И на кой чёрт его несёт вперёд&hellip;</p>
<p>В общем, предлагают несколько решений.</p>

<h2 id="настройка-сервиса-gdm">
    Настройка сервиса GDM
  <sup><a class="text-muted small" href="#%d0%bd%d0%b0%d1%81%d1%82%d1%80%d0%be%d0%b9%d0%ba%d0%b0-%d1%81%d0%b5%d1%80%d0%b2%d0%b8%d1%81%d0%b0-gdm"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Данный вариант решения проблемы предлагает отредактировать стартовые параметры сервиса GDM, чтобы тот запускался с небольшой задержкой и не лез вперёд остальной графической подсистемы.</p>
<p>В терминале нужно ввести от root&rsquo;а команду <code>systemctl edit gdm.service</code>, откроется редактор сервиса GDM. В нем необходимо добавить строку <code>ExecStartPre=/bin/sleep 2</code>, которая создаёт задержку перед запуском самого GDM. Примерно вот так:</p>
<pre><code class="language-ini">### Anything between here and the comment below will become the new contents of the file

[Service]
ExecStartPre=/bin/sleep 2

### Lines below this comment will be discarded
</code></pre>
<p>Таким образом GDM начинает запускаться после того, как инициализируется графическая подсистема.</p>
<p>Ещё одно исправление 






    
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


<a title="" href="https://gitlab.gnome.org/GNOME/gdm/-/issues/662#note_993169" target="_blank" rel="noopener noreferrer nofollow">предложили</a> в баг-трекере GNOME/GDM. Вместо торможения загрузки GDM, необходимо добавить следующие строки:</p>
<pre><code class="language-ini">[Unit]
Wants=systemd-udev-trigger.service systemd-udev-settle.service
After=systemd-udev-trigger.service systemd-udev-settle.service
</code></pre>
<p>Но это не совсем корректное исправление (хотя исправление, изложенное выше, тоже трудно назвать правильным), так как после применения этих строк, появляется ошибка:</p>
<pre><code class="language-text">Dec 27 22:23:48 oleksandr-xps15 udevadm[260]: systemd-udev-settle.service is deprecated. Please fix gdm.service not to pull it in.
</code></pre>

<h2 id="указание-порядка-инициализации-графической-подсистемы">
    Указание порядка инициализации графической подсистемы
  <sup><a class="text-muted small" href="#%d1%83%d0%ba%d0%b0%d0%b7%d0%b0%d0%bd%d0%b8%d0%b5-%d0%bf%d0%be%d1%80%d1%8f%d0%b4%d0%ba%d0%b0-%d0%b8%d0%bd%d0%b8%d1%86%d0%b8%d0%b0%d0%bb%d0%b8%d0%b7%d0%b0%d1%86%d0%b8%d0%b8-%d0%b3%d1%80%d0%b0%d1%84%d0%b8%d1%87%d0%b5%d1%81%d0%ba%d0%be%d0%b9-%d0%bf%d0%be%d0%b4%d1%81%d0%b8%d1%81%d1%82%d0%b5%d0%bc%d1%8b"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Этот вариант решения проблемы подходит для <strong>Arch Linux</strong>. Необходимо в файле <code>/etc/mkinitcpio.conf</code> добавить в массив <code>MODULES</code> свою графическую подсистему, чтобы та запускалась раньше, чем GDM. Например:</p>
<pre><code class="language-text">MODULES=(amdgpu)
</code></pre>
<p>Можно указать другие графические подсистемы, всё зависит от видеокарты, установленной в ПК:</p>
<ul>
<li><code>amdgpu</code> - для современных видеокарт AMD.</li>
<li><code>radeon</code> - для устаревших видеокарт AMD.</li>
<li><code>nouveau</code> - для Nvidia Nouveau.</li>
<li><code>i915</code> - для Intel.</li>
<li><code>mgag200</code> - для видеокарт Matrox.</li>
</ul>
<p>Если в системе используется Intel в качестве графики и в модулях прописан <code>i915</code>, то могут появится ошибки ACPI. Для исправления этих ошибок необходимо добавить <code>intel_agp</code> перед <code>i915</code>. Чтобы проверить корректность загрузки модуля, можно ввести команду <code>lsmod | grep intel_agp</code>.</p>]]></content:encoded><pubDate>Thu, 30 Sep 2021 08:10:19 +0000</pubDate><category>Linux</category></item><item><title>Отключение режима Wayland в GDM</title><link>https://lib.onl/ru/posts/2021/09/0d11ecc0-2714-5c5c-9b48-804f50419590/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2021/09/0d11ecc0-2714-5c5c-9b48-804f50419590/</guid><description>Использовать Wayland мне, пока что, нет необходимости. Поэтому, я решил его отключить в GDM.</description><content:encoded><![CDATA[<p>Использовать <strong>Wayland</strong> мне, пока что, нет необходимости. Поэтому, я решил его отключить в <strong>GDM</strong>.</p>
<p>Для того, чтобы отключить выбор режима Wayland в GDM, необходимо в файле <code>/etc/gdm3/daemon.conf</code> раскомментировать строку:</p>
<pre><code class="language-text"># WaylandEnable=false
</code></pre>
<p>Должно получится так:</p>
<pre><code class="language-text">WaylandEnable=false
</code></pre>
<p>Таким образом даём понять GDM, что мы не желаем использовать Wayland.</p>]]></content:encoded><pubDate>Thu, 30 Sep 2021 07:51:30 +0000</pubDate><category>Linux</category></item><item><title>Установка Proxmox VE на Debian 11 (Bullseye)</title><link>https://lib.onl/ru/posts/2021/09/1cf305cd-85d0-5e02-aabb-e01346bfee0f/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2021/09/1cf305cd-85d0-5e02-aabb-e01346bfee0f/</guid><description>В этой небольшой заметке, я расскажу как установить Proxmox VE на чистый Debian 11 (Bullseye).</description><content:encoded><![CDATA[<p>В этой небольшой заметке, я расскажу как установить <strong>Proxmox VE</strong> на чистый <strong>Debian 11 (Bullseye)</strong>.</p>
<h2 id="подготовка">
    Подготовка
  <sup><a class="text-muted small" href="#%d0%bf%d0%be%d0%b4%d0%b3%d0%be%d1%82%d0%be%d0%b2%d0%ba%d0%b0"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Для начала необходимо отредактировать файл <code>/etc/hosts</code>, прописав туда IP сервера, на который будет устанавливаться наш Proxmox VE:</p>
<pre><code>127.0.0.1   localhost
127.0.1.1   localhost.localdomain     localhost

# Proxmox
10.0.1.1    srv-vm.home.local         srv-vm
</code></pre>
<p>Для проверки, можно выполнить команду <code>hostname --ip-address</code>, которая вернёт IP сервера, указанного в <code>/etc/hosts</code> выше.</p>

<h2 id="добавление-репозиториев">
    Добавление репозиториев
  <sup><a class="text-muted small" href="#%d0%b4%d0%be%d0%b1%d0%b0%d0%b2%d0%bb%d0%b5%d0%bd%d0%b8%d0%b5-%d1%80%d0%b5%d0%bf%d0%be%d0%b7%d0%b8%d1%82%d0%be%d1%80%d0%b8%d0%b5%d0%b2"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Добавим репозиторий Proxmox VE:</p>
<pre><code class="language-sh">echo &quot;deb [arch=amd64] http://download.proxmox.com/debian/pve bullseye pve-no-subscription&quot; &gt; /etc/apt/sources.list.d/pve.list
</code></pre>
<p>Скачаем и установим ключ репозитория:</p>
<pre><code class="language-sh">curl 'https://enterprise.proxmox.com/debian/proxmox-release-bullseye.gpg' -o /etc/apt/trusted.gpg.d/pve.gpg
</code></pre>
<p>Обновим базу пакетов APT и саму систему:</p>
<pre><code class="language-text">apt update &amp;&amp; apt full-upgrade
</code></pre>

<h2 id="установка-пакетов">
    Установка пакетов
  <sup><a class="text-muted small" href="#%d1%83%d1%81%d1%82%d0%b0%d0%bd%d0%be%d0%b2%d0%ba%d0%b0-%d0%bf%d0%b0%d0%ba%d0%b5%d1%82%d0%be%d0%b2"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Начнём установку пакетов командой:</p>
<pre><code class="language-text">apt install proxmox-ve postfix open-iscsi
</code></pre>
<p>Стоит заметить, что устанавливается Postfix, он необходим для отправки писем от Proxmox VE. Но мне в локальной сети такая функция не нужна. При установке, Postfix спросит в каком режиме ему необходимо будет работать. Я выбираю <strong>local only</strong>.</p>

<h2 id="исправление-ошибок">
    Исправление ошибок
  <sup><a class="text-muted small" href="#%d0%b8%d1%81%d0%bf%d1%80%d0%b0%d0%b2%d0%bb%d0%b5%d0%bd%d0%b8%d0%b5-%d0%be%d1%88%d0%b8%d0%b1%d0%be%d0%ba"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>После установки Proxmox VE через пакетны менеджер APT, я столкнулся с некоторыми проблемами. Не знаю, может быть они будут отсутствовать, если устанавливать Proxmox VE при помощи его отдельного ISO-файла&hellip;</p>

<h3 id="lvm2-activation-generator-lvmconfig-failed">
    lvm2-activation-generator: lvmconfig failed
  <sup><a class="text-muted small" href="#lvm2-activation-generator-lvmconfig-failed"><i class="fas fa-link fa-fw"></i></a></sup>
</h3><p>Для исправления ошибки <code>lvm2-activation-generator: lvmconfig failed</code>, необходимо в файле <code>/etc/lvm/lvm.conf</code> изменить параметр <code>event_activation</code>, а именно раскомментировать и установить в <code>0</code>:</p>
<pre><code>global {
  &lt;...&gt;
  # Configuration option global/event_activation.
  # Activate LVs based on system-generated device events.
  # When a device appears on the system, a system-generated event runs
  # the pvscan command to activate LVs if the new PV completes the VG.
  # Use auto_activation_volume_list to select which LVs should be
  # activated from these events (the default is all.)
  # When event_activation is disabled, the system will generally run
  # a direct activation command to activate LVs in complete VGs.
  # This configuration option has an automatic default value.
  # event_activation = 1
  &lt;...&gt;
}
</code></pre>
<pre><code>global {
  &lt;...&gt;
  # Configuration option global/event_activation.
  # Activate LVs based on system-generated device events.
  # When a device appears on the system, a system-generated event runs
  # the pvscan command to activate LVs if the new PV completes the VG.
  # Use auto_activation_volume_list to select which LVs should be
  # activated from these events (the default is all.)
  # When event_activation is disabled, the system will generally run
  # a direct activation command to activate LVs in complete VGs.
  # This configuration option has an automatic default value.
  event_activation = 0
  &lt;...&gt;
}
</code></pre>

<h3 id="не-поднимается--интерфейс">
    Не поднимается  интерфейс
  <sup><a class="text-muted small" href="#%d0%bd%d0%b5-%d0%bf%d0%be%d0%b4%d0%bd%d0%b8%d0%bc%d0%b0%d0%b5%d1%82%d1%81%d1%8f--%d0%b8%d0%bd%d1%82%d0%b5%d1%80%d1%84%d0%b5%d0%b9%d1%81"><i class="fas fa-link fa-fw"></i></a></sup>
</h3><p>После установки, у меня перестал автоматически подниматься сетевой интерфейс. Может быть, в отдельном ISO-образе Proxmox VE такой проблемы нет, потому что при установке с отдельного ISO-образа, он запрашивает у администратора параметры сети. Но если устанавливать Proxmox VE через пакетную систему Debian, то никаких запросов не появляется. В общем, я сделал так (<code>/etc/network/interfaces</code>):</p>
<pre><code>auto lo
iface lo inet loopback

iface enp3s0 inet manual

auto vmbr0
iface vmbr0 inet static
  address 10.0.1.1/16
  gateway 10.0.0.1
  bridge-ports enp3s0
  bridge-stp off
  bridge-fd 0
</code></pre>
<p>Конкретно, тут я добавил блок виртуального соединения:</p>
<pre><code>auto vmbr0
iface vmbr0 inet static
  address 10.0.1.1/16
  gateway 10.0.0.1
  bridge-ports enp3s0
  bridge-stp off
  bridge-fd 0
</code></pre>
<p>Где указал мост с физической картой <code>enp3s0</code>. Саму же карту <code>enp3s0</code> я перевёл в режим <code>manual</code>. После этого, сетевой интерфейс на сервере заработал в штатном режиме.</p>
<p>На этом консольная настройка сервера виртуализации закончена. Настройка самого Proxmox&rsquo;а можно выполнять уже в удобном web-интерфейсе.</p>]]></content:encoded><pubDate>Sun, 12 Sep 2021 21:36:02 +0000</pubDate><category>Linux</category><category>В доработке</category></item><item><title>Debian: Wired Networks are Unmanaged</title><link>https://lib.onl/ru/posts/2021/09/ff829d15-4a19-52e3-a3aa-ad70aa38854a/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2021/09/ff829d15-4a19-52e3-a3aa-ad70aa38854a/</guid><description>При базовой установке Debian, Network Manager не устанавливается и, соответственно, он не управляет сетевой конфигурацией. Исправим данную ситуацию&amp;hellip;</description><content:encoded><![CDATA[<p>При базовой установке Debian, Network Manager не устанавливается и, соответственно, он не управляет сетевой конфигурацией. Исправим данную ситуацию&hellip;</p>
<p>Лично я люблю ставить систему в минимальной комплектации. У меня есть 






    
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


<a title="" href="https://uaik.github.io/" target="_blank" rel="noopener noreferrer nofollow">отдельный ресурс</a> со сценариями автоматической установки. Это шаблоны, которые позволяют поставить систему в автоматическом режиме и с минимальным набором компонентов. В основном, такие шаблоны полезны для серверов. Однако, для домашнего компьютера тоже вполне подойдут. Но после установки домашней системы через такой шаблон, потребуется небольшая корректировка.</p>
<p>Итак, установим Network Manager при помощи пакетного менеджера <strong>APT</strong>:</p>
<pre><code class="language-text">apt install network-manager
</code></pre>
<p>Но этого недостаточно. Система будет говорить, что &ldquo;Wired Networks are Unmanaged&rdquo;, потому что всё ещё сетевой конфигурацией управляет не Network Manager. Для исправления этой ситуации, необходимо в <code>/etc/NetworkManager/NetworkManager.conf</code> изменить <code>managed=false</code> на <code>managed=true</code>.</p>
<p>Далее, перезапустить службу:</p>
<pre><code class="language-text">service NetworkManager restart
</code></pre>
<p>На этом всё. Теперь сетевой конфигурацией управляет Network Manager.</p>]]></content:encoded><pubDate>Thu, 09 Sep 2021 19:14:12 +0000</pubDate><category>Linux</category></item><item><title>Распаковка пакетов DEB / RPM</title><link>https://lib.onl/ru/posts/2021/09/b2caccc7-92bf-57ed-970f-136c546f18e2/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2021/09/b2caccc7-92bf-57ed-970f-136c546f18e2/</guid><description>Я собираю пакеты для Debian и RHEL. И зачастую, мне необходимо посмотреть содержимое собранного пакета, чтобы удостоверится в правильности сборки и корректности расположения файлов внутри пакета. В этой статье кратно расскажу, как и при помощи чего можно посмотреть собранные пакеты.</description><content:encoded><![CDATA[<p>Я собираю пакеты для Debian и RHEL. И зачастую, мне необходимо посмотреть содержимое собранного пакета, чтобы удостоверится в правильности сборки и корректности расположения файлов внутри пакета. В этой статье кратно расскажу, как и при помощи чего можно посмотреть собранные пакеты.</p>
<h2 id="deb">
    DEB
  <sup><a class="text-muted small" href="#deb"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Пакет <code>.deb</code> архивируется при помощи 






    
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


<a title="" href="https://en.wikipedia.org/wiki/Ar_%28Unix%29" target="_blank" rel="noopener noreferrer nofollow">ar</a>. Соответственно, распаковать пакет тоже следует через данный архиватор:</p>
<pre><code class="language-sh">ar x example.deb
</code></pre>
<ul>
<li><code>debian-binary</code> – файл, содержащий версию формата <code>.deb</code>.</li>
<li><code>control.tar.xz</code> – файл, содержащий md5sums и директорию для сборки пакета.</li>
<li><code>data.tar.xz</code> – архив, содержащий все файлы, которые должны быть установлены в системе при установке пакета.</li>
</ul>

<h2 id="rpm">
    RPM
  <sup><a class="text-muted small" href="#rpm"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Пакет <code>.rpm</code> содержит архив <code>cpio</code>. Имеется удобная утилита <code>rpm2cpio</code>, которая преобразует <code>.rpm</code> в архив <code>cpio</code>.</p>
<pre><code class="language-sh">rpm2cpio myrpmfile.rpm
rpm2cpio - &lt; myrpmfile.rpm
rpm2cpio myrpmfile.rpm | cpio -idmv
</code></pre>
<p>Опции <code>rpm2cpio</code>:</p>
<ul>
<li><code>-i</code> - восстановить архив.</li>
<li><code>-d</code> - создать необходимые каталоги.</li>
<li><code>-m</code> - сохранить время модификации файлов.</li>
<li><code>-v</code> - подробный вывод процесса преобразования.</li>
</ul>
<p>Также, просматривать <code>.rpm</code> можно при помощи файлового менеджера Midnight Commander (<code>mc</code>).</p>]]></content:encoded><pubDate>Wed, 08 Sep 2021 09:39:36 +0000</pubDate><category>Linux</category></item><item><title>Отключение установки дополнительных пакетов в Debian APT</title><link>https://lib.onl/ru/posts/2021/09/43b40b92-c29a-504b-87fa-5eac368dcf95/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2021/09/43b40b92-c29a-504b-87fa-5eac368dcf95/</guid><description>Стандартное действие APT при установке пакета, это установить дополнительные рекомендуемые пакеты. Но, к примеру, мне рекомендуемые пакеты не нужны. Они занимают место и, если я захочу поставить что-то дополнительно, я поставлю это сам.</description><content:encoded><![CDATA[<p>Стандартное действие APT при установке пакета, это установить дополнительные рекомендуемые пакеты. Но, к примеру, мне рекомендуемые пакеты не нужны. Они занимают место и, если я захочу поставить что-то дополнительно, я поставлю это сам.</p>
<p>Ниже приведены две команды, которые позволяют отключить установку рекомендуемых (Recommends) и дополнительных (Suggests)пакетов.</p>
<pre><code class="language-sh">echo 'APT::Install-Recommends &quot;false&quot;;' &gt; /etc/apt/apt.conf.d/00InstallRecommends
echo 'APT::Install-Suggests &quot;false&quot;;' &gt; /etc/apt/apt.conf.d/00InstallSuggests
</code></pre>
<p>Стоит заметить, что при установке Debian на завершающем этапе можно отключить рекомендуемые пакеты (в preseed этот параметр именуется как <code>d-i base-installer/install-recommends boolean false</code>). При этом, после установки, Debian сам создаст файл <code>00InstallRecommends</code> в <code>/etc/apt/apt.conf.d</code> с соответствующим содержанием.</p>]]></content:encoded><pubDate>Tue, 07 Sep 2021 13:07:46 +0000</pubDate><category>Linux</category></item><item><title>dhclient отправляет 36-значный идентификатор вместо MAC</title><link>https://lib.onl/ru/posts/2021/09/aeed7c90-003a-532a-b2c4-3807aaee88fa/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2021/09/aeed7c90-003a-532a-b2c4-3807aaee88fa/</guid><description>Начиная с Debian 10 в составе дистрибутива поставляется новая версия dhclient, которая стала более совместимой с RFC. Поэтому, dhclient теперь отправляет не прямой MAC, а 36-значный идентификатор.</description><content:encoded><![CDATA[<p>Начиная с <strong>Debian 10</strong> в составе дистрибутива поставляется новая версия <strong>dhclient</strong>, которая стала более совместимой с RFC. Поэтому, dhclient теперь отправляет не прямой MAC, а 36-значный идентификатор.</p>
<p>Чтобы указать dhclient&rsquo;у отправлять обычный MAC, необходимо в <code>/etc/dhcp/dhclient.conf</code> прописать строку:</p>
<pre><code class="language-text">send dhcp-client-identifier = hardware;
</code></pre>
<p>Тоже самое при помощи команды:</p>
<pre><code class="language-sh">echo 'send dhcp-client-identifier = hardware;' &gt;&gt; /etc/dhcp/dhclient.conf
</code></pre>]]></content:encoded><pubDate>Tue, 07 Sep 2021 08:38:24 +0000</pubDate><category>Linux</category></item><item><title>Скрипт автоматического удаления устаревших файлов</title><link>https://lib.onl/ru/posts/2021/08/ca744dce-e607-52e6-9952-8ae04e052a5b/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2021/08/ca744dce-e607-52e6-9952-8ae04e052a5b/</guid><description>В одной компании стояла задача сделать файловый архив-помойку для хранения и пересылки документации в сторонние организации. я накидал на PHP самописный интерфейс для загрузки файлов, а на bash&amp;rsquo;е сделал скрипт автоматического удаления устаревших файлов. Небольшая заметка об этом скрипте.</description><content:encoded><![CDATA[<p>В одной компании стояла задача сделать файловый архив-помойку для хранения и пересылки документации в сторонние организации. я накидал на PHP самописный интерфейс для загрузки файлов, а на bash&rsquo;е сделал скрипт автоматического удаления устаревших файлов. Небольшая заметка об этом скрипте.</p>
<p>Скрипт для удаления устаревших файлов очень прост, написан на bash&rsquo;е и основывается на утилите <code>find</code>. Утилита <code>find</code> имеет опцию <code>-mtime</code>, при помощи которого можно сделать выборку файлов по времени изменения:</p>
<pre><code class="language-sh">find &quot;/home/user&quot; -type f -mtime +3
</code></pre>
<p>Здесь мы говорим утилите <code>find</code>, что необходимо найти и показать файлы, у которых с даты последнего изменения прошло более 3 дней. Если необходимо вывести файлы, дата изменения которых будет менее <code>3</code> дней, то ставим отрицательное значение <code>-3</code>.</p>
<p>Далее, конструируем конвейер, и при помощи <code>xargs</code> указываем команду удаления <code>rm -f</code>:</p>
<pre><code class="language-sh">find &quot;/home/user&quot; -type f -mtime +3 -print0 | xargs -0 rm -f
</code></pre>
<p>Сам скрипт провожу ниже.</p>

<h2 id="скрипт">
    Скрипт
  <sup><a class="text-muted small" href="#%d1%81%d0%ba%d1%80%d0%b8%d0%bf%d1%82"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><pre><code class="language-sh">#!/usr/bin/bash
# name: delete-files.sh

days=&quot;${1}&quot;
dir=&quot;${2}&quot;

find &quot;${dir}&quot; -type f -mtime +${days} -print0 | xargs -0 rm -f

exit 0
</code></pre>
<p>В скрипте я вынес некоторые значения в переменные для удобной перенастройки. Вызывается скрипт следующем образом:</p>
<pre><code class="language-txt">user@localhost ~ % delete-files.sh &quot;3&quot; &quot;/path/to/storage&quot;
</code></pre>
<p>Где:</p>
<ul>
<li><code>3</code> - количество дней, прошедших с момента последнего изменения файла.</li>
<li><code>/path/to/storage</code> - путь к файловому хранилищу, в котором необходимо удалять устаревшие файлы.</li>
</ul>

<h2 id="автоматический-запуск-по-расписанию">
    Автоматический запуск по расписанию
  <sup><a class="text-muted small" href="#%d0%b0%d0%b2%d1%82%d0%be%d0%bc%d0%b0%d1%82%d0%b8%d1%87%d0%b5%d1%81%d0%ba%d0%b8%d0%b9-%d0%b7%d0%b0%d0%bf%d1%83%d1%81%d0%ba-%d0%bf%d0%be-%d1%80%d0%b0%d1%81%d0%bf%d0%b8%d1%81%d0%b0%d0%bd%d0%b8%d1%8e"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Осталось добавить выполнение скрипта по cron&rsquo;у. Я указал время <code>23:59</code>, когда нагрузка на файловое хранилище минимальна:</p>
<pre><code class="language-bash"># Check &amp; remove old files in 23:59 every day.
59 23 * * * [username] /usr/bin/bash /path/to/delete-files.sh &quot;3&quot; &quot;/path/to/storage&quot; &gt; /dev/null 2&gt;&amp;1
</code></pre>]]></content:encoded><pubDate>Thu, 19 Aug 2021 15:03:46 +0000</pubDate><category>Разработка</category></item><item><title>Интересные модули Drupal</title><link>https://lib.onl/ru/posts/2021/08/28fa2886-aea6-5abc-9da8-43be56283cdb/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2021/08/28fa2886-aea6-5abc-9da8-43be56283cdb/</guid><description>Здесь собраны ссылки на интересные и необходимые для меня в работе модули.</description><content:encoded><![CDATA[<p>Здесь собраны ссылки на интересные и необходимые для меня в работе модули.</p>
<h2 id="permissions-by-term">
    Permissions by Term
  <sup><a class="text-muted small" href="#permissions-by-term"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>






    
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


<a title="" href="https://www.drupal.org/project/permissions_by_term" target="_blank" rel="noopener noreferrer nofollow">Модуль</a> позволяет применять права доступа к материалу путём добавления термина таксономии.</p>

<h2 id="node-view-permissions">
    Node View Permissions
  <sup><a class="text-muted small" href="#node-view-permissions"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>






    
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


<a title="" href="https://www.drupal.org/project/node_view_permissions" target="_blank" rel="noopener noreferrer nofollow">Модуль</a> разрешает или запрещает просматривать материал определённым ролям пользователей. Подобная функция была в Drupal 6, но в последующих версиях её убрали.</p>

<h2 id="poll">
    Poll
  <sup><a class="text-muted small" href="#poll"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>






    
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


<a title="" href="https://www.drupal.org/project/poll" target="_blank" rel="noopener noreferrer nofollow">Модуль</a> опросов. Позволяет создавать опросы в различной конфигурации.</p>

<h2 id="scheduler">
    Scheduler
  <sup><a class="text-muted small" href="#scheduler"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Очень полезный 






    
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


<a title="" href="https://www.drupal.org/project/scheduler" target="_blank" rel="noopener noreferrer nofollow">модуль</a>, особенно редакторам. Модуль позволяет создавать отложенные материалы, которые необходимо опубликовать через определённое время.</p>]]></content:encoded><pubDate>Wed, 18 Aug 2021 06:58:21 +0000</pubDate><category>CMF</category><category>В доработке</category></item><item><title>XenForo: Первичные настройки движка и параметры системы</title><link>https://lib.onl/ru/posts/2021/08/8ddf3622-5dd8-5101-9c40-2f3e08f4a579/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2021/08/8ddf3622-5dd8-5101-9c40-2f3e08f4a579/</guid><description>У меня в проекте находятся несколько форумов на движке XenForo. Здесь я собрал для себя первичные параметры и настройки движка XenForo.</description><content:encoded><![CDATA[<p>У меня в проекте находятся несколько форумов на движке XenForo. Здесь я собрал для себя первичные параметры и настройки движка XenForo.</p>
<h2 id="configphp">
    config.php
  <sup><a class="text-muted small" href="#configphp"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Примеры параметров в файле config.php для первоначальной установки и запуска системы.</p>
<pre><code class="language-php">&lt;?php

# Database.
$config['db']['host']                             = '127.0.0.1';
$config['db']['port']                             = 3306;
$config['db']['username']                         = '';
$config['db']['password']                         = '';
$config['db']['dbname']                           = '';
$config['db']['socket']                           = null;

# Unicode support.
$config['fullUnicode']                            = true;

# Site-wide feature.
$config['enableTfa']                              = false;
$config['enableApi']                              = false;
$config['enableOneClickUpgrade']                  = false;

# Cookie.
$config['cookie']['prefix']                       = 'xf_';

# Data and script locations.
$config['externalDataPath']                       = 'storage/data';
$config['externalDataUrl']                        = 'storage/data';
$config['internalDataPath']                       = 'storage/data.int';
$config['codeCachePath']                          = '%s/cache/code';
$config['tempDataPath']                           = '%s/temp';
$config['javaScriptUrl']                          = 'js';

# Auth.
$config['auth'] = [
  'algo' =&gt; PASSWORD_ARGON2ID
];

# Cache.
/*
$config['cache']['enabled']                       = true;
$config['cache']['provider']                      = 'Redis';
$config['cache']['config']                        = [
  'host' =&gt; '127.0.0.1',
  'password' =&gt; '',
  'database' =&gt; 1
];
*/

# Guest page caching.
/*
$config['pageCache']['enabled']                   = true;
$config['cache']['context']['page']['provider']   = 'Filesystem';
$config['cache']['context']['page']['config']     = [
  'directory' =&gt; ''
];
*/
</code></pre>

<h2 id="регистрация-пользователей">
    Регистрация пользователей
  <sup><a class="text-muted small" href="#%d1%80%d0%b5%d0%b3%d0%b8%d1%81%d1%82%d1%80%d0%b0%d1%86%d0%b8%d1%8f-%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d0%be%d0%b2%d0%b0%d1%82%d0%b5%d0%bb%d0%b5%d0%b9"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Параметры для регистрации пользователей.</p>
<p><strong>Регулярное выражение:</strong></p>
<pre><code class="language-text">#(?!^[\d\-\_\s]+$)^(([a-zA-Z0-9\-\_\s]+)|(((\xD0[\x80-\xBF])|(\xD1[\x80-\xBF])|([0-9\-\_\s]))+))$#
</code></pre>

<h2 id="теги">
    Теги
  <sup><a class="text-muted small" href="#%d1%82%d0%b5%d0%b3%d0%b8"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Параметры для ввода тегов.</p>
<p><strong>Регулярное выражение:</strong></p>
<pre><code class="language-text">#(?!^[\d\-\_\s]+$)^(([a-zA-Z0-9\-\_\s]+)|(((\xD0[\x80-\xBF])|(\xD1[\x80-\xBF])|([0-9\-\_\s]))+))$#
</code></pre>

<h2 id="группы-пользователей">
    Группы пользователей
  <sup><a class="text-muted small" href="#%d0%b3%d1%80%d1%83%d0%bf%d0%bf%d1%8b-%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d0%be%d0%b2%d0%b0%d1%82%d0%b5%d0%bb%d0%b5%d0%b9"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Настройки групп пользователей.</p>
<p><strong>Стандартные группы:</strong></p>
<ul>
<li>Unregistered / Unconfirmed <code>ID(1)</code></li>
<li>Registered <code>ID(2)</code></li>
<li>Administrative <code>ID(3)</code></li>
<li>Moderating <code>ID(4)</code></li>
</ul>]]></content:encoded><pubDate>Wed, 18 Aug 2021 06:55:19 +0000</pubDate><category>CMF</category><category>Разработка</category></item><item><title>Условия в шаблонах XenForo</title><link>https://lib.onl/ru/posts/2021/08/f9a39e37-8816-5f80-8133-893f3dc8f352/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2021/08/f9a39e37-8816-5f80-8133-893f3dc8f352/</guid><description>Представляю список условий, которые можно использовать в шаблонах XenForo. Все возможные условия перечислить затруднительно, потому что существует множество различных вариантов фильтрации и выборки информации. Здесь представлены наиболее популярные варианты.</description><content:encoded><![CDATA[<p>Представляю список условий, которые можно использовать в шаблонах XenForo. Все возможные условия перечислить затруднительно, потому что существует множество различных вариантов фильтрации и выборки информации. Здесь представлены наиболее популярные варианты.</p>
<p>С этой статьи я начинаю попытку восстановления накопленных данных за период моей деятельности в качестве исследователя и разработчика веб-приложений.</p>
<ol>
<li>Отображение информации только администраторам.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;$xf.visitor.is_admin&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="2">
<li>Отображение информации только модераторам.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;$xf.visitor.is_moderator&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="3">
<li>Отображение информации только администраторам и модераторам.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;$xf.visitor.is_admin OR $xf.visitor.is_moderator&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="4">
<li>Отображение информации только зарегистрированному пользователю</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;$xf.visitor.user_id&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="5">
<li>Отображение информации гостю.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;!$xf.visitor.user_id&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="6">
<li>Отображение разной информации зарегистрированному пользователю и гостю.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;!$xf.visitor.user_id&quot;&gt;
&lt;!-- content for members --&gt;
&lt;xf:else /&gt;
&lt;!-- content for guests --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="7">
<li>Отображение информации только заблокированным пользователям.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;$user.is_banned&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="8">
<li>Отображение информации только если у пользователя симпатий больше определённого количества.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;$user.like_count|number &gt; X&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="9">
<li>Отображение информации только если у пользователя сообщений больше определённого количества.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;{$xf.visitor.message_count|number} &gt; X&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="10">
<li>Отображение информации только если у пользователя очков больше определённого количества.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;$user.trophy_points|number &gt; X&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="11">
<li>Отображение информации определённому пользователю.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;$xf.visitor.user_id == X&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="12">
<li>Отображение информации определённым пользователям.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;in_array($xf.visitor.user_id, [X, Y, Z])&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="13">
<li>(1) Отображение информации определённым группам пользователей.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;{{$xf.visitor.isMemberOf([X, Y])}}&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="13">
<li>(2) Отображение информации определённой группе пользователей.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;{{$xf.visitor.isMemberOf(X)}}&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="14">
<li>(1) Скрытие информации от определённых групп пользователей.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;{{!$xf.visitor.isMemberOf([X, Y])}}&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="14">
<li>(2) Скрытие информации от определённой группы пользователей.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;{{!$xf.visitor.isMemberOf(X)}}&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="15">
<li>(1) Отображение информации после первого сообщения в теме.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;$post.position % $xf.options.messagesPerPage == 0&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="15">
<li>(2) Отображение информации через определённое количества сообщений.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;$post.position % $xf.options.messagesPerPage == X&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="16">
<li>Отображение информации на странице, на которой присутствует боковая панель.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;$sidebar&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="17">
<li>Отображение информации на главной (домашней) странице форума.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;$template == 'forum_list'&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="18">
<li>Скрытие информации только с главной (домашней) странице форума.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;$template !== 'forum_list'&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="19">
<li>Отображение информации на странице создания новой темы.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;$template == 'forum_post_thread'&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="20">
<li>Скрытие информации на странице создания новой темы.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;$template != 'forum_post_thread'&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="21">
<li>Отображение информации на странице создания нового ресурса.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;$template == 'xfrm_category_add_resource'&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="22">
<li>Скрытие информации на странице создания нового ресурса.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;$template != 'xfrm_category_add_resource'&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="23">
<li>Отображение информации на странице поисковой формы.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;$template == 'search_form'&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="24">
<li>Скрытие информации на странице поисковой формы.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;$template != 'search_form'&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="25">
<li>Отображение информации на странице &ldquo;Что нового?&rdquo;.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;$template == 'whats_new'&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="26">
<li>Скрытие информации на странице &ldquo;Что нового?&rdquo;.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;$template != 'whats_new'&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="27">
<li>Отображение информации на странице просмотра личной переписки.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;$template == 'conversation_view'&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="28">
<li>Скрытие информации на странице просмотра личной переписки.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;$template != 'conversation_view'&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="29">
<li>Отображение информации на странице просмотра списка личных переписок.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;$template == 'conversation_list'&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="30">
<li>Скрытие информации на странице просмотра списка личных переписок.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;$template != 'conversation_list'&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="31">
<li>Отображение информации на главной странице ресурсов.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;$template == 'xfrm_overview'&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="32">
<li>Скрытие информации на главной странице ресурсов.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;$template != 'xfrm_overview'&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="33">
<li>Отображение информации на странице просмотра ресурса.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;$template == 'xfrm_resource_view'&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="34">
<li>Скрытие информации на странице просмотра ресурса.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;$template != 'xfrm_resource_view'&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="35">
<li>Отображение информации на странице просмотра темы.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;$template == 'thread_view'&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="36">
<li>Скрытие информации на странице просмотра темы.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;$template !='thread_view'&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="37">
<li>Отображение информации на странице просмотра форума (раздела).</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;$template =='forum_view'&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="38">
<li>Скрытие информации на странице просмотра форума (раздела).</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;$template != 'forum_view'&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="39">
<li>Отображение информации &ldquo;наказанным&rdquo; пользователям.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;{$xf.visitor.Option.is_discouraged}&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="40">
<li>Отображение информации пользователям, которые имеют Gravatar.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;{$xf.visitor.gravatar}&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="41">
<li>Отображение информации пользователям поддержки форума.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;{$xf.visitor.is_staff}&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="42">
<li>Отображение информации пользователям без подтверждённого адреса e-mail.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;{$xf.visitor.isAwaitingEmailConfirmation()}&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="43">
<li>Отображение информации в нескольких форумах (разделах).</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;in_array({$forum.node_id}, [X, Y, Z])&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="44">
<li>Скрытие информации в нескольких форумах (разделах).</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;in_array($forum.node_id, [X, Y, Z])&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="45">
<li>Отображение информации в определённом форуме (разделе).</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;$forum.node_id == X&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="46">
<li>Скрытие информации в определённом форуме (разделе).</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;$forum.node_id != 3&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="47">
<li>Отображение информации только после первого сообщения в каждой теме.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;{$post.position} % {$xf.options.messagesPerPage} == 1&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="48">
<li>Отображение информации только внутри первого сообщения в каждой теме.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;{$post.position} % {$xf.options.messagesPerPage} == 0&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="49">
<li>Отображение информации только при заполненном поле местоположения.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;{$xf.visitor.location}&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="50">
<li>Отображение информации только при заполненном поле веб-сайта.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;{$xf.visitor.website}&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="51">
<li>Отображение информации при указанной подписи.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;{$xf.visitor.signature}&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="52">
<li>Отображение информации только активированным пользователям.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;{$xf.visitor.user_state} == 'valid'&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="53">
<li>Отображение информации только пользователям, ожидающим подтверждения адреса e-mail.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;{$xf.visitor.user_state} == 'email_confirm_edit'&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="54">
<li>Отображение информации только пользователям с проблемным адресом e-mail.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;{$xf.visitor.user_state} == 'email_bounce'&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="55">
<li>Отображение информации, если ID пользователя = ID автора темы.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;{$__globals.thread} AND {$__globals.thread.user_id} == {$user.user_id}&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>
<ol start="56">
<li>Отображение информации пользователю, который является автором темы.</li>
</ol>
<pre><code class="language-html">&lt;xf:if is=&quot;{$thread.user_id} == {$xf.visitor.user_id}&quot;&gt;
&lt;!-- content --&gt;
&lt;/xf:if&gt;
</code></pre>]]></content:encoded><pubDate>Tue, 17 Aug 2021 12:21:10 +0000</pubDate><category>CMF</category></item><item><title>Настройка и использование Git</title><link>https://lib.onl/ru/posts/2021/08/c35f395f-5921-55eb-afcf-1ad812a1a9d9/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2021/08/c35f395f-5921-55eb-afcf-1ad812a1a9d9/</guid><description>В этой заметке я приведу параметры Git, которые сам использую при работе с репозиториями.</description><content:encoded><![CDATA[<p>В этой заметке я приведу параметры Git, которые сам использую при работе с репозиториями.</p>
<h2 id="первичная-настройка">
    Первичная настройка
  <sup><a class="text-muted small" href="#%d0%bf%d0%b5%d1%80%d0%b2%d0%b8%d1%87%d0%bd%d0%b0%d1%8f-%d0%bd%d0%b0%d1%81%d1%82%d1%80%d0%be%d0%b9%d0%ba%d0%b0"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Для начала работы с Git&rsquo;ом, его необходимо хотя бы минимально настроить.</p>
<ol>
<li>Указать своё имя:</li>
</ol>
<pre><code class="language-sh">git config --global user.name &quot;John Doe&quot;
</code></pre>
<ol start="2">
<li>Указать свой адрес e-mail:</li>
</ol>
<pre><code class="language-sh">git config --global user.email &quot;johndoe@example.com&quot;
</code></pre>

<h2 id="настройка-подписи">
    Настройка подписи
  <sup><a class="text-muted small" href="#%d0%bd%d0%b0%d1%81%d1%82%d1%80%d0%be%d0%b9%d0%ba%d0%b0-%d0%bf%d0%be%d0%b4%d0%bf%d0%b8%d1%81%d0%b8"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Хорошим тоном будет считаться подпись каждого своего коммита.</p>
<ol>
<li>Выяснить какие ключи установлены в системе (о создании ключей я публиковал заметку <span class="shortcode shortcode-uuid"><a href="/ru/posts/2020/07/7a204545-daa8-58ce-ba35-75e732e1bcc0/">GnuPG: Создание и работа с ключами шифрования</a></span>):</li>
</ol>
<pre><code class="language-sh">gpg --list-secret-keys --keyid-format=long
</code></pre>
<ol start="2">
<li>Указать Git&rsquo;у всегда подписывать каждый коммит:</li>
</ol>
<pre><code class="language-sh">git config --global commit.gpgsign true
</code></pre>
<ol start="3">
<li>Указать Git&rsquo;у идентификатор ключа для подписи коммита:</li>
</ol>
<pre><code class="language-sh">git config --global user.signingkey 3AA5C34371567BD2
</code></pre>

<h2 id="хранилище-паролей">
    Хранилище паролей
  <sup><a class="text-muted small" href="#%d1%85%d1%80%d0%b0%d0%bd%d0%b8%d0%bb%d0%b8%d1%89%d0%b5-%d0%bf%d0%b0%d1%80%d0%be%d0%bb%d0%b5%d0%b9"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Git по умолчанию не сохраняет регистрационные данные для репозиториев. Эта настройка позволяет указать Git&rsquo;у использовать для хранения регистрационных данных текстовый файл <code>~/.git-credentials</code>:</p>
<pre><code class="language-sh">git config --global credential.helper store
</code></pre>

<h2 id="отмена-изменений">
    Отмена изменений
  <sup><a class="text-muted small" href="#%d0%be%d1%82%d0%bc%d0%b5%d0%bd%d0%b0-%d0%b8%d0%b7%d0%bc%d0%b5%d0%bd%d0%b5%d0%bd%d0%b8%d0%b9"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Отмена конкретного коммита:</p>
<pre><code class="language-sh">git revert [commit]
</code></pre>
<p>Отмена 2-х коммитов подряд:</p>
<pre><code class="language-sh">git revert HEAD~2
</code></pre>

<h2 id="модули">
    Модули
  <sup><a class="text-muted small" href="#%d0%bc%d0%be%d0%b4%d1%83%d0%bb%d0%b8"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Добавление модуля:</p>
<pre><code class="language-sh">git submodule add https://github.com/[MODULE] [MODULE]
</code></pre>
<p>Рекурсивное обновление всех модулей:</p>
<pre><code class="language-sh">git submodule update --recursive --remote --merge
</code></pre>
<p>Удаление модуля:</p>
<pre><code class="language-sh">git submodule deinit -f [MODULE]  \
  &amp;&amp; git rm -r --cached [MODULE]  \
  &amp;&amp; rm -rf .git/modules/[MODULE] \
  &amp;&amp; rm -rf [MODULE]
</code></pre>

<h2 id="изменение-адреса-репозитория">
    Изменение адреса репозитория
  <sup><a class="text-muted small" href="#%d0%b8%d0%b7%d0%bc%d0%b5%d0%bd%d0%b5%d0%bd%d0%b8%d0%b5-%d0%b0%d0%b4%d1%80%d0%b5%d1%81%d0%b0-%d1%80%d0%b5%d0%bf%d0%be%d0%b7%d0%b8%d1%82%d0%be%d1%80%d0%b8%d1%8f"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Показать текущий адрес:</p>
<pre><code class="language-sh">git remote -v
</code></pre>
<p>Установить новый адрес:</p>
<pre><code class="language-sh">git remote set-url origin '[URL]'
</code></pre>]]></content:encoded><pubDate>Sat, 14 Aug 2021 15:52:38 +0000</pubDate><category>Linux</category><category>Git</category><category>Терминал</category><category>В доработке</category></item><item><title>Зеркалирование репозитория между хостингами</title><link>https://lib.onl/ru/posts/2021/07/3834fbed-71c8-5979-b6c2-236269f5ecea/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2021/07/3834fbed-71c8-5979-b6c2-236269f5ecea/</guid><description>В предыдущей статье Синхронизация репозитория от GitHub к GitLab я рассказал о том, как организовать синхронизацию между репозиториями GIT на разных хостингах, в частности, между GitHub и GitLab. В итоге, я решил сделать собственный GitHub Action, который позволяет полностью зеркалировать репозитории.</description><content:encoded><![CDATA[<p>В предыдущей статье <span class="shortcode shortcode-uuid"><a href="/ru/posts/2021/05/8544b8ce-4586-578f-9633-e8ae43441a25/">Синхронизация репозитория от GitHub к GitLab</a></span> я рассказал о том, как организовать синхронизацию между репозиториями GIT на разных хостингах, в частности, между GitHub и GitLab. В итоге, я решил сделать 






    
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


<a title="" href="https://github.com/ghastore/github-mirror" target="_blank" rel="noopener noreferrer nofollow">собственный GitHub Action</a>, который позволяет полностью зеркалировать репозитории.</p>
<h2 id="использование">
    Использование
  <sup><a class="text-muted small" href="#%d0%b8%d1%81%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d0%be%d0%b2%d0%b0%d0%bd%d0%b8%d0%b5"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Для подключения зеркалирования, к примеру, с GitHub на GitLab, необходимо в исходном репозитории создать файл <code>.github/workflows/mirror.yml</code>, в котором указать следующее содержимое:</p>
<pre><code class="language-yml">name: &quot;Repository Mirror&quot;

on:
  - push

jobs:
  mirror:
    runs-on: ubuntu-latest
    name: &quot;Mirror&quot;
    steps:
      - uses: pkgstore/github-action-mirror@main
        with:
          src_repo: &quot;https://github.com/${{ github.repository }}.git&quot;
          src_user: &quot;${{ secrets.MIRROR_SOURCE_USER_GITHUB }}&quot;
          src_token: &quot;${{ secrets.MIRROR_SOURCE_TOKEN_GITHUB }}&quot;
          dsc_repo: &quot;https://gitlab.com/${{ github.repository }}.git&quot;
          dsc_user: &quot;${{ secrets.MIRROR_TARGET_USER_GITLAB }}&quot;
          dsc_token: &quot;${{ secrets.MIRROR_TARGET_TOKEN_GITLAB }}&quot;
</code></pre>
<ul>
<li><code>src_repo</code> - <strong>URL</strong> исходного репозитория.</li>
<li><code>src_user</code> - <strong>пользователь</strong> исходного репозитория.</li>
<li><code>src_token</code> - <strong>токен пользователя</strong> исходного репозитория.</li>
<li><code>dsc_repo</code> - <strong>URL</strong> зеркального репозитория.</li>
<li><code>dsc_user</code> - <strong>пользователь</strong> зеркального репозитория.</li>
<li><code>dsc_token</code> - <strong>токен пользователя</strong> зеркального репозитория.</li>
</ul>
<p>В этом коде стоит обратить внимание на параметр <code>target_repo</code>. GitLab позволяет автоматически создавать репозиторий при зеркалировании, а так как у меня адреса репозиториев совпадают между GitHub и GitLab, мне гораздо проще выстроить конструкцию <code>https://gitlab.com/${{ github.repository }}.git</code>. Переменная <code>${{ github.repository }}</code> содержит имя пользователя / организации и название репозитория, и, при настройке зеркалирования репозитория на GitHub&rsquo;е, зеркало репозитория автоматически создаётся на GitLab&rsquo;е.</p>]]></content:encoded><pubDate>Tue, 06 Jul 2021 17:40:43 +0000</pubDate><category>Разработка</category></item><item><title>Генератор иконок для сайта</title><link>https://lib.onl/ru/posts/2021/05/841ba281-a22b-55ee-b97d-251a5dc111d8/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2021/05/841ba281-a22b-55ee-b97d-251a5dc111d8/</guid><description>Сделал для сайта автоматизированное создание иконок типа favicon, которыми пользуются браузеры и устройства для своих нужд.</description><content:encoded><![CDATA[<p>Сделал для сайта автоматизированное создание иконок типа <code>favicon</code>, которыми пользуются браузеры и устройства для своих нужд.</p>
<p>Я накидал 






    
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


<a title="" href="https://github.com/pkgstore/bash-tools/blob/main/favicon.sh" target="_blank" rel="noopener noreferrer nofollow">небольшой скрипт</a>, состоящий из двух функций <code>png()</code> и <code>ico()</code>. Функция <code>png()</code> берёт файл <code>favicon.svg</code> и преобразует его в PNG, указанных в массиве <code>size</code>, размеров. Функция <code>ico()</code> также берёт файл <code>favicon.svg</code> и преобразует его в формат ICO, который содержит в себе несколько размеров изображения.</p>

<h2 id="использование">
    Использование
  <sup><a class="text-muted small" href="#%d0%b8%d1%81%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d0%be%d0%b2%d0%b0%d0%bd%d0%b8%d0%b5"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Для работы скрипта необходимо, чтобы в системе были установлены <strong>RSVG</strong> и <strong>ImageMagick</strong>. Скрипт можно сохранить с произвольным именем, например, <code>favicon.sh</code> в директорию, где находится изображение <code>favicon.svg</code>. Далее, вызывать функции следующим образом:</p>
<pre><code class="language-sh">user@localhost ~ % bash favicon.sh png
</code></pre>
<pre><code class="language-sh">user@localhost ~ % bash favicon.sh ico
</code></pre>
<p>Скрипт ищет файл <code>favicon.svg</code> и преобразует его в необходимые изображения.</p>]]></content:encoded><pubDate>Tue, 18 May 2021 07:41:46 +0000</pubDate><category>Разработка</category></item><item><title>Обновление Fedora Linux до актуальной версии</title><link>https://lib.onl/ru/posts/2021/05/0acd3f9d-07b7-52b8-9fac-b5cb1cc579e0/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2021/05/0acd3f9d-07b7-52b8-9fac-b5cb1cc579e0/</guid><description>Новые версии Fedora публикуются каждые 6-8 месяцев. В этой статье я опишу шаги по обновлению дистрибутива между версиями.</description><content:encoded><![CDATA[<p>Новые версии Fedora публикуются каждые 6-8 месяцев. В этой статье я опишу шаги по обновлению дистрибутива между версиями.</p>
<ol>
<li>Устанавливаем плагин обновления системы:</li>
</ol>
<pre><code class="language-text">root@localhost ~ # dnf install dnf-plugin-system-upgrade
</code></pre>
<ol start="2">
<li>Скачивание актуальной версии системы:</li>
</ol>
<pre><code class="language-text">root@localhost ~ # dnf system-upgrade download --releasever=34
</code></pre>
<ul>
<li><code>releasever</code> - номер актуальной версии системы.</li>
</ul>
<ol start="3">
<li>Запуск обновления системы на актуальную версию:</li>
</ol>
<pre><code class="language-text">root@localhost ~ # dnf system-upgrade reboot
</code></pre>
<p>Вот и всё. Система обновит пакетную базу и перезагрузится.</p>]]></content:encoded><pubDate>Sat, 15 May 2021 20:29:16 +0000</pubDate><category>Терминал</category><category>Linux</category></item><item><title>Настройка статического IP адреса</title><link>https://lib.onl/ru/posts/2021/05/ee559a6c-5cde-5166-9d2d-3ceb55878eb8/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2021/05/ee559a6c-5cde-5166-9d2d-3ceb55878eb8/</guid><description>Рассмотрим различные способы настройки статического IP адреса в дистрибутивах Linux. Способы различаются в зависимости от пакетной базы дистрибутивов. Например, настройка статического IP в RHEL-based дистрибутиве будет отличаться от настройки в DEB-based дистрибутиве.</description><content:encoded><![CDATA[<p>Рассмотрим различные способы настройки статического IP адреса в дистрибутивах Linux. Способы различаются в зависимости от пакетной базы дистрибутивов. Например, настройка статического IP в RHEL-based дистрибутиве будет отличаться от настройки в DEB-based дистрибутиве.</p>
<h2 id="подготовка">
    Подготовка
  <sup><a class="text-muted small" href="#%d0%bf%d0%be%d0%b4%d0%b3%d0%be%d1%82%d0%be%d0%b2%d0%ba%d0%b0"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Смотрим текущие сетевые устройства и соединения:</p>
<pre><code class="language-text">root@localhost ~ # ip a

1: lo: &lt;loopback,up,lower_up&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
  link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
  inet 127.0.0.1/8 scope host lo
2: enp1s0: &lt;broadcast,multicast,up,lower_up&gt; mtu 1500 qdisc fq_codel state UP group default qlen 1000
  link/ether xx:xx:xx:xx:xx:xx brd ff:ff:ff:ff:ff:ff
  inet 192.168.10.123/24 brd 192.168.10.255 scope global dynamic noprefixroute enp1s0
</code></pre>

<h2 id="настройка-ip-в-rhel-based-дистрибутивах">
    Настройка IP в RHEL-based дистрибутивах
  <sup><a class="text-muted small" href="#%d0%bd%d0%b0%d1%81%d1%82%d1%80%d0%be%d0%b9%d0%ba%d0%b0-ip-%d0%b2-rhel-based-%d0%b4%d0%b8%d1%81%d1%82%d1%80%d0%b8%d0%b1%d1%83%d1%82%d0%b8%d0%b2%d0%b0%d1%85"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>В директории <code>/etc/sysconfig/network-scripts</code> находятся конфигурационные файлы для сетевых интерфейсов. Имя файла состоит из префикса <code>ifcfg</code> и имени интерфейса. Например, содержимое файла для интерфейса <code>enp1s0</code>:</p>
<pre><code class="language-text">root@localhost ~ # cat /etc/sysconfig/network-scripts/ifcfg-enp1s0

TYPE=&quot;Ethernet&quot;
PROXY_METHOD=&quot;none&quot;
BROWSER_ONLY=&quot;no&quot;
BOOTPROTO=&quot;dhcp&quot;
DEFROUTE=&quot;yes&quot;
IPV4_FAILURE_FATAL=&quot;no&quot;
IPV6INIT=&quot;yes&quot;
IPV6_AUTOCONF=&quot;yes&quot;
IPV6_DEFROUTE=&quot;yes&quot;
IPV6_FAILURE_FATAL=&quot;no&quot;
IPV6_ADDR_GEN_MODE=&quot;stable-privacy&quot;
NAME=&quot;enp1s0&quot;
UUID=&quot;&lt;DEVICE_ID&gt;&quot;
DEVICE=&quot;enp1s0&quot;
ONBOOT=&quot;yes&quot;
</code></pre>
<p>Обратим внимание на опцию <strong>BOOTPROTO</strong>. По умолчанию, в опции <strong>BOOTPROTO</strong> прописано <code>dhcp</code>. Это означает, что сетевой интерфейс получает информацию о сети автоматически от DHCP. Сама опция <strong>BOOTPROTO</strong> может принимать следующие значения:</p>
<ul>
<li><code>none</code> – не использовать протокол.</li>
<li><code>bootp</code> – использование протокола <strong>bootp</strong>.</li>
<li><code>dhcp</code> – использование протокола <strong>dhcp</strong> (по умолчанию).</li>
</ul>
<p>Для настройки статического IP необходимо установит <strong>BOOTPROTO</strong> в <code>none</code> и дописать в конец файла опции:</p>
<ul>
<li><code>IPADDR</code> - IP адрес.</li>
<li><code>PREFIX</code> - маска сети.</li>
<li><code>GATEWAY</code> - шлюз сети.</li>
<li><code>DNS</code> - серверы DNS.</li>
</ul>
<p>Например:</p>
<pre><code>TYPE=&quot;Ethernet&quot;
PROXY_METHOD=&quot;none&quot;
BROWSER_ONLY=&quot;no&quot;
BOOTPROTO=&quot;none&quot;
DEFROUTE=&quot;yes&quot;
IPV4_FAILURE_FATAL=&quot;no&quot;
IPV6INIT=&quot;yes&quot;
IPV6_AUTOCONF=&quot;yes&quot;
IPV6_DEFROUTE=&quot;yes&quot;
IPV6_FAILURE_FATAL=&quot;no&quot;
IPV6_ADDR_GEN_MODE=&quot;stable-privacy&quot;
NAME=&quot;enp1s0&quot;
UUID=&quot;&lt;DEVICE_ID&gt;&quot;
DEVICE=&quot;enp1s0&quot;
ONBOOT=&quot;yes&quot;
IPADDR=&quot;192.168.10.55&quot;
PREFIX=&quot;24&quot;
GATEWAY=&quot;192.168.10.1&quot;
DNS1=&quot;192.168.11.1&quot;
DNS1=&quot;192.168.12.1&quot;
</code></pre>
<p>После указания всех параметров, необходимо перезапустить интерфейс:</p>
<pre><code class="language-text">root@localhost ~ # nmcli con down enp1s0 &amp;&amp; nmcli con up enp1s0
</code></pre>

<h2 id="настройка-ip-при-помощи-network-manager-cli-nmcli">
    Настройка IP при помощи Network Manager CLI (nmcli)
  <sup><a class="text-muted small" href="#%d0%bd%d0%b0%d1%81%d1%82%d1%80%d0%be%d0%b9%d0%ba%d0%b0-ip-%d0%bf%d1%80%d0%b8-%d0%bf%d0%be%d0%bc%d0%be%d1%89%d0%b8-network-manager-cli-nmcli"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Установка IP адреса:</p>
<pre><code class="language-text">root@localhost ~ # nmcli con mod enp1s0 ipv4.addresses &quot;192.168.10.55/24&quot;
</code></pre>
<p>Установка шлюза:</p>
<pre><code class="language-text">root@localhost ~ # nmcli con mod enp1s0 ipv4.gateway &quot;192.168.10.1&quot;
</code></pre>
<p>Установка DNS:</p>
<pre><code class="language-text">root@localhost ~ # nmcli con mod enp1s0 ipv4.dns &quot;192.168.11.1&quot;
</code></pre>
<p>Установка <strong>BOOTPROTO</strong> в <code>none</code>:</p>
<pre><code class="language-text">root@localhost ~ # nmcli con mod enp1s0 ipv4.method &quot;manual&quot;
</code></pre>
<p>Перезапуск интерфейса:</p>
<pre><code class="language-text">root@localhost ~ # nmcli con down enp1s0 &amp;&amp; nmcli con up enp1s0
</code></pre>]]></content:encoded><pubDate>Sat, 15 May 2021 17:08:30 +0000</pubDate><category>Терминал</category><category>Linux</category><category>Сеть</category><category>В доработке</category></item><item><title>Перезагрузка и выключение Linux</title><link>https://lib.onl/ru/posts/2021/05/86db7f3a-17ce-502b-b21d-337c3bba5d58/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2021/05/86db7f3a-17ce-502b-b21d-337c3bba5d58/</guid><description>Нередко приходится завершать работу системы через терминал, например, когда компьютер является удалённой рабочей станцией или сервером и вся работа происходит через терминал. В этой статье я постараюсь привести информацию о командах, позволяющих удалённо завершить работу системы.</description><content:encoded><![CDATA[<p>Нередко приходится завершать работу системы через терминал, например, когда компьютер является удалённой рабочей станцией или сервером и вся работа происходит через терминал. В этой статье я постараюсь привести информацию о командах, позволяющих удалённо завершить работу системы.</p>
<h2 id="halt--poweroff--reboot">
    halt / poweroff / reboot
  <sup><a class="text-muted small" href="#halt--poweroff--reboot"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Старые команды по управлению питанием системы. Опции у этих команд одинаковые. Отдаются команды из под пользователя <strong>root</strong>. Команда <code>halt</code> приостанавливает все функции CPU, но сам ПК остаётся включённым. Команда <code>poweroff</code> отключает питание ПК, посылая сигнал по ACPI. Команда <code>reboot</code> даёт команду системе на перезагрузку.</p>







<div class="shortcode shortcode-alert">
  <div class="alert alert-success d-flex" role="alert">
    <div class="flex-shrink-0 align-self-center">
      <i class="fas fa-lightbulb fa-fw fa-2x"></i>
    </div>
    <div class="flex-grow-1 ms-3">
        <p>Команда <code>halt</code> в современных ОС полностью прекращает работу системы. На системах с <strong>systemd</strong> команда <code>halt</code> является устаревшей и представляет собой символьную ссылку на утилиту <code>systemctl</code>.</p>

    </div>
  </div>
</div>

<p>Предпочтительнее использовать команду <code>shutdown</code>, о которой я расскажу ниже.</p>

<h4 id="синтаксис">
    Синтаксис
  <sup><a class="text-muted small" href="#%d1%81%d0%b8%d0%bd%d1%82%d0%b0%d0%ba%d1%81%d0%b8%d1%81"><i class="fas fa-link fa-fw"></i></a></sup>
</h4><pre><code class="language-text">halt [OPTION]
poweroff [OPTION]
reboot [OPTION]
</code></pre>

<h4 id="некоторые-опции">
    Некоторые опции
  <sup><a class="text-muted small" href="#%d0%bd%d0%b5%d0%ba%d0%be%d1%82%d0%be%d1%80%d1%8b%d0%b5-%d0%be%d0%bf%d1%86%d0%b8%d0%b8"><i class="fas fa-link fa-fw"></i></a></sup>
</h4><ul>
<li><code>-f</code> - принудительное выполнение команды.</li>
<li><code>-p</code> - сообщает команде <code>halt</code> действовать как <code>poweroff</code>.</li>
<li><code>-w</code> - не выполнять никакие действия, только записать в журнал <code>/var/log/wtmp</code> сообщение о завершении работы.</li>
</ul>

<h2 id="shutdown">
    shutdown
  <sup><a class="text-muted small" href="#shutdown"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>За остановку работы ПК отвечает команда <code>shutdown</code>. Она поддерживает несколько опций, через которые задаётся определённое действие. К примеру:</p>
<ul>
<li><code>-r</code> - перезагрузка.</li>
<li><code>-h</code> - выключение.</li>
<li><code>-c</code> - отмена запланированных действий на перезагрузку или выключение.</li>
</ul>
<p>Для запланированной перезагрузки ПК через 1 минуту используется опция <code>-r</code>:</p>
<pre><code class="language-text">root@localhost ~ # shutdown -r
</code></pre>
<p>Команда <code>shutdown</code> поддерживает указание времени, когда ПК должен быть перезагружен или выключен. К примеру, перезагрузить через 5 минут:</p>
<pre><code class="language-text">root@localhost ~ # shutdown -r +5
</code></pre>
<p>Также можно указать конкретное время для перезагрузки. Например, перезагрузить ПК в 18:30:</p>
<pre><code class="language-text">root@localhost ~ # shutdown -r 18:30
</code></pre>
<p>Если перезагрузка или выключение уже запланированы, их можно отменить опцией <code>-c</code>:</p>
<pre><code class="language-text">root@localhost ~ # shutdown -c
</code></pre>
<p>Для немедленной перезагрузки ПК, вместо времени можно ввести <code>now</code>:</p>
<pre><code class="language-text">root@localhost ~ # shutdown -r now
</code></pre>
<p>Чтобы выключить ПК через 1 минуту, используется опция <code>-h</code>:</p>
<pre><code class="language-text">root@localhost ~ # shutdown -h
</code></pre>
<p>На этом всё, ничего сложного нет. 😄</p>]]></content:encoded><pubDate>Wed, 12 May 2021 14:20:47 +0000</pubDate><category>Терминал</category><category>Linux</category></item><item><title>Рекурсивное изменение прав доступа на файлы и директории</title><link>https://lib.onl/ru/posts/2021/05/4a3b0a31-0d3d-5a9b-8c07-7e3b4f80669e/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2021/05/4a3b0a31-0d3d-5a9b-8c07-7e3b4f80669e/</guid><description>Права доступа к файлам и директориям является неотъемлемой частью любой операционной системы. И в этой статье описаны возможности по рекурсивной настройке этих прав доступа.</description><content:encoded><![CDATA[<p>Права доступа к файлам и директориям является неотъемлемой частью любой операционной системы. И в этой статье описаны возможности по рекурсивной настройке этих прав доступа.</p>
<p>Изменение прав доступа осуществляется при помощи команды <code>chmod</code>, рекурсивное при добавлении опции <code>-R</code>:</p>
<pre><code class="language-sh">chmod -R MODE DIR
</code></pre>
<ul>
<li><code>-R</code> - рекурсивный обход директорий и файлов.</li>
<li><code>MODE</code> - набор прав доступа для их установки.</li>
<li><code>DIR</code> - файл или директория, у которых необходимо установить определённые права доступа.</li>
</ul>
<p>В итоге, команда должна выглядеть так:</p>
<pre><code class="language-text">user@localhost ~ % chmod -R 755 /var/www/html
</code></pre>
<p>Но, стоит учитывать, что таким образом директории и файлы примут одинаковые права доступа. Чтобы избежать этого, можно воспользоваться командой <code>find</code>, которая отфильтрует директории и файлы друг от друга:</p>
<pre><code class="language-sh">user@localhost ~ % find /var/www/html -type d -exec chmod 755 {} \;
user@localhost ~ % find /var/www/html -type f -exec chmod 644 {} \;
</code></pre>
<p>Команда <code>find</code> ищет директории (<code>-type d</code>) и файлы (<code>-type f</code>) и скармливает их команде <code>chmod</code>, а та, в свою очередь, уже расставляет права доступа. При использовании <code>-exec</code>, <code>chmod</code> выполняется для каждого найденного элемента поочерёдно. Можно оптимизировать и записать с использованием <code>xargs</code>:</p>
<pre><code class="language-sh">user@localhost ~ % find /var/www/html -type d -print0 | xargs -0 chmod 755
user@localhost ~ % find /var/www/html -type f -print0 | xargs -0 chmod 644
</code></pre>
<p>При <code>xargs</code>, <code>chmod</code> выполняется сразу для нескольких записей одновременно, как сообщает <strong>Daniel Miessler</strong>:</p>



<div class="shortcode shortcode-quote">
  <figure>
    <blockquote class="blockquote">
        <p>This is where -exec breaks down and xargs shows its superiority. When you use -exec to do the work you run a separate instance of the called program for each element of input. So if find comes up with 10,000 results, you run exec 10,000 times. With xargs, you build up the input into bundles and run them through the command as few times as possible, which is often just once. When dealing with hundreds or thousands of elements this is a big win for xargs.</p>

    </blockquote>
      
        <figcaption class="blockquote-footer">
          <cite>
              
                <a href="https://danielmiessler.com/blog/linux-xargs-vs-exec/" target="_blank" rel="noopener nofollow">Daniel Miessler</a>
              
          </cite>
        </figcaption>
      
  </figure>
</div>

<p>Если необходимо запустить рекурсивное изменение прав доступа начиная с текущей директории, то <code>/var/www/html</code> необходимо поменять на точку:</p>
<pre><code class="language-sh">user@localhost ~ % find . -type d -print0 | xargs -0 chmod 755
user@localhost ~ % find . -type f -print0 | xargs -0 chmod 644
</code></pre>]]></content:encoded><pubDate>Sun, 09 May 2021 17:15:26 +0000</pubDate><category>Терминал</category><category>Linux</category></item><item><title>Разнообразие команд ls*</title><link>https://lib.onl/ru/posts/2021/05/5ba03b8a-0505-5d80-bfad-f7a4d66f07b0/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2021/05/5ba03b8a-0505-5d80-bfad-f7a4d66f07b0/</guid><description>Команда ls и её разновидности позволяют вывести список директорий, файлов, устройств и различной другой информации. Я расскажу только о некоторых командах ls*, которые присутствуют в большинстве дистрибутивов Linux.</description><content:encoded><![CDATA[<p>Команда <code>ls</code> и её разновидности позволяют вывести список директорий, файлов, устройств и различной другой информации. Я расскажу только о некоторых командах <code>ls*</code>, которые присутствуют в большинстве дистрибутивов Linux.</p>
<p>Знаю, что есть <code>lsscsi</code>, <code>lsusb</code> и т.п., которые появляются в системе с установкой дополнительных пакетов, но я подобные команды рассматривать не стал. Хотя, по возможности, статью буду дополнять.</p>

<h2 id="ls">
    ls
  <sup><a class="text-muted small" href="#ls"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Команда позволяет вывести список директорий и файлов в текущем каталоге.</p>

<h3 id="некоторые-опции">
    Некоторые опции
  <sup><a class="text-muted small" href="#%d0%bd%d0%b5%d0%ba%d0%be%d1%82%d0%be%d1%80%d1%8b%d0%b5-%d0%be%d0%bf%d1%86%d0%b8%d0%b8"><i class="fas fa-link fa-fw"></i></a></sup>
</h3><ul>
<li><code>-l</code> - использовать длинный формат отображения.</li>
<li><code>-S</code> - сортировать по размеру файла.</li>
<li><code>-t</code> - сортировать по времени модификации.</li>
<li><code>-a</code> - показать ВСЕ файлы, в том числе скрытые.</li>
<li><code>-R</code> - рекурсивное отображение директорий и файлов в них.</li>
<li><code>-h</code> - отображение размеров файлов в человеко-читаемом формате.</li>
<li><code>--hide='*.txt' -l</code> - игнорировать файлы с форматом <code>.txt</code>.</li>
</ul>

<h2 id="lscpu">
    lscpu
  <sup><a class="text-muted small" href="#lscpu"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Отображение доступной информации об установленном процессоре.</p>

<h3 id="некоторые-опции-1">
    Некоторые опции
  <sup><a class="text-muted small" href="#%d0%bd%d0%b5%d0%ba%d0%be%d1%82%d0%be%d1%80%d1%8b%d0%b5-%d0%be%d0%bf%d1%86%d0%b8%d0%b8-1"><i class="fas fa-link fa-fw"></i></a></sup>
</h3><ul>
<li><code>-a</code> - показать ВСЕ CPU, как включённые, так и отключённые.</li>
</ul>

<h3 id="пример-использования">
    Пример использования
  <sup><a class="text-muted small" href="#%d0%bf%d1%80%d0%b8%d0%bc%d0%b5%d1%80-%d0%b8%d1%81%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d0%be%d0%b2%d0%b0%d0%bd%d0%b8%d1%8f"><i class="fas fa-link fa-fw"></i></a></sup>
</h3><pre><code class="language-text">user@localhost ~ % lscpu

Architecture:                    x86_64
CPU op-mode(s):                  32-bit, 64-bit
Byte Order:                      Little Endian
Address sizes:                   39 bits physical, 48 bits virtual
CPU(s):                          12
On-line CPU(s) list:             0-11
Thread(s) per core:              2
Core(s) per socket:              6
Socket(s):                       1
NUMA node(s):                    1
Vendor ID:                       GenuineIntel
CPU family:                      6
Model:                           165
Model name:                      Intel(R) Core(TM) i5-10400 CPU @ 2.90GHz
Stepping:                        5
CPU MHz:                         2900.000
CPU max MHz:                     4300.0000
CPU min MHz:                     800.0000
BogoMIPS:                        5799.77
L1d cache:                       192 KiB
L1i cache:                       192 KiB
L2 cache:                        1.5 MiB
L3 cache:                        12 MiB
</code></pre>

<h2 id="lspci">
    lspci
  <sup><a class="text-muted small" href="#lspci"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Отображение информации по шине PCI и подключённых к ней устройствах.</p>

<h3 id="пример-использования-1">
    Пример использования
  <sup><a class="text-muted small" href="#%d0%bf%d1%80%d0%b8%d0%bc%d0%b5%d1%80-%d0%b8%d1%81%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d0%be%d0%b2%d0%b0%d0%bd%d0%b8%d1%8f-1"><i class="fas fa-link fa-fw"></i></a></sup>
</h3><pre><code class="language-text">user@localhost ~ % lspci

00:00.0 Host bridge: Intel Corporation Comet Lake-S 6c Host Bridge/DRAM Controller (rev 05)
00:01.0 PCI bridge: Intel Corporation 6th-10th Gen Core Processor PCIe Controller (x16) (rev 05)
00:14.0 USB controller: Intel Corporation Comet Lake USB 3.1 xHCI Host Controller
00:14.2 RAM memory: Intel Corporation Comet Lake PCH Shared SRAM
00:14.3 Network controller: Intel Corporation Comet Lake PCH CNVi WiFi
00:15.0 Serial bus controller [0c80]: Intel Corporation Comet Lake PCH Serial IO I2C Controller #0
00:15.1 Serial bus controller [0c80]: Intel Corporation Comet Lake PCH Serial IO I2C Controller #1
00:16.0 Communication controller: Intel Corporation Comet Lake HECI Controller
00:17.0 SATA controller: Intel Corporation Comet Lake SATA AHCI Controller
00:1d.0 PCI bridge: Intel Corporation Comet Lake PCI Express Root Port #9 (rev f0)
00:1f.0 ISA bridge: Intel Corporation Device 0684
00:1f.3 Audio device: Intel Corporation Comet Lake PCH cAVS
00:1f.4 SMBus: Intel Corporation Comet Lake PCH SMBus Controller
00:1f.5 Serial bus controller [0c80]: Intel Corporation Comet Lake PCH SPI Controller
00:1f.6 Ethernet controller: Intel Corporation Ethernet Connection (11) I219-V
01:00.0 VGA compatible controller: Advanced Micro Devices, Inc. [AMD/ATI] Baffin [Radeon RX 550 640SP / RX 560/560X] (rev cf)
01:00.1 Audio device: Advanced Micro Devices, Inc. [AMD/ATI] Baffin HDMI/DP Audio [Radeon RX 550 640SP / RX 560/560X]
</code></pre>

<h2 id="lsblk">
    lsblk
  <sup><a class="text-muted small" href="#lsblk"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Отображение информации по блочным устройствам.</p>

<h3 id="пример-использования-2">
    Пример использования
  <sup><a class="text-muted small" href="#%d0%bf%d1%80%d0%b8%d0%bc%d0%b5%d1%80-%d0%b8%d1%81%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d0%be%d0%b2%d0%b0%d0%bd%d0%b8%d1%8f-2"><i class="fas fa-link fa-fw"></i></a></sup>
</h3><pre><code class="language-text">user@localhost ~ % lsblk

NAME   MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT
sda      8:0    0 232.9G  0 disk
├─sda1   8:1    0   200M  0 part /boot/efi
├─sda2   8:2    0     4G  0 part /boot
├─sda3   8:3    0    64G  0 part /
├─sda4   8:4    0    32G  0 part [SWAP]
├─sda5   8:5    0    16G  0 part /tmp
└─sda6   8:6    0 116.7G  0 part /home
sdb      8:16   0 465.8G  0 disk
└─sdb1   8:17   0 465.8G  0 part /home/storage.01
sdc      8:32   1 119.5G  0 disk
└─sdc1   8:33   1 119.5G  0 part /run/media/user-0001/USB01
sdd      8:48   1  59.8G  0 disk
├─sdd1   8:49   1  59.7G  0 part /run/media/user-0001/Ventoy
└─sdd2   8:50   1    32M  0 part /run/media/user-0001/VTOYEFI
zram0  252:0    0     4G  0 disk [SWAP]
</code></pre>

<h2 id="lsmod">
    lsmod
  <sup><a class="text-muted small" href="#lsmod"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Отображение модулей ядра, загруженных в системе.</p>

<h3 id="пример-использования-3">
    Пример использования
  <sup><a class="text-muted small" href="#%d0%bf%d1%80%d0%b8%d0%bc%d0%b5%d1%80-%d0%b8%d1%81%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d0%be%d0%b2%d0%b0%d0%bd%d0%b8%d1%8f-3"><i class="fas fa-link fa-fw"></i></a></sup>
</h3><pre><code class="language-text">user@localhost ~ % lsmod

Module                  Size  Used by
exfat                  81920  1
f2fs                  700416  1
uas                    32768  0
usb_storage            81920  4 uas
snd_seq_dummy          16384  0
rfcomm                 90112  0
snd_hrtimer            16384  1
xt_CHECKSUM            16384  1
xt_MASQUERADE          20480  3
xt_conntrack           16384  1
ipt_REJECT             16384  2
nft_compat             20480  16
nf_nat_tftp            16384  0
nft_objref             16384  1
nf_conntrack_tftp      20480  3 nf_nat_tftp
nft_counter            16384  33
tun                    57344  1
bridge                294912  0
stp                    16384  1 bridge
llc                    16384  2 bridge,stp
</code></pre>]]></content:encoded><pubDate>Sun, 09 May 2021 13:44:05 +0000</pubDate><category>Терминал</category><category>В доработке</category><category>Linux</category></item><item><title>Синхронизация репозитория от GitHub к GitLab</title><link>https://lib.onl/ru/posts/2021/05/8544b8ce-4586-578f-9633-e8ae43441a25/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2021/05/8544b8ce-4586-578f-9633-e8ae43441a25/</guid><description>Понадобилось мне на днях синхронизировать некоторые свои репозитории между GitHub и GitLab. Сам GitLab имеет встроенные средства зеркалирования репозиториев от себя к другому git-хранилищу. GitHub же не обладает такой функцией. Но эту функцию можно воссоздать при помощи GitHub Actions.</description><content:encoded><![CDATA[<p>Понадобилось мне на днях синхронизировать некоторые свои репозитории между GitHub и GitLab. Сам GitLab имеет встроенные средства зеркалирования репозиториев от себя к другому git-хранилищу. GitHub же не обладает такой функцией. Но эту функцию можно воссоздать при помощи GitHub Actions.</p>
<p>Для начала необходимо создать &ldquo;секреты&rdquo; с такими переменными:</p>
<ul>
<li><code>GITLAB_SYNC_REPO_URL</code> - ссылка на пустой репозиторий GitLab.</li>
<li><code>GITLAB_SYNC_USER_NAME</code> - имя пользователя GitLab.</li>
<li><code>GITLAB_SYNC_USER_TOKEN</code> - токен пользователя GitLab. Токен создаётся в настройках аккаунта GitLab.</li>
</ul>
<p>Далее, в корне репозитория нужно создать файл <code>.github/workflows/gitlab-sync.yml</code> со следующим содержанием:</p>
<pre><code class="language-yml">name: GitLab Sync

on:
  - push
  - delete

jobs:
  sync:
    runs-on: ubuntu-latest
    name: Git Repo Sync
    steps:
      - uses: actions/checkout@v2
        with:
          fetch-depth: 0
      - uses: wangchucheng/git-repo-sync@v0.1.0
        with:
          # Such as https://github.com/wangchucheng/git-repo-sync.git
          target-url: ${{ secrets.GITLAB_SYNC_REPO_URL }}
          # Such as wangchucheng
          target-username: ${{ secrets.GITLAB_SYNC_USER_NAME }}
          # You can store token in your project's 'Setting &gt; Secrets' and reference the name here. Such as ${{ secrets.ACCESS_TOKEN }}
          target-token: ${{ secrets.GITLAB_SYNC_USER_TOKEN }}
</code></pre>
<p>На этом всё. Теперь при коммите в репозиторий, GutHub будет запускать Action и автоматически синхронизировать изменения с репозиторием на GitLab.</p>]]></content:encoded><pubDate>Sat, 08 May 2021 21:06:18 +0000</pubDate><category>Разработка</category></item><item><title>Monero Unit</title><link>https://lib.onl/ru/posts/2021/03/0a815547-4f18-52a0-9a99-c463421872ca/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2021/03/0a815547-4f18-52a0-9a99-c463421872ca/</guid><description>Бум майнинга. Скупают видеокарты, ноутбуки. Будут майнить на тостерах и стиральных машинах. Решил попробовать Monero. Задача была запустить майнер в фоне, желательно в отдельной сессии. И чтобы запускался он каждый раз при старте машины.</description><content:encoded><![CDATA[<p>Бум майнинга. Скупают видеокарты, ноутбуки. Будут майнить на тостерах и стиральных машинах. Решил попробовать <strong>Monero</strong>. Задача была запустить майнер в фоне, желательно в отдельной сессии. И чтобы запускался он каждый раз при старте машины.</p>
<p>Написал небольшой 






    
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


<a title="" href="https://github.com/KitsuneSolar/xmrig-systemd" target="_blank" rel="noopener noreferrer nofollow">systemd unit</a> для майнера 






    
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


<a title="" href="https://github.com/search?q=xmrig" target="_blank" rel="noopener noreferrer nofollow">xmrig</a>.</p>
<p>Запускается от имени <code>root</code> в отдельной сессии <strong>screen</strong>, но можно запускать от любого пользователя: в командах запуска и остановки необходимо вместо <code>root</code> прописывать имя другого пользователя.</p>

<h2 id="установка">
    Установка
  <sup><a class="text-muted small" href="#%d1%83%d1%81%d1%82%d0%b0%d0%bd%d0%be%d0%b2%d0%ba%d0%b0"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><ol>
<li>Установить <code>screen</code>.</li>
<li>Поместить в директорию <code>/etc/systemd/system</code> файл <code>xmrig@.service</code>.</li>
<li>В файле <code>xmrig@.service</code> задать в параметре <code>ExecStart</code> путь до <code>xmrig.run.sh</code>.</li>
</ol>

<h2 id="использование">
    Использование
  <sup><a class="text-muted small" href="#%d0%b8%d1%81%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d0%be%d0%b2%d0%b0%d0%bd%d0%b8%d0%b5"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><pre><code class="language-sh"># Запуск
systemctl enable --now xmrig@root

# Остановка
systemctl disable --now xmrig@root
</code></pre>]]></content:encoded><pubDate>Fri, 05 Mar 2021 11:03:20 +0000</pubDate><category>Crypto</category></item><item><title>Генератор идентификаторов расширений</title><link>https://lib.onl/ru/posts/2020/08/5d35edd8-f0e3-5b39-afd3-2ac3b15b8c4f/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2020/08/5d35edd8-f0e3-5b39-afd3-2ac3b15b8c4f/</guid><description>В свободное от работы время я балуюсь разработкой небольших модулей и расширений для различных CMF, и некоторые CMF требуют использовать идентификаторы в расширениях.</description><content:encoded><![CDATA[<p>В свободное от работы время я балуюсь разработкой небольших модулей и расширений для различных CMF, и некоторые CMF требуют использовать идентификаторы в расширениях.</p>
<p>Я стараюсь как то &ldquo;обезличить&rdquo; и унифицировать идентификаторы. Поэтому, для генерации идентификаторов использую очень простой BASH-скрипт. В идентификатор кодируется текущее время в формате UNIX с наносекундами.</p>
<p>Пример кодирования:</p>
<pre><code class="language-bash">echo &quot;ext_$(date +%s%N | sha512sum | fold -w 8 | head -n 1)&quot;
</code></pre>
<p>Вывод: <code>ext_96824896</code></p>
<p>Если необходимо, можно конвертировать в верхний регистр:</p>
<pre><code class="language-bash">echo &quot;EXT_$(date +%s%N | sha512sum | fold -w 8 | head -n 1 | tr '[:lower:]' '[:upper:]')&quot;
</code></pre>
<p>Вывод: <code>EXT_950E60E1</code></p>]]></content:encoded><pubDate>Sun, 02 Aug 2020 21:01:49 +0000</pubDate><category>CMF</category></item><item><title>Конструирование собственной системы ВКС</title><link>https://lib.onl/ru/posts/2020/08/1cc2e43f-187b-55a1-97ed-a772bbdcf78a/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2020/08/1cc2e43f-187b-55a1-97ed-a772bbdcf78a/</guid><description>Крупные компании покупают дорогие наборы техники для создания систем ВКС (видео-конференц-связь), но для небольших организаций можно собрать такую систему &amp;ldquo;на коленке&amp;rdquo;.</description><content:encoded><![CDATA[<p>Крупные компании покупают дорогие наборы техники для создания систем ВКС (видео-конференц-связь), но для небольших организаций можно собрать такую систему &ldquo;на коленке&rdquo;.</p>
<h2 id="оборудование">
    Оборудование
  <sup><a class="text-muted small" href="#%d0%be%d0%b1%d0%be%d1%80%d1%83%d0%b4%d0%be%d0%b2%d0%b0%d0%bd%d0%b8%d0%b5"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Для конструирования понадобятся следующие компоненты:</p>
<ul>
<li>Веб-камера высокого разрешения.</li>
<li>Два и более микрофона (зависит от размера комнаты для переговоров) с <strong>круговой диаграммой направленности</strong>.</li>
<li>Стационарный компьютер или ноутбук, который будет использоваться как <strong>передатчик</strong> потока.</li>
<li>Программа создания виртуальных аудио-кабелей 






    
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


<a title="" href="https://vac.muzychenko.net/" target="_blank" rel="noopener noreferrer nofollow">VAC</a>.</li>
</ul>
<p>На момент публикации статьи я выбрал следующие компоненты, доступные на рынке:</p>
<ul>
<li>Веб-камера 






    
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


<a title="" href="https://www.logitech.com/en-us/product/hd-webcam-c615" target="_blank" rel="noopener noreferrer nofollow">Logitech WebCam C615</a>.</li>
<li>Два настольных микрофона 






    
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


<a title="" href="https://www.maono.com/products/usb-microphone-bm10/" target="_blank" rel="noopener noreferrer nofollow">Maono AU-BM10</a>.</li>
</ul>


    
    
    
    

    
    
    

    
    
    

    <div class="shortcode shortcode-imgur float- me-3">
      <figure class="figure">
        <a class="d-inline-block" href="https://i.imgur.com/Yhim15t.jpeg" rel="noopener nofollow" data-fancybox="gallery" data-caption="">
          <picture>
            <img class="figure-img img-thumbnail" src="https://i.imgur.com/Yhim15tm.jpeg" alt="Yhim15tm.jpeg" loading="lazy"/>
          </picture>
        </a>
          
      </figure>
    </div>



<p>С выбором остальных компонентов, думаю, проблем возникнуть не должно. Единственное, что могу посоветовать не брать ПК со слишком слабым процессором, потому что виртуальные кабели будут так же забирать часть процессорного времени вместе с остальными программами. И, возможно, понадобится вести записи конференций - это тоже требует процессорного времени.</p>
<p>Надо быть внимательным с количеством доступных разъёмов USB, потому как выбранные компоненты подключаются при помощи коннекторов USB и количество портов может банально не хватить. Если видно, что разъёмов не хватает, необходимо докупить активный (желательно) <strong>USB-концентратор</strong>.</p>

<h2 id="подключение-и-настройка">
    Подключение и настройка
  <sup><a class="text-muted small" href="#%d0%bf%d0%be%d0%b4%d0%ba%d0%bb%d1%8e%d1%87%d0%b5%d0%bd%d0%b8%d0%b5-%d0%b8-%d0%bd%d0%b0%d1%81%d1%82%d1%80%d0%be%d0%b9%d0%ba%d0%b0"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>При конференции используется два и более микрофонов. Микрофоны должны быть с круговой диаграммой направленности, то есть они должны улавливать все звуки в помещении, независимо от местоположения источника звука.</p>
<p>Сборка всех компонентов не должна составить труда. Технический персонал любой организации справится с этим без лишних проблем. Нетривиальной задачей является подключение двух независимых микрофонов к ПК, надо заставить работать их синхронно. Как раз в этом поможет проброс виртуальных кабелей 






    
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


<a title="" href="https://vac.muzychenko.net/" target="_blank" rel="noopener noreferrer nofollow">VAC</a>.</p>
<p>После установки VAC необходимо указать двум физическим микрофонам передавать поток на один <em>виртуальный интерфейс</em>. Этот виртуальный интерфейс будет выходной точной для приложений. Делается это так:</p>
<ul>
<li>Пуск &gt; Выполнить <code>mmsys.cpl sounds</code> &gt; вкладка <strong>Запись</strong>.</li>
<li>Открыть физический микрофон, перейти на вкладку <strong>Прослушать</strong>.</li>
<li>Поставить галочку <strong>Прослушать с данного устройства</strong>.</li>
<li>В параметре <strong>Воспроизводить с данного устройства</strong> указать необходимый <em>виртуальный интерфейс</em>.</li>
</ul>

<h2 id="проверка">
    Проверка
  <sup><a class="text-muted small" href="#%d0%bf%d1%80%d0%be%d0%b2%d0%b5%d1%80%d0%ba%d0%b0"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Проверка правильности настроек производится очень просто. Необходимо, чтобы индикаторы физических микрофонов и виртуального интерфейса на вкладке <strong>Запись</strong> работали синхронно. Таким образом, видно, что физические микрофоны принимают звук и передают на виртуальный интерфейс.</p>

<h2 id="заключение">
    Заключение
  <sup><a class="text-muted small" href="#%d0%b7%d0%b0%d0%ba%d0%bb%d1%8e%d1%87%d0%b5%d0%bd%d0%b8%d0%b5"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Как видно, больших денежных вложений в организацию системы ВКС не требуется. Нужны только понимание логики работы аудио / видео потоков и смекалка. 😄</p>]]></content:encoded><pubDate>Sat, 01 Aug 2020 22:44:46 +0000</pubDate><category>DIY</category></item><item><title>Windows 10: Настройка через групповые политики</title><link>https://lib.onl/ru/posts/2020/07/94261403-060b-57b6-9bb0-7a0c07d09af9/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2020/07/94261403-060b-57b6-9bb0-7a0c07d09af9/</guid><description>Windows 10 до сих пор вызывает противоречивые чувства: иногда её поведение предсказуемо, иногда какое-нибудь обновление ломает систему, удаляя данные пользователя. И чтобы как-то улучшить положение дел и усмирить некоторые функции, я использую групповые политики в настройке операционной системы (ОС).</description><content:encoded><![CDATA[<p>Windows 10 до сих пор вызывает противоречивые чувства: иногда её поведение предсказуемо, иногда какое-нибудь обновление ломает систему, удаляя данные пользователя. И чтобы как-то улучшить положение дел и усмирить некоторые функции, я использую групповые политики в настройке операционной системы (ОС).</p>
<p>Сразу скажу, что мне нравится английский текст в интерфейсах. Поэтому все ОС у меня с интерфейсом в английской локализации, но я постараюсь максимально подробно описывать приведённые здесь групповые политики. Я использую Windows 10 в версии Enterprise, и не стоит забывать, что политики могут отличаться между различными версиями ОС.</p>
<p>Как открыть редактор групповых политик? Очень просто: необходимо нажать сочетание клавиш 

<span class="shortcode shortcode-key"><kbd>WIN&#43;R</kbd></span>
, откроется окно команды &ldquo;Выполнить&rdquo; и в текстовом поле набрать gpedit.msc и нажать 

<span class="shortcode shortcode-key"><kbd>OK</kbd></span>
.</p>
<ul>
<li>✅ - включить (разрешить).</li>
<li>⛔ - отключить (запретить).</li>
</ul>

<h2 id="computer-details">
    Computer Details
  <sup><a class="text-muted small" href="#computer-details"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Секция отвечает за корректировку групповых политик компьютера в целом.</p>

<h3 id="systemdevice-installation">
    System/Device Installation
  <sup><a class="text-muted small" href="#systemdevice-installation"><i class="fas fa-link fa-fw"></i></a></sup>
</h3><ul>
<li>✅ <strong>Prevent device metadata retrieval from the Internet</strong><br>
Запретить использование мета-информации для подключённых устройств из Интернета. Политика отвечает за отображение индивидуальных значков принтеров, сканеров и такое прочее. Для отображения подобных значков, Windows лезет в Интернет и загружает мета-данные. Мне подобное не нужно, поэтому я включаю политику (включить = запретить).</li>
<li>✅ <strong>Specify search order for device driver source locations</strong><br>
Специальный порядок источников для поиска драйверов в них. А вот эта политика отвечает за автоматическую установку драйверов на видеокарты, звуковые карты, различную периферию и прочее. Здесь можно указать ОС в каких источниках искать драйвера, приложения и прочее. Меня всегда раздражало, когда Windows при подключении к Интернету устанавливает устаревшие драйвера, например, на видеокарту. Зачем, когда я могу скачать свежие версии с сайта производителя? Включаю политику и выбираю опцию, указанную ниже.
<ul>
<li><em>Do not search Windows Update</em><br>
Не использовать Windows Update для поиска драйверов.</li>
</ul>
</li>
</ul>

<h3 id="windows-componentsautoplay-policies">
    Windows Components/AutoPlay Policies
  <sup><a class="text-muted small" href="#windows-componentsautoplay-policies"><i class="fas fa-link fa-fw"></i></a></sup>
</h3><ul>
<li>✅ <em>Turn off Autoplay</em><br>
Отключить автоматический запуск. Политика позволяет отключить запуск подходящего приложения при втыкании, например, флешки с музыкой или картинками. Ранее (да и сейчас, наверно) таким способом любили запускаться злые вирусы. Включаю политику и выбираю опцию, указанную ниже.
<ul>
<li>All drives<br>
У меня отключено на всех устройствах.</li>
</ul>
</li>
</ul>

<h3 id="windows-componentscloud-content">
    Windows Components/Cloud Content
  <sup><a class="text-muted small" href="#windows-componentscloud-content"><i class="fas fa-link fa-fw"></i></a></sup>
</h3><ul>
<li>✅ <strong>Do not show Windows tips</strong><br>
Не показывать подсказки Windows. Лично мне подсказки ОС не нужны. Я как нибудь без них обойдусь. Включаю политику.</li>
<li>✅ <strong>Turn off Microsoft consumer experiences</strong><br>
Выключить Microsoft Consumer Experience. Компания Microsoft своими рекомендациями навязывает установку таких приложений, как Candy Crush Soda Saga, FarmVille 2, Flipboard, Twitter, Photoshop Express, Minecraft и т.д. Мне они не нужны да и мне чуждо такое навязывание. Неприятно. Включаю политику, тем самым отключая подобную рекламу.</li>
</ul>

<h3 id="windows-componentsdata-collection-and-preview-builds">
    Windows Components/Data Collection and Preview Builds
  <sup><a class="text-muted small" href="#windows-componentsdata-collection-and-preview-builds"><i class="fas fa-link fa-fw"></i></a></sup>
</h3><ul>
<li>✅ <strong>Allow Telemetry</strong><br>
Разрешить телеметрию. Полностью телеметрию отключить всё равно не получится, что бы там не писали в Интернете. Поэтому, я включаю телеметрию и устанавливаю уровень сбора информации.
<ul>
<li><em>0 - Security [Enterprise Only]</em><br>
Ставлю нулевой уровень. Собирать данные, необходимые для осуществления безопасности. Но это только для операционной системы класса Enterprise.</li>
</ul>
</li>
</ul>

<h3 id="windows-componentsdesktop-gadgets">
    Windows Components/Desktop Gadgets
  <sup><a class="text-muted small" href="#windows-componentsdesktop-gadgets"><i class="fas fa-link fa-fw"></i></a></sup>
</h3><ul>
<li>✅ <strong>Turn off desktop gadgets</strong><br>
Выключить гаджеты рабочего стола. Актуально для Windows Vista / 7. В Windows 10 гаджетов не видел. Может потому что не использовал их никогда. Но политику включаю.</li>
</ul>

<h3 id="windows-componentsmicrosoft-defender-antivirus">
    Windows Components/Microsoft Defender Antivirus
  <sup><a class="text-muted small" href="#windows-componentsmicrosoft-defender-antivirus"><i class="fas fa-link fa-fw"></i></a></sup>
</h3><ul>
<li>✅ <strong>Turn off Microsoft Defender Antivirus</strong><br>
Отключить Microsoft Defender Antivirus. Я отключаю себе антивирус. Головы хватает, чтобы не подхватить вирусы. Использую только ограниченный проверенный набор программ. При этом, если необходимо запустить что-то экзотическое, у меня всегда развёрнута виртуальная машина в Hyper-V.</li>
</ul>

<h3 id="windows-componentsonedrive">
    Windows Components/OneDrive
  <sup><a class="text-muted small" href="#windows-componentsonedrive"><i class="fas fa-link fa-fw"></i></a></sup>
</h3><ul>
<li>✅ <strong>Prevent the usage of OneDrive for file storage</strong><br>
Запретить использование OneDrive как файловое хранилище. Мне не нужен OneDrive. Поэтому я запрещаю использование OneDrive в качестве хранилища файлов.</li>
</ul>

<h3 id="windows-componentssearch">
    Windows Components/Search
  <sup><a class="text-muted small" href="#windows-componentssearch"><i class="fas fa-link fa-fw"></i></a></sup>
</h3><ul>
<li>⛔ <strong>Allow Cloud Search</strong><br>
Разрешить использование облачного поиска. Мне не нужен в ОС поиск, который будет искать по различным сайтам. Только локальный поиск. Поэтому, я запрещаю политику.</li>
<li>⛔ <strong>Allow Cortana</strong><br>
Разрешить Cortana. Cortana мне тоже не нужна. Мне не о чём с ней поговорить. Поэтому, я запрещаю Cortana.</li>
</ul>

<h3 id="windows-componentsstore">
    Windows Components/Store
  <sup><a class="text-muted small" href="#windows-componentsstore"><i class="fas fa-link fa-fw"></i></a></sup>
</h3><ul>
<li>✅ <strong>Disable all apps from Microsoft Store</strong><br>
Отключить все приложения из Microsoft Store. Для выпиливания приложений, установленных из Microsoft Store в Интернете гуляет скрипт на PowerShell. Но мне лень его использовать, да и мало ли что&hellip; Поэтому, я просто отключаю подобные приложения через групповые политики. Они остаются в меню Start, но не используются.</li>
<li>✅ <strong>Turn off the Store application</strong><br>
Подобно представленной выше политике, эта отключает магазин приложений. Согласно описанию и Интернету, эта политика важнее предыдущей, и включение её отключает не только сам магазин, но и приложения из него.</li>
</ul>

<h3 id="windows-componentssync-your-settings">
    Windows Components/Sync your settings
  <sup><a class="text-muted small" href="#windows-componentssync-your-settings"><i class="fas fa-link fa-fw"></i></a></sup>
</h3><ul>
<li>✅ <strong>Do not sync</strong><br>
Не синхронизировать настройки пользователя. Синхронизация настроек между устройствами мне не нужна. Я включаю политику, тем самым отключаю синхронизацию.</li>
</ul>

<h3 id="windows-componentswindows-game-recording-and-broadcasting">
    Windows Components/Windows Game Recording and Broadcasting
  <sup><a class="text-muted small" href="#windows-componentswindows-game-recording-and-broadcasting"><i class="fas fa-link fa-fw"></i></a></sup>
</h3><ul>
<li>⛔ <strong>Enables or disables Windows Game Recording and Broadcasting</strong><br>
Включение или отключение функций Windows Game Recording и Broadcasting. Так как я не играю в игры, для меня подобная функциональность ОС избыточна. Отключаю политику.</li>
</ul>

<h3 id="windows-componentswindows-update">
    Windows Components/Windows Update
  <sup><a class="text-muted small" href="#windows-componentswindows-update"><i class="fas fa-link fa-fw"></i></a></sup>
</h3><ul>
<li>✅ <strong>Configure Automatic Updates</strong><br>
Конфигурация автоматического обновления. Ох, сколько в Интернете страданий по поводу обновлений Windows 10. При включении этой политике, я указываю опции, которые помогут избавится от ряда проблем с автоматическим обновлением.
<ul>
<li><strong>Configure automatic updating:</strong> <em>2 - Notify for download and auto install</em><br>
Я выбираю опцию #2, которая гласит как &ldquo;Информировать о выпуске новых обновлений&rdquo;.</li>
<li>✅ <em>Install updates for other Microsoft products</em><br>
Также отмечаю галочкой опцию &ldquo;Устанавливать обновления для других продуктов Microsoft&rdquo;. Таким образом, более-менее свежие версии, например, Microsoft Office будут обновляться через Windows Update вместе с ОС.</li>
</ul>
</li>
<li>✅ <strong>Do not include drivers with Windows Updates</strong><br>
Не использовать драйвера в Windows Updates. Вот эта опция странная. Может я её не так понимаю, но при включении, Windows Updates всё равно ставит драйвера на устройства. А мне подобное обслуживание не надо.</li>
<li>✅ <strong>No auto-restart with logged on users for scheduled automatic updates installations</strong><br>
Не использовать автоматическую перезагрузку при вошедшем в систему пользователе, когда обновления установились. Вот эта та самая автоматическая перезагрузка, которая попортила нервишки многим пользователям. Например, когда ты днём много работаешь, а на ночь ставишь компьютер считать различные данные, утром можно обнаружить окно готовности войти в систему. Да, установились обновления и компьютер перезагрузился. Включаем политику, тем самым отключая автоматическую перезагрузку.</li>
</ul>

<h2 id="user-details">
    User Details
  <sup><a class="text-muted small" href="#user-details"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Секция отвечает за корректировку групповых политик под пользователей.</p>

<h3 id="windows-componentsattachment-manager">
    Windows Components/Attachment Manager
  <sup><a class="text-muted small" href="#windows-componentsattachment-manager"><i class="fas fa-link fa-fw"></i></a></sup>
</h3><ul>
<li>✅ <strong>Do not preserve zone information in file attachments</strong><br>
Не сохранять информацию о зоне в файлах. Суть этой политики такова, что если я скачаю из Интернета, например, какой-нибудь EXE-файл, то файловая система пометит его как небезопасный. Лично мне в этом нет необходимости. Включаю политику.</li>
</ul>

<h3 id="windows-componentscloud-content-1">
    Windows Components/Cloud Content
  <sup><a class="text-muted small" href="#windows-componentscloud-content-1"><i class="fas fa-link fa-fw"></i></a></sup>
</h3><ul>
<li>✅ <strong>Turn off all Windows spotlight features</strong><br>
Отключить все возможности Windows Spotlight. Windows Spotlight эта функция ОС, которая позволяет отображать на экране входа в систему различную интерактивную информацию, например, сменяющиеся фоновые изображения, различные предложения (рекламные / не рекламные - не знаю, не видел ни разу). Мне это не надо, поэтому я включаю политику, запрещая использование Windows Spotlight.</li>
</ul>
<p>На этом всё. Возможно, некоторые параметры групповых политик покажутся спорными, а некоторые вообще странными и ненужными, но мне так удобно работать. Список будет дорабатываться, если найду что-нибудь ещё интересное.</p>]]></content:encoded><pubDate>Tue, 21 Jul 2020 21:15:37 +0000</pubDate><category>MS Windows</category></item><item><title>GnuPG: Создание и работа с ключами шифрования</title><link>https://lib.onl/ru/posts/2020/07/7a204545-daa8-58ce-ba35-75e732e1bcc0/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2020/07/7a204545-daa8-58ce-ba35-75e732e1bcc0/</guid><description>GnuPG (GPG) это программа для шифрования информации и создания электронных цифровых подписей. Она создавалась в качестве свободной альтернативе несвободному PGP.</description><content:encoded><![CDATA[<p><strong>GnuPG (GPG)</strong> это программа для шифрования информации и создания электронных цифровых подписей. Она создавалась в качестве свободной альтернативе несвободному <strong>PGP</strong>.</p>
<h2 id="создание-ключа">
    Создание ключа
  <sup><a class="text-muted small" href="#%d1%81%d0%be%d0%b7%d0%b4%d0%b0%d0%bd%d0%b8%d0%b5-%d0%ba%d0%bb%d1%8e%d1%87%d0%b0"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>GPG предоставляет различные алгоритмы шифрования. Я предпочитаю алгоритм <strong>ECC</strong>, основанный на эллиптических кривых (Elliptic Curve Cryptography).</p>
<p>Для создания ключей шифрования, нужно чтобы в системе была установлена утилита GPG. Для систем <strong>Debian</strong> и <strong>CentOS / Fedora</strong> этим занимается пакет <code>gnupg</code>, устанавливается командами:</p>
<pre><code class="language-sh"># CentOS 8 / Fedora
dnf install gnupg

# Debian
apt install gnupg
</code></pre>
<p>После того, как пакет установлен, можно начать создание ключа командой:</p>
<pre><code class="language-text">gpg --expert --full-gen-key
</code></pre>
<p>Команда вернёт следующий результат:</p>
<pre><code class="language-text">gpg (GnuPG) 2.2.20; Copyright (C) 2020 Free Software Foundation, Inc.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Please select what kind of key you want:
   (1) RSA and RSA (default)
   (2) DSA and Elgamal
   (3) DSA (sign only)
   (4) RSA (sign only)
   (7) DSA (set your own capabilities)
   (8) RSA (set your own capabilities)
   (9) ECC and ECC
  (10) ECC (sign only)
  (11) ECC (set your own capabilities)
  (13) Existing key
  (14) Existing key from card
Your selection?
</code></pre>
<p>Здесь спрашивается, какой конкретно ключ мы хотим получить. Вводим <code>9</code>. Получаем:</p>
<pre><code class="language-text">Please select which elliptic curve you want:
   (1) Curve 25519
   (3) NIST P-256
   (4) NIST P-384
   (5) NIST P-521
   (9) secp256k1
Your selection?
</code></pre>
<p>А здесь уже предстоит выбрать алгоритм шифрования. Вводим <code>1</code>. Получаем:</p>
<pre><code class="language-text">Please specify how long the key should be valid.
         0 = key does not expire
      &lt;n&gt;  = key expires in n days
      &lt;n&gt;w = key expires in n weeks
      &lt;n&gt;m = key expires in n months
      &lt;n&gt;y = key expires in n years
Key is valid for? (0)
</code></pre>
<p>На последнем шаге настройки ключа спрашивается время действия ключа. Обычно, личные ключи генерируются с безлимитным временем действия. Вводим <code>0</code> (этот пункт идёт по умолчанию).</p>
<p>Дальше будет пара-тройка вопросов по поводу имени владельца ключа, его адреса e-mail и с просьбой указать комментарий. Таким образом, создаётся пара ключей: закрытый и открытый. Открытый ключ можно публиковать на различных ресурсах с целью идентификации владельца и подтверждения его личности. Например, так работает верификация коммитов на GitLab’е и GitHub’е. Закрытый ключ должен всегда оставаться внутри системы.</p>

<h2 id="список-ключей-в-системе">
    Список ключей в системе
  <sup><a class="text-muted small" href="#%d1%81%d0%bf%d0%b8%d1%81%d0%be%d0%ba-%d0%ba%d0%bb%d1%8e%d1%87%d0%b5%d0%b9-%d0%b2-%d1%81%d0%b8%d1%81%d1%82%d0%b5%d0%bc%d0%b5"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Посмотреть установленные в системе ключи можно командой:</p>
<pre><code class="language-sh">gpg --list-keys --keyid-format LONG --with-fingerprint
</code></pre>
<p>Здесь:</p>
<ul>
<li><code>--list-keys</code> - показать список ключей.</li>
<li><code>--keyid-format LONG</code> - формат отображения каждого ключа в расширенном (<code>LONG</code>) формате.</li>
<li><code>--with-fingerprint</code> - вывести отпечаток. Для себя всегда добавляю эту опцию на всякий случай.</li>
</ul>
<p>Команда вернёт следующий результат:</p>
<pre><code class="language-sh">pub   ed25519/JTM4BAVLPI8F0XHR 2020-02-17 [SC]                                # Key: ID.
      Key fingerprint = XXXX XXXX XXXX XXXX XXXX  XXXX XXXX XXXX XXXX XXXX    # Key: Fingerprint.
uid                 [ultimate] John Doe &lt;john.doe@example.com&gt;                # Key: INFO.
sub   cv25519/AI9NEDUOWRF016Y2 2020-02-17 [E]
</code></pre>
<p>Здесь:</p>
<ul>
<li><code>JTM4BAVLPI8F0XHR</code> - идентификатор ключа. Он потребуется для каких-либо действий с ключом (редактирование / удаление / и т.п.).</li>
<li><code>[ultimate]</code> - уровень доверия к ключу.</li>
<li><code>John Doe</code> - имя хозяина ключа.</li>
<li><code>&lt;john.doe@example.com&gt;</code> - почта хозяина ключа.</li>
<li><code>ed25519</code> &amp; <code>cv25519</code> - алгоритмы шифрования.</li>
</ul>

<h2 id="экспорт-и-импорт-ключа">
    Экспорт и импорт ключа
  <sup><a class="text-muted small" href="#%d1%8d%d0%ba%d1%81%d0%bf%d0%be%d1%80%d1%82-%d0%b8-%d0%b8%d0%bc%d0%bf%d0%be%d1%80%d1%82-%d0%ba%d0%bb%d1%8e%d1%87%d0%b0"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>При создании открытого и закрытого ключей, необходимо экспортировать их для того, чтобы они хранились где-то независимо от системы, например, на какой-нибудь карте памяти или USB-флешке. Следующие две команды выполняют необходимые действия:</p>
<pre><code class="language-sh"># Export: PUBLIC.
gpg --armor --output JohnDoe.public.asc --export JTM4BAVLPI8F0XHR

# Export: PRIVATE.
gpg --armor --output JohnDoe.private.asc --export-secret-keys JTM4BAVLPI8F0XHR
</code></pre>
<p>Здесь:</p>
<ul>
<li><code>--armor</code> - экспорт ключа в формате <strong>ASCII</strong> (текстовый формат).</li>
<li><code>--output</code> - имя файлы, в который будет экспортирован ключ.</li>
<li><code>--export JTM4BAVLPI8F0XHR</code> - экспорт открытого ключа с идентификатором <code>JTM4BAVLPI8F0XHR</code>.</li>
<li><code>--export-secret-keys JTM4BAVLPI8F0XHR</code> - экспорт закрытого ключа с идентификатором <code>JTM4BAVLPI8F0XHR</code>.</li>
</ul>
<p>С экспортом разобрались. Теперь по поводу импорта&hellip; Импортировать также необходимо открытый и закрытый ключи. Следующие две команды выполняют необходимые действия:</p>
<pre><code class="language-sh"># Import: PUBLIC.
gpg --import JohnDoe.public.asc

# Import: PRIVATE.
gpg --import JohnDoe.private.asc
</code></pre>
<p>После импорта ключ приобретает <strong>стандартный уровень доверия</strong>. Для повышения или понижения уровня доверия, ключ необходимо отредактировать.</p>

<h2 id="редактирование-ключа">
    Редактирование ключа
  <sup><a class="text-muted small" href="#%d1%80%d0%b5%d0%b4%d0%b0%d0%ba%d1%82%d0%b8%d1%80%d0%be%d0%b2%d0%b0%d0%bd%d0%b8%d0%b5-%d0%ba%d0%bb%d1%8e%d1%87%d0%b0"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Следующая команда позволяет отредактировать ключ:</p>
<pre><code class="language-text">gpg --edit-key JTM4BAVLPI8F0XHR
</code></pre>
<p>Здесь:</p>
<ul>
<li><code>--edit-key JTM4BAVLPI8F0XHR</code> - редактирование ключа с идентификатором <code>JTM4BAVLPI8F0XHR</code>.</li>
</ul>
<p>Режим редактирования ключа представляет собой текстовый интерфейс, в который вручную вбиваются команды. Например, повысим уровень доверия к ключу до максимального (ultimate).</p>
<ol>
<li>Вводим <code>trust</code>.</li>
<li>Выбираем <code>5 (I trust ultimately)</code>.</li>
<li>Вводим <code>quit</code> (выход).</li>
</ol>]]></content:encoded><pubDate>Thu, 16 Jul 2020 06:55:17 +0000</pubDate><category>Crypto</category></item><item><title>MikroTik и Cloudflare: Динамический IP для домена</title><link>https://lib.onl/ru/posts/2020/07/ff2ae66e-8e14-5c4a-baa6-0cd2e59f6517/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2020/07/ff2ae66e-8e14-5c4a-baa6-0cd2e59f6517/</guid><description>Когда то на просторах интернета нашёл скрипт реализации динамической смены IP из MikroTik напрямую в панели управления Cloudflare при помощи API. Сам скрипт я немного подкорректировал и опубликовал в MikroTik Marketplace. Где нашёл скрипт уже не помню, вроде бы на страницах официального форума MikroTik. Привожу описание скрипта и переменных.</description><content:encoded><![CDATA[<p>Когда то на просторах интернета нашёл скрипт реализации динамической смены IP из MikroTik напрямую в панели управления Cloudflare при помощи API. Сам скрипт я немного подкорректировал и опубликовал в 






    
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


<a title="" href="https://github.com/marketplace-mikrotik/mikrotik-ext-cloudflare" target="_blank" rel="noopener noreferrer nofollow">MikroTik Marketplace</a>. Где нашёл скрипт уже не помню, вроде бы на страницах официального форума MikroTik. Привожу описание скрипта и переменных.</p>
<p>Сам скрипт нужно настроить под себя, прописав в нём значения переменных. Значения переменных я указал в 






    
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


<a title="" href="https://github.com/marketplace-mikrotik/mikrotik-ext-cloudflare/blob/main/README.md" target="_blank" rel="noopener noreferrer nofollow">README</a> на GitHub’е. Большинство значений можно узнать из панели управления доменом в Cloudflare, но для получения значения переменной <code>cfDNSID</code> необходимо выполнит немного телодвижений.</p>
<p>Для начала в терминале Linux выполнить следующую команду:</p>
<pre><code class="language-bash">curl -X GET &quot;https://api.cloudflare.com/client/v4/zones/API_ZONE_ID/dns_records&quot;  \
-H &quot;X-Auth-Email: USER_EMAIL&quot;                                                     \
-H &quot;X-Auth-Key: USER_TOKEN&quot;                                                       \
-H &quot;Content-Type: application/json&quot; | python -mjson.tool
</code></pre>
<p>&hellip;соответственно, подставив собственные значения, например (значения фальшивые):</p>
<pre><code class="language-bash">curl -X GET &quot;https://api.cloudflare.com/client/v4/zones/Q7dslfag51U2B3jRpmbxMInDTCoSFYyH/dns_records&quot;   \
-H &quot;X-Auth-Email: user@cloudflare.com&quot;                                                                  \
-H &quot;X-Auth-Key: CcDXmj5lzd9Na3Wi2fQLPvAJIuwUrxF1VnMyS&quot;                                                  \
-H &quot;Content-Type: application/json&quot; | python -mjson.tool
</code></pre>
<p>Команды вернёт результат в формате JSON, к примеру (результаты фальшивые):</p>
<pre><code class="language-json">{
    &quot;result&quot;: [
        {
            &quot;id&quot;: &quot;gJDSG5la4IWNOEVn6K2PHyope8Q9YhzC&quot;,
            &quot;zone_id&quot;: &quot;Q7dslfag51U2B3jRpmbxMInDTCoSFYyH&quot;,
            &quot;zone_name&quot;: &quot;example.com&quot;,
            &quot;name&quot;: &quot;example.com&quot;,
            &quot;type&quot;: &quot;A&quot;,
            &quot;content&quot;: &quot;192.168.10.232&quot;,
            &quot;proxiable&quot;: true,
            &quot;proxied&quot;: true,
            &quot;ttl&quot;: 1,
            &quot;locked&quot;: false,
            &quot;meta&quot;: {
                &quot;auto_added&quot;: false,
                &quot;managed_by_apps&quot;: false,
                &quot;managed_by_argo_tunnel&quot;: false,
                &quot;source&quot;: &quot;primary&quot;
            },
            &quot;created_on&quot;: &quot;2020-02-23T21:26:27.56227Z&quot;,
            &quot;modified_on&quot;: &quot;2020-02-23T21:26:27.56227Z&quot;
        }
    ],
    &quot;success&quot;: true,
    &quot;errors&quot;: [],
    &quot;messages&quot;: [],
    &quot;result_info&quot;: {
        &quot;page&quot;: 1,
        &quot;per_page&quot;: 20,
        &quot;count&quot;: 7,
        &quot;total_count&quot;: 7,
        &quot;total_pages&quot;: 1
    }
}
</code></pre>
<p>Смотрим поле <code>id</code> и значение этого поля вставляем в переменную <code>cfDNSID</code>.</p>
<p>На этом всё. Не забываем выдать скрипту необходимые права в панели MikroTik, а также прописать автоматический запуск скрипта через <strong>Scheduler</strong>.</p>]]></content:encoded><pubDate>Sun, 12 Jul 2020 15:09:48 +0000</pubDate><category>Сеть</category></item><item><title>Первичная настройка UAIK</title><link>https://lib.onl/ru/posts/2020/06/59781965-afe7-5dd5-9798-d1c5ba6cdafd/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2020/06/59781965-afe7-5dd5-9798-d1c5ba6cdafd/</guid><description>После автоматической установки (Kickstart) при помощи UAIK , Fedora запустится в текстовом режиме. На этом этапе необходимо произвести первичную настройку операционной системы.</description><content:encoded><![CDATA[<p>После автоматической установки (Kickstart) при помощи 






    
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


<a title="" href="https://uaik.github.io/" target="_blank" rel="noopener noreferrer nofollow">UAIK</a> , Fedora запустится в текстовом режиме. На этом этапе необходимо произвести первичную настройку операционной системы.</p>
<h4 id="включение-графического-режима">
    Включение графического режима
  <sup><a class="text-muted small" href="#%d0%b2%d0%ba%d0%bb%d1%8e%d1%87%d0%b5%d0%bd%d0%b8%d0%b5-%d0%b3%d1%80%d0%b0%d1%84%d0%b8%d1%87%d0%b5%d1%81%d0%ba%d0%be%d0%b3%d0%be-%d1%80%d0%b5%d0%b6%d0%b8%d0%bc%d0%b0"><i class="fas fa-link fa-fw"></i></a></sup>
</h4><pre><code class="language-text">systemctl set-default graphical.target
</code></pre>

<h4 id="создание-пользователя">
    Создание пользователя
  <sup><a class="text-muted small" href="#%d1%81%d0%be%d0%b7%d0%b4%d0%b0%d0%bd%d0%b8%d0%b5-%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d0%be%d0%b2%d0%b0%d1%82%d0%b5%d0%bb%d1%8f"><i class="fas fa-link fa-fw"></i></a></sup>
</h4><pre><code class="language-bash"># Добавить пользователя.
useradd -mc &quot;User 0001&quot; user-0001

# Установить пароль для пользователя.
passwd user-0001
</code></pre>

<h4 id="отключение-пользователя">
    Отключение пользователя
  <sup><a class="text-muted small" href="#%d0%be%d1%82%d0%ba%d0%bb%d1%8e%d1%87%d0%b5%d0%bd%d0%b8%d0%b5-%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d0%be%d0%b2%d0%b0%d1%82%d0%b5%d0%bb%d1%8f"><i class="fas fa-link fa-fw"></i></a></sup>
</h4><pre><code class="language-bash"># Отключить пользователя.
usermod -L user-0000
</code></pre>

<h4 id="перемещение-пользователя">
    Перемещение пользователя
  <sup><a class="text-muted small" href="#%d0%bf%d0%b5%d1%80%d0%b5%d0%bc%d0%b5%d1%89%d0%b5%d0%bd%d0%b8%d0%b5-%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d0%be%d0%b2%d0%b0%d1%82%d0%b5%d0%bb%d1%8f"><i class="fas fa-link fa-fw"></i></a></sup>
</h4><pre><code class="language-text">usermod -md /new_home/user-0001 user-0001
</code></pre>

<h4 id="работа-с-диском">
    Работа с диском
  <sup><a class="text-muted small" href="#%d1%80%d0%b0%d0%b1%d0%be%d1%82%d0%b0-%d1%81-%d0%b4%d0%b8%d1%81%d0%ba%d0%be%d0%bc"><i class="fas fa-link fa-fw"></i></a></sup>
</h4><p>Чтобы создать на новом диске раздел, необходимо войти в программу <code>parted</code>:</p>
<pre><code class="language-text">parted -a optimal /dev/sdb
</code></pre>
<p>Выполнить следующие команды:</p>
<pre><code class="language-text">(parted) mklabel gpt
(parted) mkpart primary 0% 100%
(parted) quit
</code></pre>
<p>Создать файловую систему:</p>
<pre><code class="language-text">mkfs.xfs /dev/sdb1
</code></pre>
<p>Настроить автоматическое монтирование раздела в <code>/etc/fstab</code>:</p>
<pre><code class="language-text">/dev/sdb1 /home/storage xfs defaults 0 0
</code></pre>]]></content:encoded><pubDate>Tue, 02 Jun 2020 06:20:27 +0000</pubDate><category>Linux</category></item><item><title>Запись ISO на USB Flash Drive</title><link>https://lib.onl/ru/posts/2020/06/5d90ef6f-f05f-5462-b8a2-28dac0bb2f48/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2020/06/5d90ef6f-f05f-5462-b8a2-28dac0bb2f48/</guid><description>Команды для &amp;ldquo;правильной&amp;rdquo; записи ISO на USB Flash Drive.</description><content:encoded><![CDATA[<p>Команды для &ldquo;правильной&rdquo; записи ISO на USB Flash Drive.</p>
<ol>
<li>Определить USB-накопитель при помощи команды <code>fdisk -l</code>.</li>
<li>Отмонтировать ВСЕ разделы с USB-накопителя командой <code>umount /dev/sdX*</code>, где <code>X</code> - буква накопителя (например, <code>umount /dev/sdc*</code>).</li>
<li>Загрузить ISO на USB-накопитель:</li>
</ol>
<pre><code class="language-bash"># Отмонтировать и очистить USB-накопитель.
umount /dev/sdX* &amp;&amp; sgdisk -Z /dev/sdX

# Записать образ на USB-накопитель.
dd if=image.iso of=/dev/sdX bs=4M oflag=direct status=progress; sync

# Извлечь USB-накопитель.
eject /dev/sdX
</code></pre>]]></content:encoded><pubDate>Tue, 02 Jun 2020 06:20:24 +0000</pubDate><category>Linux</category></item><item><title>Первая запись</title><link>https://lib.onl/ru/posts/2020/06/6a305138-a151-5439-91d8-e2feeed39991/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2020/06/6a305138-a151-5439-91d8-e2feeed39991/</guid><description>Привет!</description><content:encoded>&lt;p>Привет!&lt;/p>
&lt;p>Это первая запись для тестирования конфигурации и возможностей данного блога. Запись для тестирования функциональности и корректности шаблонов.&lt;/p></content:encoded><pubDate>Tue, 02 Jun 2020 06:20:21 +0000</pubDate><category>Meta</category></item></channel></rss>