<?xml version="1.0" encoding="UTF-8" standalone="yes"?><rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"><channel><title>dns | Library Online</title><link>https://lib.onl/ru/tags/dns/</link><description>Заметки на тему администрирования и разработки различных систем, приложений и серверов.</description><language>ru-RU</language><sy:updatePeriod>weekly</sy:updatePeriod><sy:updateFrequency>1</sy:updateFrequency><image><link>https://lib.onl/ru/tags/dns/</link><url>https://lib.onl/img/icon-128.png</url><width>128</width><height>128</height><title>
dns | Library Online</title><description>Заметки на тему администрирования и разработки различных систем, приложений и серверов.</description></image><lastBuildDate>Sun, 14 Aug 2022 18:16:34 +0000</lastBuildDate><atom:link href="https://lib.onl/ru/tags/dns/index.xml" rel="self" type="application/rss+xml"/><item><title>Установка сертификата НУЦ Минцифры</title><link>https://lib.onl/ru/posts/2023/10/75075788-9308-56b7-b531-2008cb35f7d0/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2023/10/75075788-9308-56b7-b531-2008cb35f7d0/</guid><description>Рассказываю о нескольких способах установки сертификатов от НУЦ Минцифры. Установка производится в ОС MS Windows и Linux.</description><content:encoded><![CDATA[<p>Рассказываю о нескольких способах установки сертификатов от НУЦ Минцифры. Установка производится в ОС MS Windows и Linux.</p>
<h2 id="ms-windows">
    MS Windows
  <sup><a class="text-body-secondary small" href="#ms-windows"><i class="fas fa-link fa-fw"></i></a></sup>
</h2>
<h3 id="установка-корневого-сертификата">
    Установка корневого сертификата
  <sup><a class="text-body-secondary small" href="#%d1%83%d1%81%d1%82%d0%b0%d0%bd%d0%be%d0%b2%d0%ba%d0%b0-%d0%ba%d0%be%d1%80%d0%bd%d0%b5%d0%b2%d0%be%d0%b3%d0%be-%d1%81%d0%b5%d1%80%d1%82%d0%b8%d1%84%d0%b8%d0%ba%d0%b0%d1%82%d0%b0"><i class="fas fa-link fa-fw"></i></a></sup>
</h3><ul>
<li>






    
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


<a title="" href="https://gu-st.ru/content/Other/doc/russian_trusted_root_ca.cer" target="_blank" rel="noopener noreferrer nofollow">Скачать</a> корневой сертификат.</li>
<li>Открыть скаченный файл <code>russian_trusted_root_ca.cer</code> и нажать кнопку <span class="shortcode shortcode-key"><kbd>Установить сертификат...</kbd></span>.</li>
<li>В <strong>Мастере импорта сертификатов</strong> выбрать <em>Текущий пользователь</em>.
<ul>
<li>Выбрать <em>Поместить все сертификаты в следующее хранилище</em>.</li>
<li>Нажать <span class="shortcode shortcode-key"><kbd>Обзор</kbd></span> и выбрать <em>Доверенные корневые центры сертификации</em>.</li>
<li>В окне <strong>Завершение мастера импорта сертификатов</strong> нажать <span class="shortcode shortcode-key"><kbd>Готово</kbd></span>.</li>
</ul>
</li>
</ul>

<h3 id="установка-выпускающего-сертификата">
    Установка выпускающего сертификата
  <sup><a class="text-body-secondary small" href="#%d1%83%d1%81%d1%82%d0%b0%d0%bd%d0%be%d0%b2%d0%ba%d0%b0-%d0%b2%d1%8b%d0%bf%d1%83%d1%81%d0%ba%d0%b0%d1%8e%d1%89%d0%b5%d0%b3%d0%be-%d1%81%d0%b5%d1%80%d1%82%d0%b8%d1%84%d0%b8%d0%ba%d0%b0%d1%82%d0%b0"><i class="fas fa-link fa-fw"></i></a></sup>
</h3><ul>
<li>






    
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


<a title="" href="https://gu-st.ru/content/Other/doc/russian_trusted_sub_ca.cer" target="_blank" rel="noopener noreferrer nofollow">Скачать</a> выпускающий сертификат.</li>
<li>Открыть скаченный файл <code>russian_trusted_sub_ca.cer</code> и нажать кнопку <span class="shortcode shortcode-key"><kbd>Установить сертификат...</kbd></span>.</li>
<li>В <strong>Мастере импорта сертификатов</strong> выбрать <em>Текущий пользователь</em>.
<ul>
<li>Выбрать <em>Автоматически выбрать хранилище на основе типа сертификата</em>.</li>
<li>В окне <strong>Завершение мастера импорта сертификатов</strong> нажать <span class="shortcode shortcode-key"><kbd>Готово</kbd></span>.</li>
</ul>
</li>
</ul>

<h3 id="powershell">
    PowerShell
  <sup><a class="text-body-secondary small" href="#powershell"><i class="fas fa-link fa-fw"></i></a></sup>
</h3><p>При помощи PowerShell можно установить сертификат одной строчкой, состоящей из нескольких команд:</p>
<ul>
<li><code>Invoke-WebRequest</code> - скачивает файл с внешнего веб-ресурса.</li>
<li><code>Import-Certificate</code> - импортирует сертификат в указанное хранилище.</li>
<li><code>${DIR}</code> - переменная, определяющая директорию <code>Downloads</code> (<code>Загрузки</code>) для текущего пользователя.</li>
</ul>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-powershell" id="codeblock-d053f7b93f389b910bd7a49a1695b8f0">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-fe8c8394c47fa11679914c91a023f363"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-powershell" data-lang="powershell"><span class="line"><span class="cl"><span class="p">${</span><span class="n">CERT_ROOT</span><span class="p">}</span> <span class="p">=</span> <span class="s1">&#39;russian_trusted_root_ca.cer&#39;</span><span class="p">;</span> <span class="p">${</span><span class="n">CERT_SUB</span><span class="p">}</span> <span class="p">=</span> <span class="s1">&#39;russian_trusted_sub_ca.cer&#39;</span><span class="p">;</span> <span class="p">${</span><span class="n">DIR</span><span class="p">}</span> <span class="p">=</span> <span class="p">(</span><span class="nb">New-Object</span> <span class="n">-ComObject</span> <span class="n">Shell</span><span class="p">.</span><span class="n">Application</span><span class="p">).</span><span class="py">NameSpace</span><span class="p">(</span><span class="s1">&#39;shell:Downloads&#39;</span><span class="p">).</span><span class="py">Self</span><span class="p">.</span><span class="n">Path</span><span class="p">;</span> <span class="nb">Invoke-WebRequest</span> <span class="s2">&#34;https://gu-st.ru/content/Other/doc/</span><span class="nv">${CERT_ROOT}</span><span class="s2">&#34;</span> <span class="n">-OutFile</span> <span class="s2">&#34;</span><span class="nv">${DIR}</span><span class="s2">\</span><span class="nv">${CERT_ROOT}</span><span class="s2">&#34;</span><span class="p">;</span> <span class="nb">Import-Certificate</span> <span class="n">-FilePath</span> <span class="s2">&#34;</span><span class="nv">${DIR}</span><span class="s2">\</span><span class="nv">${CERT_ROOT}</span><span class="s2">&#34;</span> <span class="n">-CertStoreLocation</span> <span class="s1">&#39;Cert:\CurrentUser\Root&#39;</span><span class="p">;</span> <span class="nb">Invoke-WebRequest</span> <span class="s2">&#34;https://gu-st.ru/content/Other/doc/</span><span class="nv">${CERT_SUB}</span><span class="s2">&#34;</span> <span class="n">-OutFile</span> <span class="s2">&#34;</span><span class="nv">${DIR}</span><span class="s2">\</span><span class="nv">${CERT_SUB}</span><span class="s2">&#34;</span><span class="p">;</span> <span class="nb">Import-Certificate</span> <span class="n">-FilePath</span> <span class="s2">&#34;</span><span class="nv">${DIR}</span><span class="s2">\</span><span class="nv">${CERT_SUB}</span><span class="s2">&#34;</span> <span class="n">-CertStoreLocation</span> <span class="s1">&#39;Cert:\CurrentUser\CA&#39;</span><span class="p">;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-fe8c8394c47fa11679914c91a023f363"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>



<h2 id="linux">
    Linux
  <sup><a class="text-body-secondary small" href="#linux"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Для Linux можно воспользоваться пакетом сертификатов в формате <code>.PEM</code> от <strong>MacOS</strong>. Положительным моментом подобного пакета является то, что PEM содержит в себе сразу два сертификата: корневой и выпускающий.</p>

<h3 id="установка-корневого-и-выпускающего-сертификатов">
    Установка корневого и выпускающего сертификатов
  <sup><a class="text-body-secondary small" href="#%d1%83%d1%81%d1%82%d0%b0%d0%bd%d0%be%d0%b2%d0%ba%d0%b0-%d0%ba%d0%be%d1%80%d0%bd%d0%b5%d0%b2%d0%be%d0%b3%d0%be-%d0%b8-%d0%b2%d1%8b%d0%bf%d1%83%d1%81%d0%ba%d0%b0%d1%8e%d1%89%d0%b5%d0%b3%d0%be-%d1%81%d0%b5%d1%80%d1%82%d0%b8%d1%84%d0%b8%d0%ba%d0%b0%d1%82%d0%be%d0%b2"><i class="fas fa-link fa-fw"></i></a></sup>
</h3><ul>
<li>






    
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


<a title="" href="https://gu-st.ru/content/Other/doc/russiantrustedca.pem" target="_blank" rel="noopener noreferrer nofollow">Скачать</a> файл с корневым и выпускающим сертификатами.</li>
<li>Добавить скаченный файл <code>russiantrustedca.pem</code> в хранилище доверенных сертификатов в зависимости от дистрибутива Linux.
<ul>
<li>DEB-based: <code>/usr/local/share/ca-certificates/</code>.</li>
<li>RHEL-based: <code>/etc/pki/ca-trust/source/anchors/</code>.</li>
<li>Arch Linux: <code>/etc/ca-certificates/trust-source/anchors/</code>.</li>
</ul>
</li>
<li>Обновить хранилище сертификатов следующими командами.
<ul>
<li>DEB-based: <code>update-ca-certificates --fresh</code>.</li>
<li>RHEL-based: <code>update-ca-trust force-enable</code> и <code>update-ca-trust extract</code>.</li>
</ul>
</li>
</ul>

<h3 id="bash">
    Bash
  <sup><a class="text-body-secondary small" href="#bash"><i class="fas fa-link fa-fw"></i></a></sup>
</h3><p>Установить сертификат можно одной командой. Команды вводится от пользователя <code>root</code>. Как выше приводилось, для DEB-based и RHEL-based дистрибутивов, пути хранилища сертификатов различаются. Поэтому, я привожу две команды под каждые версии дистрибутивов.</p>

<h4 id="deb-based-дистрибутивы">
    DEB-based дистрибутивы
  <sup><a class="text-body-secondary small" href="#deb-based-%d0%b4%d0%b8%d1%81%d1%82%d1%80%d0%b8%d0%b1%d1%83%d1%82%d0%b8%d0%b2%d1%8b"><i class="fas fa-link fa-fw"></i></a></sup>
</h4>







  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-98e3dd2725934eb6fc1abb973167ff91">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-c2080289dbeb329531bca02c4a8d7ca1"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="nv">CERT</span><span class="o">=</span><span class="s1">&#39;russiantrustedca.pem&#39;</span><span class="p">;</span> curl -o <span class="s2">&#34;/usr/local/share/ca-certificates/</span><span class="si">${</span><span class="nv">CERT</span><span class="si">}</span><span class="s2">&#34;</span> <span class="s2">&#34;https://gu-st.ru/content/Other/doc/</span><span class="si">${</span><span class="nv">CERT</span><span class="si">}</span><span class="s2">&#34;</span> <span class="o">&amp;&amp;</span> update-ca-certificates --fresh<span class="p">;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-c2080289dbeb329531bca02c4a8d7ca1"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>



<h4 id="rhel-based-дистрибутивы">
    RHEL-based дистрибутивы
  <sup><a class="text-body-secondary small" href="#rhel-based-%d0%b4%d0%b8%d1%81%d1%82%d1%80%d0%b8%d0%b1%d1%83%d1%82%d0%b8%d0%b2%d1%8b"><i class="fas fa-link fa-fw"></i></a></sup>
</h4>







  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-da4f9b2e7530fa20c8f7ef39a7d48eeb">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-5f60aff0bda055093c2d8cba67dd44a1"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="nv">CERT</span><span class="o">=</span><span class="s1">&#39;russiantrustedca.pem&#39;</span><span class="p">;</span> curl -o <span class="s2">&#34;/etc/pki/ca-trust/source/anchors/</span><span class="si">${</span><span class="nv">CERT</span><span class="si">}</span><span class="s2">&#34;</span> <span class="s2">&#34;https://gu-st.ru/content/Other/doc/</span><span class="si">${</span><span class="nv">CERT</span><span class="si">}</span><span class="s2">&#34;</span> <span class="o">&amp;&amp;</span> update-ca-trust force-enable <span class="o">&amp;&amp;</span> update-ca-trust extract<span class="p">;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-5f60aff0bda055093c2d8cba67dd44a1"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>]]></content:encoded><pubDate>Fri, 06 Oct 2023 11:42:15 +0000</pubDate><category>Linux</category><category>MS Windows</category><category>Security</category></item><item><title>Получение и установка MS Office 2021 LTSC</title><link>https://lib.onl/ru/posts/2023/09/dd5a3e1a-596b-50d5-b070-b2a065f99f32/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2023/09/dd5a3e1a-596b-50d5-b070-b2a065f99f32/</guid><description>MS Office является самым популярным набором приложений для офисной работы. На момент написания этой статьи, актуальной версией MS Office является 2021. Её можно купить в магазине. Но здесь я расскажу как получить актуальную версию MS Office 2021 LTSC с серверов Microsoft.</description><content:encoded><![CDATA[<p>MS Office является самым популярным набором приложений для офисной работы. На момент написания этой статьи, актуальной версией MS Office является 2021. Её можно купить в магазине. Но здесь я расскажу как получить актуальную версию MS Office 2021 LTSC с серверов Microsoft.</p>
<p>MS Office 2021 LTSC просто так не купить, это программное обеспечение распространяется для организаций по соглашению о корпоративном лицензировании. MS Office 2021 LTSC поддерживает устройства только с операционными системами <strong>MS Windows 10</strong> или <strong>MS Windows 11</strong>.</p>

<h2 id="получение-ms-office-2021-ltsc">
    Получение MS Office 2021 LTSC
  <sup><a class="text-body-secondary small" href="#%d0%bf%d0%be%d0%bb%d1%83%d1%87%d0%b5%d0%bd%d0%b8%d0%b5-ms-office-2021-ltsc"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Для получения установочного дистрибутива необходимо выполнить подготовительные шаги:</p>
<ol>
<li>Скачать и запустить 






    
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


<a title="" href="https://www.microsoft.com/download/details.aspx?id=49117" target="_blank" rel="noopener noreferrer nofollow">Office Deployment Tool</a>.</li>
<li>Во время установки, выбрать директорию для распаковки <strong>Office Deployment Tool</strong>. В эту директорию будет в дальнейшем загружен установочный дистрибутив MS Office 2021 LTSC.</li>
<li>После завершения процесса установки, открыть консоль и перейти в директорию (<code>cd &lt;path&gt;</code>), куда был установлен Office Deployment Tool.</li>
<li>В корне директории Office Deployment Tool создать файл <code>office.2021.xml</code> следующего содержания:</li>
</ol>








  <div class="card mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-xml" id="codeblock-a7210778eb7e229297e0250f763e280a">
    <div class="card-header">
      <div class="d-flex align-items-center">
        <div class="flex-shrink-0">
          <i class="fas fa-file-code fa-fw"></i>
        </div>
        <div class="flex-grow-1 mx-2">
            
            <code>office.2021.xml</code>
        </div>
        <div class="flex-shrink-0">
          <ul class="list-inline mb-0">
            <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
              <a class="text-body" href="#"
                 data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-fd87e9fb075f7c527287b505bb80fe09"
                 role="button">
                <i class="fas fa-copy fa-fw"></i>
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="card-body" id="clipboard-fd87e9fb075f7c527287b505bb80fe09"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;Configuration</span> <span class="na">ID=</span><span class="s">&#34;42865718-c416-4c72-990b-20b6972cb9af&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;Add</span> <span class="na">OfficeClientEdition=</span><span class="s">&#34;64&#34;</span> <span class="na">Channel=</span><span class="s">&#34;PerpetualVL2021&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;Product</span> <span class="na">ID=</span><span class="s">&#34;ProPlus2021Volume&#34;</span> <span class="na">PIDKEY=</span><span class="s">&#34;FXYTK-NJJ8C-GB6DW-3DYQT-6F7TH&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;Language</span> <span class="na">ID=</span><span class="s">&#34;en-us&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;Language</span> <span class="na">ID=</span><span class="s">&#34;ru-ru&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/Product&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;Product</span> <span class="na">ID=</span><span class="s">&#34;VisioPro2021Volume&#34;</span> <span class="na">PIDKEY=</span><span class="s">&#34;KNH8D-FGHT4-T8RK3-CTDYJ-K2HT4&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;Language</span> <span class="na">ID=</span><span class="s">&#34;en-us&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;Language</span> <span class="na">ID=</span><span class="s">&#34;ru-ru&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/Product&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;Product</span> <span class="na">ID=</span><span class="s">&#34;ProjectPro2021Volume&#34;</span> <span class="na">PIDKEY=</span><span class="s">&#34;FTNWT-C6WBT-8HMGF-K9PRX-QV9H8&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;Language</span> <span class="na">ID=</span><span class="s">&#34;en-us&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;Language</span> <span class="na">ID=</span><span class="s">&#34;ru-ru&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/Product&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;Product</span> <span class="na">ID=</span><span class="s">&#34;LanguagePack&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;Language</span> <span class="na">ID=</span><span class="s">&#34;en-us&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;Language</span> <span class="na">ID=</span><span class="s">&#34;ru-ru&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/Product&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;Product</span> <span class="na">ID=</span><span class="s">&#34;ProofingTools&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;Language</span> <span class="na">ID=</span><span class="s">&#34;en-us&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;Language</span> <span class="na">ID=</span><span class="s">&#34;ru-ru&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/Product&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;/Add&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;Property</span> <span class="na">Name=</span><span class="s">&#34;SharedComputerLicensing&#34;</span> <span class="na">Value=</span><span class="s">&#34;0&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;Property</span> <span class="na">Name=</span><span class="s">&#34;FORCEAPPSHUTDOWN&#34;</span> <span class="na">Value=</span><span class="s">&#34;FALSE&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;Property</span> <span class="na">Name=</span><span class="s">&#34;DeviceBasedLicensing&#34;</span> <span class="na">Value=</span><span class="s">&#34;0&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;Property</span> <span class="na">Name=</span><span class="s">&#34;SCLCacheOverride&#34;</span> <span class="na">Value=</span><span class="s">&#34;0&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;Property</span> <span class="na">Name=</span><span class="s">&#34;AUTOACTIVATE&#34;</span> <span class="na">Value=</span><span class="s">&#34;1&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;Updates</span> <span class="na">Enabled=</span><span class="s">&#34;TRUE&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;RemoveMSI</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/Configuration&gt;</span></span></span></code></pre></div></div>
  </div>


<p>Далее, в консоли выполните команду <code>setup.exe /download office.2021.xml</code>. Команда запускает формирование и скачивание установочного дистрибутива MS Office 2021 LTCS с серверов Microsoft. Команда может не отображать процесс своей работы. После завершения команды, консоль вернёт управление пользователю, тем самым можно контролировать завершение получения установочного дистрибутива.</p>

<h2 id="установка-полной-версии-ms-office-2021-ltsc">
    Установка полной версии MS Office 2021 LTSC
  <sup><a class="text-body-secondary small" href="#%d1%83%d1%81%d1%82%d0%b0%d0%bd%d0%be%d0%b2%d0%ba%d0%b0-%d0%bf%d0%be%d0%bb%d0%bd%d0%be%d0%b9-%d0%b2%d0%b5%d1%80%d1%81%d0%b8%d0%b8-ms-office-2021-ltsc"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>После получения установочного дистрибутива MS Office 2021 LTCS, в той же консоли необходимо выполнить команду <code>setup.exe /configure office.2021.xml</code>. Эта команда запускает процесс установки <strong>полной версии</strong> MS Office 2021 LTCS на компьютер пользователя со всеми дополнительными модулями.</p>

<h2 id="установка-минимальной-версии-ms-office-2021-ltsc">
    Установка минимальной версии MS Office 2021 LTSC
  <sup><a class="text-body-secondary small" href="#%d1%83%d1%81%d1%82%d0%b0%d0%bd%d0%be%d0%b2%d0%ba%d0%b0-%d0%bc%d0%b8%d0%bd%d0%b8%d0%bc%d0%b0%d0%bb%d1%8c%d0%bd%d0%be%d0%b9-%d0%b2%d0%b5%d1%80%d1%81%d0%b8%d0%b8-ms-office-2021-ltsc"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Для администраторов, которые хотят установить на компьютер пользователя только самые необходимые компоненты (Access, Excel, Outlook, PowerPoint и World), предлагаю следующий конфигурационный файл:</p>








  <div class="card mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-xml" id="codeblock-0e52aaf8faa0c0b0829676f40ab3af7d">
    <div class="card-header">
      <div class="d-flex align-items-center">
        <div class="flex-shrink-0">
          <i class="fas fa-file-code fa-fw"></i>
        </div>
        <div class="flex-grow-1 mx-2">
            
            <code>office.2021.minimal.xml</code>
        </div>
        <div class="flex-shrink-0">
          <ul class="list-inline mb-0">
            <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
              <a class="text-body" href="#"
                 data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-5ffe55826112869e18afc8667c088ddb"
                 role="button">
                <i class="fas fa-copy fa-fw"></i>
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="card-body" id="clipboard-5ffe55826112869e18afc8667c088ddb"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;Configuration</span> <span class="na">ID=</span><span class="s">&#34;42865718-c416-4c72-990b-20b6972cb9af&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;Add</span> <span class="na">OfficeClientEdition=</span><span class="s">&#34;64&#34;</span> <span class="na">Channel=</span><span class="s">&#34;PerpetualVL2021&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;Product</span> <span class="na">ID=</span><span class="s">&#34;ProPlus2021Volume&#34;</span> <span class="na">PIDKEY=</span><span class="s">&#34;FXYTK-NJJ8C-GB6DW-3DYQT-6F7TH&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;Language</span> <span class="na">ID=</span><span class="s">&#34;en-us&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;Language</span> <span class="na">ID=</span><span class="s">&#34;ru-ru&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;ExcludeApp</span> <span class="na">ID=</span><span class="s">&#34;Lync&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;ExcludeApp</span> <span class="na">ID=</span><span class="s">&#34;OneDrive&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;ExcludeApp</span> <span class="na">ID=</span><span class="s">&#34;OneNote&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;ExcludeApp</span> <span class="na">ID=</span><span class="s">&#34;Publisher&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;ExcludeApp</span> <span class="na">ID=</span><span class="s">&#34;Teams&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/Product&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;Product</span> <span class="na">ID=</span><span class="s">&#34;LanguagePack&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;Language</span> <span class="na">ID=</span><span class="s">&#34;en-us&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;Language</span> <span class="na">ID=</span><span class="s">&#34;ru-ru&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/Product&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;Product</span> <span class="na">ID=</span><span class="s">&#34;ProofingTools&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;Language</span> <span class="na">ID=</span><span class="s">&#34;en-us&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;Language</span> <span class="na">ID=</span><span class="s">&#34;ru-ru&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/Product&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;/Add&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;Property</span> <span class="na">Name=</span><span class="s">&#34;SharedComputerLicensing&#34;</span> <span class="na">Value=</span><span class="s">&#34;0&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;Property</span> <span class="na">Name=</span><span class="s">&#34;FORCEAPPSHUTDOWN&#34;</span> <span class="na">Value=</span><span class="s">&#34;FALSE&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;Property</span> <span class="na">Name=</span><span class="s">&#34;DeviceBasedLicensing&#34;</span> <span class="na">Value=</span><span class="s">&#34;0&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;Property</span> <span class="na">Name=</span><span class="s">&#34;SCLCacheOverride&#34;</span> <span class="na">Value=</span><span class="s">&#34;0&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;Property</span> <span class="na">Name=</span><span class="s">&#34;AUTOACTIVATE&#34;</span> <span class="na">Value=</span><span class="s">&#34;1&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;Updates</span> <span class="na">Enabled=</span><span class="s">&#34;TRUE&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;RemoveMSI</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/Configuration&gt;</span></span></span></code></pre></div></div>
  </div>


<p>Сохраните его под названием <code>office.2021.minimal.xml</code> и запустите процесс установки при помощи команды <code>setup.exe /configure office.2021.minimal.xml</code>.</p>

<h2 id="создание-собственных-конфигураций">
    Создание собственных конфигураций
  <sup><a class="text-body-secondary small" href="#%d1%81%d0%be%d0%b7%d0%b4%d0%b0%d0%bd%d0%b8%d0%b5-%d1%81%d0%be%d0%b1%d1%81%d1%82%d0%b2%d0%b5%d0%bd%d0%bd%d1%8b%d1%85-%d0%ba%d0%be%d0%bd%d1%84%d0%b8%d0%b3%d1%83%d1%80%d0%b0%d1%86%d0%b8%d0%b9"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Приведённые выше XML-файлы это файлы конфигураций. Их можно создавать самому при помощи веб-инструмента 






    
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


<a title="" href="https://config.office.com/deploymentsettings" target="_blank" rel="noopener noreferrer nofollow">Office Deployment Center</a>. На странице создания конфигураций укажите необходимые параметры и настройки, и нажмите кнопку <span class="shortcode shortcode-key"><kbd>Импорт</kbd></span>.</p>
<p>Полученный XML-файл можно указывать в командах <code>setup.exe /download &lt;XML_FILE&gt;</code> и <code>setup.exe /configure &lt;XML_FILE&gt;</code> для конфигурирования установочного дистрибутива.</p>

<h2 id="активация-при-помощи-kms-сервера">
    Активация при помощи KMS-сервера
  <sup><a class="text-body-secondary small" href="#%d0%b0%d0%ba%d1%82%d0%b8%d0%b2%d0%b0%d1%86%d0%b8%d1%8f-%d0%bf%d1%80%d0%b8-%d0%bf%d0%be%d0%bc%d0%be%d1%89%d0%b8-kms-%d1%81%d0%b5%d1%80%d0%b2%d0%b5%d1%80%d0%b0"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Если в сети вашей организации присутствует KMS-сервер, установленный MS Office 2021 можно активировать при помощи этого сервера.</p>







<div class="shortcode shortcode-alert">
  <div class="alert alert-success d-flex" role="alert">
    <div class="flex-shrink-0 align-self-center">
      <i class="fas fa-lightbulb fa-fw fa-2x"></i>
    </div>
    <div class="flex-grow-1 ms-3">
        <p>Подобным способом активируются следующие версии MS Office:</p>
<ul>
<li>Microsoft Office 2016 Volume License Pack.</li>
<li>Microsoft Office 2019 Volume License Pack.</li>
<li>Microsoft Office LTSC 2021 Volume License Pack.</li>
</ul>

    </div>
  </div>
</div>

<p>Для активации MS Office при помощи KMS-сервера, необходимо открыть консоль и перейти в директорию с файлом <code>ospp.vbs</code>. Обычно, этот файл находится в директории <code>\Program Files\Microsoft Office\Office16</code>. После того, как консоль будет находится в необходимой директории с файлом <code>ospp.vbs</code>, можно выполнять следующие команды в зависимости от задачи.</p>
<ol>
<li>Указать адрес KMS-сервера для клиента MS Office:</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-text" id="codeblock-5bbcf6c707ccbf73947fee08437c9bbb">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-adffd44cb05bd2fac1c066d1278fed14"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">cscript ospp.vbs /sethst:kms.example.com</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-adffd44cb05bd2fac1c066d1278fed14"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="2">
<li>Указать нестандартный порт (<code>1689</code>) KMS-сервера:</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-text" id="codeblock-a140c5f8c48136295722aa17ad94b7ea">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-f7935558884a45d9528448db3fa1ff63"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">cscript ospp.vbs /setprt:1689</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-f7935558884a45d9528448db3fa1ff63"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="3">
<li>Выполнить активацию MS Office на KMS-сервере:</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-text" id="codeblock-7040a984691db4eeff63c1ebf11ee478">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-9e93ee61bd93375e3e90680e576e98eb"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">cscript ospp.vbs /act</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-9e93ee61bd93375e3e90680e576e98eb"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="4">
<li>Узнать текущий статус активации MS Office:</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-text" id="codeblock-90f08051e62048cc64be5de8850cf454">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-fc04850fc790e8550557f29b6edb5e6e"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">cscript ospp.vbs /dstatusall</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-fc04850fc790e8550557f29b6edb5e6e"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<p>В интернете можно найти открытые KMS-серверы для нелегальной активации MS Office. Но подобные действия имеют противоправный характер. 😜</p>]]></content:encoded><pubDate>Tue, 26 Sep 2023 17:17:18 +0000</pubDate><category>Office</category></item><item><title>Включение DNS over TLS (DoT) в OPNsense</title><link>https://lib.onl/ru/posts/2022/08/badb30a9-0471-5dab-a422-85422c0ac611/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2022/08/badb30a9-0471-5dab-a422-85422c0ac611/</guid><description>Почитав несколько статей на тему DoT, я решил написать небольшую заметку по настройки OPNsense на использование этого протокола.</description><content:encoded><![CDATA[<p>Почитав несколько статей на тему DoT, я решил написать небольшую заметку по настройки OPNsense на использование этого протокола.</p>
<p><strong>DNS поверх TLS</strong> или <strong>DoT</strong> это протокол, при помощи которого происходит шифрование запросов и ответов к DNS через TLS. Таким образом, повышается конфиденциальность и безопасность пользователей в интернете.</p>
<p>Не все публичные сервера поддерживают DoT. Список наиболее предпочтительных, по моему мнению, я приведу в таблице в конце статьи. А теперь, по пунктам, я расскажу как правильно настроить OPNsense, чтобы она задействовала протокол DoT в своей работе. Для этого нужно выполнить всего несколько шагов&hellip;</p>

<h2 id="настройка-opnsense">
    Настройка OPNsense
  <sup><a class="text-body-secondary small" href="#%d0%bd%d0%b0%d1%81%d1%82%d1%80%d0%be%d0%b9%d0%ba%d0%b0-opnsense"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><ul>
<li>System / Settings / General
<ul>
<li>Отключить параметр <strong>Do not use the local DNS service as a nameserver for this system</strong>.</li>
</ul>
</li>
<li>Services / DHCPv4 / [LAN]
<ul>
<li>Удалить все записи о DNS, если они имеются.</li>
</ul>
</li>
<li>Services / Unbound DNS / General
<ul>
<li>Включить сервис, поставив галочку напротив <strong>Enable</strong>.</li>
<li>Выбрать в параметре <strong>Network Interfaces</strong> пункт локальной сети, в данном случае, <em>LAN</em>.</li>
<li>Включить <strong>DNSSEC</strong>, поставив галочку напротив парамера <strong>Enable DNSSEC Support</strong>.</li>
<li>Остальные параметры можно выключить.</li>
</ul>
</li>
<li>Services / Unbound DNS / DNS over TLS
<ul>
<li>Добавить публичные сервера DNS из списка ниже.</li>
</ul>
</li>
</ul>

<h2 id="публичные-сервера-dns">
    Публичные сервера DNS
  <sup><a class="text-body-secondary small" href="#%d0%bf%d1%83%d0%b1%d0%bb%d0%b8%d1%87%d0%bd%d1%8b%d0%b5-%d1%81%d0%b5%d1%80%d0%b2%d0%b5%d1%80%d0%b0-dns"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Ниже я привожу список публичных серверов DNS, которые поддерживают функцию DNS over TLS (DoT).</p>

<h3 id="cloudflare">
    Cloudflare
  <sup><a class="text-body-secondary small" href="#cloudflare"><i class="fas fa-link fa-fw"></i></a></sup>
</h3>




<table class='table table-striped table-bordered table-responsive w-50'>
<thead>
<tr>
<th>Server IP</th>
<th>Server Port</th>
<th>Verify CN</th>
</tr>
</thead>
<tbody>
<tr>
<td>1.1.1.1</td>
<td>853</td>
<td>cloudflare-dns.com</td>
</tr>
<tr>
<td>1.0.0.1</td>
<td>853</td>
<td>cloudflare-dns.com</td>
</tr>
<tr>
<td>2606:4700:4700::1111</td>
<td>853</td>
<td>cloudflare-dns.com</td>
</tr>
<tr>
<td>2606:4700:4700::1001</td>
<td>853</td>
<td>cloudflare-dns.com</td>
</tr>
</tbody>
</table>



<h3 id="google">
    Google
  <sup><a class="text-body-secondary small" href="#google"><i class="fas fa-link fa-fw"></i></a></sup>
</h3>




<table class='table table-striped table-bordered table-responsive w-50'>
<thead>
<tr>
<th>Server IP</th>
<th>Server Port</th>
<th>Verify CN</th>
</tr>
</thead>
<tbody>
<tr>
<td>8.8.8.8</td>
<td>853</td>
<td>dns.google</td>
</tr>
<tr>
<td>8.8.4.4</td>
<td>853</td>
<td>dns.google</td>
</tr>
<tr>
<td>2001:4860:4860::8888</td>
<td>853</td>
<td>dns.google</td>
</tr>
<tr>
<td>2001:4860:4860::8844</td>
<td>853</td>
<td>dns.google</td>
</tr>
</tbody>
</table>



<h3 id="quad9">
    Quad9
  <sup><a class="text-body-secondary small" href="#quad9"><i class="fas fa-link fa-fw"></i></a></sup>
</h3>




<table class='table table-striped table-bordered table-responsive w-50'>
<thead>
<tr>
<th>Server IP</th>
<th>Server Port</th>
<th>Verify CN</th>
</tr>
</thead>
<tbody>
<tr>
<td>9.9.9.9</td>
<td>853</td>
<td>dns.quad9.net</td>
</tr>
<tr>
<td>149.112.112.112</td>
<td>853</td>
<td>dns.quad9.net</td>
</tr>
<tr>
<td>2620:fe::fe</td>
<td>853</td>
<td>dns.quad9.net</td>
</tr>
<tr>
<td>2620:fe::9</td>
<td>853</td>
<td>dns.quad9.net</td>
</tr>
</tbody>
</table>



<h3 id="cisco-umbrella">
    Cisco Umbrella
  <sup><a class="text-body-secondary small" href="#cisco-umbrella"><i class="fas fa-link fa-fw"></i></a></sup>
</h3>




<table class='table table-striped table-bordered table-responsive w-50'>
<thead>
<tr>
<th>Server IP</th>
<th>Server Port</th>
<th>Verify CN</th>
</tr>
</thead>
<tbody>
<tr>
<td>208.67.222.222</td>
<td>853</td>
<td>dns.opendns.com</td>
</tr>
<tr>
<td>208.67.220.220</td>
<td>853</td>
<td>dns.opendns.com</td>
</tr>
<tr>
<td>2620:119:35::35</td>
<td>853</td>
<td>dns.opendns.com</td>
</tr>
<tr>
<td>2620:119:53::53</td>
<td>853</td>
<td>dns.opendns.com</td>
</tr>
</tbody>
</table>



<h3 id="cleanbrowsing">
    CleanBrowsing
  <sup><a class="text-body-secondary small" href="#cleanbrowsing"><i class="fas fa-link fa-fw"></i></a></sup>
</h3>




<table class='table table-striped table-bordered table-responsive w-50'>
<thead>
<tr>
<th>Server IP</th>
<th>Server Port</th>
<th>Verify CN</th>
</tr>
</thead>
<tbody>
<tr>
<td>185.228.168.9</td>
<td>853</td>
<td>security-filter-dns.cleanbrowsing.org</td>
</tr>
<tr>
<td>185.228.169.9</td>
<td>853</td>
<td>security-filter-dns.cleanbrowsing.org</td>
</tr>
<tr>
<td>2a0d:2a00:1::2</td>
<td>853</td>
<td>security-filter-dns.cleanbrowsing.org</td>
</tr>
<tr>
<td>2a0d:2a00:2::2</td>
<td>853</td>
<td>security-filter-dns.cleanbrowsing.org</td>
</tr>
</tbody>
</table>



<h3 id="adguard-dns">
    AdGuard DNS
  <sup><a class="text-body-secondary small" href="#adguard-dns"><i class="fas fa-link fa-fw"></i></a></sup>
</h3>




<table class='table table-striped table-bordered table-responsive w-50'>
<thead>
<tr>
<th>Server IP</th>
<th>Server Port</th>
<th>Verify CN</th>
</tr>
</thead>
<tbody>
<tr>
<td>94.140.14.14</td>
<td>853</td>
<td>dns.adguard-dns.com</td>
</tr>
<tr>
<td>94.140.15.15</td>
<td>853</td>
<td>dns.adguard-dns.com</td>
</tr>
<tr>
<td>2a10:50c0::ad1:ff</td>
<td>853</td>
<td>dns.adguard-dns.com</td>
</tr>
<tr>
<td>2a10:50c0::ad2:ff</td>
<td>853</td>
<td>dns.adguard-dns.com</td>
</tr>
</tbody>
</table>]]></content:encoded><pubDate>Sun, 14 Aug 2022 18:16:34 +0000</pubDate><category>Сеть</category></item><item><title>Windows Server 2022 для рабочей станции</title><link>https://lib.onl/ru/posts/2022/05/36058650-3f35-5ed5-9565-0aa7d8800c28/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2022/05/36058650-3f35-5ed5-9565-0aa7d8800c28/</guid><description>В этой небольшой заметке я расскажу, как перенастроить серверную версию ОС Windows для работы на обычном стационарном ПК.</description><content:encoded><![CDATA[<p>В этой небольшой заметке я расскажу, как перенастроить серверную версию ОС Windows для работы на обычном стационарном ПК.</p>
<h2 id="настройка-служб">
    Настройка служб
  <sup><a class="text-body-secondary small" href="#%d0%bd%d0%b0%d1%81%d1%82%d1%80%d0%be%d0%b9%d0%ba%d0%b0-%d1%81%d0%bb%d1%83%d0%b6%d0%b1"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>На сервере нет необходимости использовать поисковые механизмы и вывод звука, поэтому они отключены. Но на рабочей станции эти параметры необходимы. Для включения звука и поискового механизма, необходимо настроить запуск соответствующих служб.</p>
<ul>
<li>Services
<ul>
<li>Windows Audio
<ul>
<li>Startup type
<ul>
<li>Automatic</li>
</ul>
</li>
</ul>
</li>
<li>Windows Audio Endpoint
<ul>
<li>Startup type
<ul>
<li>Automatic</li>
</ul>
</li>
</ul>
</li>
<li>Windows Search
<ul>
<li>Startup type
<ul>
<li>Automatic (Delayed Start)</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

<h2 id="отключение-shutdown-event-tracker">
    Отключение Shutdown Event Tracker
  <sup><a class="text-body-secondary small" href="#%d0%be%d1%82%d0%ba%d0%bb%d1%8e%d1%87%d0%b5%d0%bd%d0%b8%d0%b5-shutdown-event-tracker"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Сервер должен работать бесперебойно. Любое отключение сервера, по хорошему, должно записываться в специальный журнал. Но так как у нас рабочая станция, записывать каждые перезагрузку или выключение нет необходимости. Включаем службы.</p>
<ul>
<li>Local Group Policy
<ul>
<li>Computer Configuration / Administrative Templates / System
<ul>
<li>Display Shutdown Event Tracker
<ul>
<li>Disabled</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

<h2 id="отключение-строгой-системы-безопасности-ie">
    Отключение строгой системы безопасности IE
  <sup><a class="text-body-secondary small" href="#%d0%be%d1%82%d0%ba%d0%bb%d1%8e%d1%87%d0%b5%d0%bd%d0%b8%d0%b5-%d1%81%d1%82%d1%80%d0%be%d0%b3%d0%be%d0%b9-%d1%81%d0%b8%d1%81%d1%82%d0%b5%d0%bc%d1%8b-%d0%b1%d0%b5%d0%b7%d0%be%d0%bf%d0%b0%d1%81%d0%bd%d0%be%d1%81%d1%82%d0%b8-ie"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Сервер использует строгие параметры системы безопасности IE. Но на рабочей станции в этих параметрах нет необходимости и они будут только мешать. Отключаем их.</p>
<ul>
<li>Server Manager / Local Server
<ul>
<li>IE Enhanced Security Configuration
<ul>
<li>Off</li>
</ul>
</li>
</ul>
</li>
</ul>

<h2 id="оптимизация-производительности-для-приложений">
    Оптимизация производительности для приложений
  <sup><a class="text-body-secondary small" href="#%d0%be%d0%bf%d1%82%d0%b8%d0%bc%d0%b8%d0%b7%d0%b0%d1%86%d0%b8%d1%8f-%d0%bf%d1%80%d0%be%d0%b8%d0%b7%d0%b2%d0%be%d0%b4%d0%b8%d1%82%d0%b5%d0%bb%d1%8c%d0%bd%d0%be%d1%81%d1%82%d0%b8-%d0%b4%d0%bb%d1%8f-%d0%bf%d1%80%d0%b8%d0%bb%d0%be%d0%b6%d0%b5%d0%bd%d0%b8%d0%b9"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>По умолчанию, на сервере оптимизация включена для фоновых служб. На рабочей станции необходима оптимизация для программ. Включаем оптимизацию для программ.</p>
<ul>
<li>System / Advanced System Settings / Advanced / Performance / Advanced
<ul>
<li>Adjust for best performance of
<ul>
<li>Programs</li>
</ul>
</li>
</ul>
</li>
</ul>

<h2 id="отключение-dep">
    Отключение DEP
  <sup><a class="text-body-secondary small" href="#%d0%be%d1%82%d0%ba%d0%bb%d1%8e%d1%87%d0%b5%d0%bd%d0%b8%d0%b5-dep"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>По умолчанию, 






    
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


<a title="" href="https://docs.microsoft.com/en-us/windows/win32/memory/data-execution-prevention" target="_blank" rel="noopener noreferrer nofollow">Data Execution Prevention (DEP)</a> включена абсолютно для всех программ и сервисов. Такая излишняя защита на рабочей станции не нужна. Поэтому, переключаем выполнение DEP только для программ и сервисов самой ОС Windows.</p>
<ul>
<li>System / Advanced System Settings / Advanced / Performance / Data Execution Prevention
<ul>
<li>Turn on DEP for essential Windows programs and services only</li>
</ul>
</li>
</ul>

<h2 id="включение-memory-compression-operation-api-и-pagecombining">
    Включение Memory Compression, Operation API и PageCombining
  <sup><a class="text-body-secondary small" href="#%d0%b2%d0%ba%d0%bb%d1%8e%d1%87%d0%b5%d0%bd%d0%b8%d0%b5-memory-compression-operation-api-%d0%b8-pagecombining"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>В ОС Windows для обычных компьютеров включены Memory Compression, Operation API и PageCombining. Поэтому, перенастраиваем серверную версию ОС на такую же конфигурацию. Для этого запускаем PowerShell от имени Администратора и выполняем команду:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-powershell" id="codeblock-e52d07bbeb7614ee7cc5dc3572a81ef1">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-03e71f844928ec75e7f31994834b8184"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-powershell" data-lang="powershell"><span class="line"><span class="cl"><span class="nb">Enable-MMAgent</span> <span class="n">-MemoryCompression</span> <span class="n">-OperationAPI</span> <span class="n">-PageCombining</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-03e71f844928ec75e7f31994834b8184"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>]]></content:encoded><pubDate>Mon, 09 May 2022 11:53:26 +0000</pubDate><category>MS Windows</category></item><item><title>Установка ядра XanMod в Debian</title><link>https://lib.onl/ru/posts/2022/01/06ef2fab-2ae2-5356-9154-7ca1e486d27d/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2022/01/06ef2fab-2ae2-5356-9154-7ca1e486d27d/</guid><description>Приветствую! В этой небольшой заметке приведу команду, при помощи которой можно добавить репозиторий ядра XanMod в Debian.</description><content:encoded><![CDATA[<p>Приветствую! В этой небольшой заметке приведу команду, при помощи которой можно добавить репозиторий ядра <strong>XanMod</strong> в Debian.</p>
<p>Ядро <strong>XanMod</strong> имеет ряд патчей и оптимизаций. Список изменений по сравнению с ванильным ядром, я взял с 






    
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


<a title="" href="https://xanmod.org" target="_blank" rel="noopener noreferrer nofollow">официального сайта</a>:</p>
<ul>
<li>Caching, Virtual Memory Manager and CPUFreq Governor improvements.</li>
<li>Full multi-core block layer runqueue requests for high I/O throughput.</li>
<li>BBRv2 TCP congestion control + FQ-PIE packet scheduling and AQM algorithm.</li>
<li>ORC Unwinder for kernel stack traces (debuginfo) implementation.</li>
<li>High responsiveness multitasking Task Type scheduler (SCHED_NORMAL) build available [5.15-tt].</li>
<li>Real-time Linux kernel (PREEMPT_RT) build available [5.15-rt] [5.10-rt].</li>
<li>Third-party patchset available: patches
<ul>
<li>le9&rsquo;s file mappings under memory pressure protection.</li>
<li>Linux Random Number Generator (LRNG) framework.</li>
<li>TCP performance optimizations backport from linux/net-next [5.16] [5.15].</li>
<li>AMD&rsquo;s P-state driver for Zen2 and Zen3 processors [5.16] [5.15].</li>
<li>Futex waitv and legacy WAIT_MULTIPLE implementation for Wine / Proton Fsync support.</li>
<li>WineSync driver for fast kernel-backed Wine [5.16] [5.15] [as module: winesync].</li>
<li>Google&rsquo;s Multigenerational LRU framework [5.16] [5.15].</li>
<li>Google&rsquo;s BBRv2 TCP congestion control.</li>
<li>Paragon&rsquo;s Software NTFS3 driver [as module: ntfs3].</li>
<li>PCIe ACS Override for bypassing IOMMU groups support.</li>
<li>Graysky&rsquo;s additional CPU optimizations for GCC and Clang.</li>
<li>Clear Linux patchset [partial].</li>
<li>Android Ashmem and Binder IPC driver as module for Anbox.</li>
<li>Updated ZSTD library for bug fixes and r/w performance compression improvements on Btrfs, F2FS, SquashFS, pstore, initramfs and vmlinuz.</li>
</ul>
</li>
<li>Generic packages for compatibility with most Debian &amp; Ubuntu based distributions. Builts on the latest LLVM 12.0.1, GCC 11.2 and Binutils 2.37.</li>
<li>GPLv2 license. Can be built for any distribution or purpose.</li>
</ul>
<p>Стоит заметить, что ядро <strong>XanMod</strong> не единственное, которое интегрирует в себя оптимизации. Есть ещё ядро 






    
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


<a title="" href="https://liquorix.net" target="_blank" rel="noopener noreferrer nofollow"><strong>Liquorix</strong></a>, которое занимается практически тем же самым. Но, посмотрев 






    
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


<a title="" href="https://www.phoronix.com/scan.php?page=article&amp;item=ryzen5-xanmod-liquorix" target="_blank" rel="noopener noreferrer nofollow">обзор и тесты</a> на Phoronix&rsquo;е, я сделал выбор в пользу <strong>XanMod</strong>.</p>
<p>Однострочная команда по добавлению ядра <strong>XanMod</strong> в репозиторий Debian&rsquo;а приведена ниже. Она дробится на следующие под-команды:</p>
<ol>
<li>Добавление файла <code>xanmod-kernel.list</code> в директорию <code>/etc/apt/sources.list.d</code>.</li>
<li>Скачивание файла подписи <code>gpg.key</code> и размещение его в директорию <code>/etc/apt/trusted.gpg.d</code> с названием <code>xanmod-kernel.gpg</code>.</li>
<li>Обновление информации из репозитория при помощи команды <code>apt update</code>.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-ae2710dc88b005a2b5ca5a5a7b96a39f">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-afc2f5234a5f862db5ec17cc6282ff0c"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s1">&#39;deb http://deb.xanmod.org releases main&#39;</span> <span class="p">|</span> tee /etc/apt/sources.list.d/xanmod-kernel.list <span class="o">&amp;&amp;</span> curl -fsSL <span class="s1">&#39;https://dl.xanmod.org/gpg.key&#39;</span> <span class="p">|</span> gpg --dearmor <span class="p">|</span> tee /etc/apt/trusted.gpg.d/xanmod-kernel.gpg &gt; /dev/null <span class="o">&amp;&amp;</span> apt update</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-afc2f5234a5f862db5ec17cc6282ff0c"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<p>После выполнения команды, установка ядра <strong>XanMod</strong> происходит таким образом:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-8d544a680accc9f7702364dffd1cd132">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-b4cc4d09eb4a6901f8f540f15e60705f"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">apt install linux-xanmod</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-b4cc4d09eb4a6901f8f540f15e60705f"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<p>Для установки Mainline-версии ядра команда будет такой:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-595234fce86248c66002c7f81760cb31">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-d6950605022f4f2dfe8438705227beff"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">apt install linux-xanmod-edge</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-d6950605022f4f2dfe8438705227beff"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>



<h2 id="fq-pie">
    FQ-PIE
  <sup><a class="text-body-secondary small" href="#fq-pie"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Для включения планировщика пакетов <strong>FQ-PIE</strong>, необходимо выполнить команду:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-7eb4817d11810a85a461346c994a6735">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-0054d69e28923931d9125ba89fa7d802"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s1">&#39;net.core.default_qdisc = fq_pie&#39;</span> <span class="p">|</span> tee /etc/sysctl.d/90-override.conf</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-0054d69e28923931d9125ba89fa7d802"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<p>Проверка:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-8e76654ee89711985549f28e95dbbd8c">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-91468dde71680e8662f00d97a7faa0d0"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">tc qdisc show</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-91468dde71680e8662f00d97a7faa0d0"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>]]></content:encoded><pubDate>Thu, 13 Jan 2022 22:44:15 +0000</pubDate><category>Linux</category></item><item><title>Установка Vivaldi в Debian</title><link>https://lib.onl/ru/posts/2022/01/ddddd243-d182-5e26-a161-d2ea7812214a/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2022/01/ddddd243-d182-5e26-a161-d2ea7812214a/</guid><description>Привет всем! В этой небольшой заметке я приведу команду, при помощи которой можно добавить репозиторий браузера Vivaldi в Debian.</description><content:encoded><![CDATA[<p>Привет всем! В этой небольшой заметке я приведу команду, при помощи которой можно добавить репозиторий браузера <strong>Vivaldi</strong> в Debian.</p>
<p>Установочный пакет <strong>Vivaldi</strong> уже выполняет указанные действия, но для этого он задействует утилиту <code>apt-key</code>, которая в <strong>Debian 11</strong> имеет статус <code>deprecated</code>.</p>
<p>Однострочная команда по добавлению <strong>Vivaldi</strong> в репозиторий Debian&rsquo;а приведена ниже. Она дробится на следующие под-команды:</p>
<ol>
<li>Добавление файла <code>vivaldi-archive.list</code> в директорию <code>/etc/apt/sources.list.d</code>.</li>
<li>Скачивание файла подписи <code>linux_signing_key.pub</code> и размещение его в директорию <code>/etc/apt/trusted.gpg.d</code> с названием <code>vivaldi-browser.gpg</code>.</li>
<li>Обновление информации из репозитория при помощи команды <code>apt update</code>.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-c55a47842796c3346bd978c3fc4b42f3">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-782e37bb026d1fe6c6f72a037a232cbf"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;deb [signed-by=/etc/apt/trusted.gpg.d/vivaldi-browser.gpg arch=</span><span class="k">$(</span>dpkg --print-architecture<span class="k">)</span><span class="s2">] https://repo.vivaldi.com/archive/deb/ stable main&#34;</span> <span class="p">|</span> tee /etc/apt/sources.list.d/vivaldi-archive.list <span class="o">&amp;&amp;</span> curl -fsSL <span class="s1">&#39;https://repo.vivaldi.com/archive/linux_signing_key.pub&#39;</span> <span class="p">|</span> gpg --dearmor <span class="p">|</span> tee /etc/apt/trusted.gpg.d/vivaldi-browser.gpg &gt; /dev/null <span class="o">&amp;&amp;</span> apt update</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-782e37bb026d1fe6c6f72a037a232cbf"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<p>После выполнения команды, установка <strong>Vivaldi</strong> происходит таким образом:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-a4fa10fb0490b05ced09f655c7fdb8a8">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-50a3f55be373da9e39758f2fa45d922b"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">apt install vivaldi-stable</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-50a3f55be373da9e39758f2fa45d922b"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>]]></content:encoded><pubDate>Thu, 13 Jan 2022 22:44:01 +0000</pubDate><category>Linux</category></item><item><title>Чёрный экран с курсором при старте GDM</title><link>https://lib.onl/ru/posts/2021/09/581804b8-0613-52a8-a5c4-fdae90e7bc8a/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2021/09/581804b8-0613-52a8-a5c4-fdae90e7bc8a/</guid><description>На днях установил Debian 11 на несколько ПК. Всё было отлично, кроме как на одном из ПК почему то GDM не стал загружаться. Чёрный экран с мигающем текстовым курсором&amp;hellip;</description><content:encoded><![CDATA[<p>На днях установил <strong>Debian 11</strong> на несколько ПК. Всё было отлично, кроме как на одном из ПК почему то <strong>GDM</strong> не стал загружаться. Чёрный экран с мигающем текстовым курсором&hellip;</p>
<p>На других ПК всё было нормально. Отличие проблемного ПК от остальных заключалось в том, что на проблемном ПК система была установлена на <strong>SSD</strong>. Может быть дело в этом. В интернете я нашёл похожую проблему. По сути, проблема заключается в том, что сам GDM запускается чуть раньше, чем начинается инициализация графической подсистемы. И на кой чёрт его несёт вперёд&hellip;</p>
<p>В общем, предлагают несколько решений.</p>

<h2 id="настройка-сервиса-gdm">
    Настройка сервиса GDM
  <sup><a class="text-body-secondary small" href="#%d0%bd%d0%b0%d1%81%d1%82%d1%80%d0%be%d0%b9%d0%ba%d0%b0-%d1%81%d0%b5%d1%80%d0%b2%d0%b8%d1%81%d0%b0-gdm"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Данный вариант решения проблемы предлагает отредактировать стартовые параметры сервиса GDM, чтобы тот запускался с небольшой задержкой и не лез вперёд остальной графической подсистемы.</p>
<p>В терминале нужно ввести от root&rsquo;а команду <code>systemctl edit gdm.service</code>, откроется редактор сервиса GDM. В нем необходимо добавить строку <code>ExecStartPre=/bin/sleep 2</code>, которая создаёт задержку перед запуском самого GDM. Примерно вот так:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-ini" id="codeblock-3c992907e6db701e8b65da3fda3c47a9">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-b79cf2e1b5df79406552b8f48aac6223"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ini" data-lang="ini"><span class="line"><span class="cl"><span class="c1">### Anything between here and the comment below will become the new contents of the file</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">[Service]</span>
</span></span><span class="line"><span class="cl"><span class="na">ExecStartPre</span><span class="o">=</span><span class="s">/bin/sleep 2</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">### Lines below this comment will be discarded</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-b79cf2e1b5df79406552b8f48aac6223"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<p>Таким образом GDM начинает запускаться после того, как инициализируется графическая подсистема.</p>
<p>Ещё одно исправление 






    
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


<a title="" href="https://gitlab.gnome.org/GNOME/gdm/-/issues/662#note_993169" target="_blank" rel="noopener noreferrer nofollow">предложили</a> в баг-трекере GNOME/GDM. Вместо торможения загрузки GDM, необходимо добавить следующие строки:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-ini" id="codeblock-d9d748aa53f5ad5d553e8259e68bf11b">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-60c3ce264f3782d298954de97f394669"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ini" data-lang="ini"><span class="line"><span class="cl"><span class="k">[Unit]</span>
</span></span><span class="line"><span class="cl"><span class="na">Wants</span><span class="o">=</span><span class="s">systemd-udev-trigger.service systemd-udev-settle.service</span>
</span></span><span class="line"><span class="cl"><span class="na">After</span><span class="o">=</span><span class="s">systemd-udev-trigger.service systemd-udev-settle.service</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-60c3ce264f3782d298954de97f394669"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<p>Но это не совсем корректное исправление (хотя исправление, изложенное выше, тоже трудно назвать правильным), так как после применения этих строк, появляется ошибка:</p>






<div class="card mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux"
     id="codeblock-abd8565e946682bba02daddc90d91ed3" data-bs-theme="dark">
  <div class="card-header">
    <div class="d-flex align-items-center">
      <div class="flex-shrink-0 ">
        <i class="fas fa-terminal fa-fw"></i>
      </div>
      <div class="flex-grow-1 mx-2">
        <h5 class="mb-0">Терминал</h5>
      </div>
      <div class="flex-shrink-0">
        <ul class="list-inline mb-0">
          <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
            <a class="text-body" href="#"
               data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-a929a7c1d3cabda089ff2ceba98d8654"
               role="button">
              <i class="fas fa-copy fa-fw"></i>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="card-body p-0" id="clipboard-a929a7c1d3cabda089ff2ceba98d8654"><pre tabindex="0"><code class="language-terminal" data-lang="terminal">Dec 27 22:23:48 oleksandr-xps15 udevadm[260]: systemd-udev-settle.service is deprecated. Please fix gdm.service not to pull it in.</code></pre></div>
</div>

<h2 id="указание-порядка-инициализации-графической-подсистемы">
    Указание порядка инициализации графической подсистемы
  <sup><a class="text-body-secondary small" href="#%d1%83%d0%ba%d0%b0%d0%b7%d0%b0%d0%bd%d0%b8%d0%b5-%d0%bf%d0%be%d1%80%d1%8f%d0%b4%d0%ba%d0%b0-%d0%b8%d0%bd%d0%b8%d1%86%d0%b8%d0%b0%d0%bb%d0%b8%d0%b7%d0%b0%d1%86%d0%b8%d0%b8-%d0%b3%d1%80%d0%b0%d1%84%d0%b8%d1%87%d0%b5%d1%81%d0%ba%d0%be%d0%b9-%d0%bf%d0%be%d0%b4%d1%81%d0%b8%d1%81%d1%82%d0%b5%d0%bc%d1%8b"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Этот вариант решения проблемы подходит для <strong>Arch Linux</strong>. Необходимо в файле <code>/etc/mkinitcpio.conf</code> добавить в массив <code>MODULES</code> свою графическую подсистему, чтобы та запускалась раньше, чем GDM. Например:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-text" id="codeblock-deb81b727e03db41654047189dc5ab0d">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-5989c223600acee90ae425c294017cf5"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">MODULES=(amdgpu)</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-5989c223600acee90ae425c294017cf5"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<p>Можно указать другие графические подсистемы, всё зависит от видеокарты, установленной в ПК:</p>
<ul>
<li><code>amdgpu</code> - для современных видеокарт AMD.</li>
<li><code>radeon</code> - для устаревших видеокарт AMD.</li>
<li><code>nouveau</code> - для Nvidia Nouveau.</li>
<li><code>i915</code> - для Intel.</li>
<li><code>mgag200</code> - для видеокарт Matrox.</li>
</ul>
<p>Если в системе используется Intel в качестве графики и в модулях прописан <code>i915</code>, то могут появится ошибки ACPI. Для исправления этих ошибок необходимо добавить <code>intel_agp</code> перед <code>i915</code>. Чтобы проверить корректность загрузки модуля, можно ввести команду <code>lsmod | grep intel_agp</code>.</p>]]></content:encoded><pubDate>Thu, 30 Sep 2021 08:10:19 +0000</pubDate><category>Linux</category></item><item><title>Отключение режима Wayland в GDM</title><link>https://lib.onl/ru/posts/2021/09/0d11ecc0-2714-5c5c-9b48-804f50419590/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2021/09/0d11ecc0-2714-5c5c-9b48-804f50419590/</guid><description>Использовать Wayland мне, пока что, нет необходимости. Поэтому, я решил его отключить в GDM.</description><content:encoded><![CDATA[<p>Использовать <strong>Wayland</strong> мне, пока что, нет необходимости. Поэтому, я решил его отключить в <strong>GDM</strong>.</p>
<p>Для того, чтобы отключить выбор режима Wayland в GDM, необходимо в файле <code>/etc/gdm3/daemon.conf</code> раскомментировать строку:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-ini" id="codeblock-6c6297d5cee48c454dab218857cb7954">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-e534ec51e17e2139f9078ebeb3768178"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ini" data-lang="ini"><span class="line"><span class="cl"><span class="c1"># WaylandEnable=false</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-e534ec51e17e2139f9078ebeb3768178"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<p>Должно получится так:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-ini" id="codeblock-9103634d5a9aedf6a34ec94634e973ca">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-7044ebd3f02bdf1fdeb8449d610cc0b3"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ini" data-lang="ini"><span class="line"><span class="cl"><span class="na">WaylandEnable</span><span class="o">=</span><span class="s">false</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-7044ebd3f02bdf1fdeb8449d610cc0b3"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<p>Таким образом даём понять GDM, что мы не желаем использовать Wayland.</p>]]></content:encoded><pubDate>Thu, 30 Sep 2021 07:51:30 +0000</pubDate><category>Linux</category></item><item><title>Установка Proxmox VE на Debian 11 (Bullseye)</title><link>https://lib.onl/ru/posts/2021/09/1cf305cd-85d0-5e02-aabb-e01346bfee0f/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2021/09/1cf305cd-85d0-5e02-aabb-e01346bfee0f/</guid><description>В этой небольшой заметке, я расскажу как установить Proxmox VE на чистый Debian 11 (Bullseye).</description><content:encoded><![CDATA[<p>В этой небольшой заметке, я расскажу как установить <strong>Proxmox VE</strong> на чистый <strong>Debian 11 (Bullseye)</strong>.</p>
<h2 id="подготовка">
    Подготовка
  <sup><a class="text-body-secondary small" href="#%d0%bf%d0%be%d0%b4%d0%b3%d0%be%d1%82%d0%be%d0%b2%d0%ba%d0%b0"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Для начала необходимо отредактировать файл <code>/etc/hosts</code>, прописав туда IP сервера, на который будет устанавливаться наш Proxmox VE:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-text" id="codeblock-c3cfb34bed01b5fa63d245b5e4e4da51">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-9b7207355cae9ff9d95118335c989633"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">127.0.0.1   localhost
</span></span><span class="line"><span class="cl">127.0.1.1   localhost.localdomain     localhost
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"># Proxmox
</span></span><span class="line"><span class="cl">10.0.1.1    srv-vm.home.local         srv-vm</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-9b7207355cae9ff9d95118335c989633"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<p>Для проверки, можно выполнить команду <code>hostname --ip-address</code>, которая вернёт IP сервера, указанного в <code>/etc/hosts</code> выше.</p>

<h2 id="добавление-репозиториев">
    Добавление репозиториев
  <sup><a class="text-body-secondary small" href="#%d0%b4%d0%be%d0%b1%d0%b0%d0%b2%d0%bb%d0%b5%d0%bd%d0%b8%d0%b5-%d1%80%d0%b5%d0%bf%d0%be%d0%b7%d0%b8%d1%82%d0%be%d1%80%d0%b8%d0%b5%d0%b2"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Добавим репозиторий Proxmox VE:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-939c072bc67bad4c2d9e87c60816dc93">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-889732c23132b750f11ec3d30c30dee5"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;deb [arch=amd64] http://download.proxmox.com/debian/pve bullseye pve-no-subscription&#34;</span> &gt; /etc/apt/sources.list.d/pve.list</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-889732c23132b750f11ec3d30c30dee5"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<p>Скачаем и установим ключ репозитория:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-af725bd787e347d0e45b67416e835a12">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-caa70b3acdf3859a416bb3c1123cd721"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">curl <span class="s1">&#39;https://enterprise.proxmox.com/debian/proxmox-release-bullseye.gpg&#39;</span> -o /etc/apt/trusted.gpg.d/pve.gpg</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-caa70b3acdf3859a416bb3c1123cd721"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<p>Обновим базу пакетов APT и саму систему:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-6d501efc249b87e5c6a912429831c61b">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-115bbc247a3bec88751695e4211dbb25"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">apt update <span class="o">&amp;&amp;</span> apt full-upgrade</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-115bbc247a3bec88751695e4211dbb25"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>



<h2 id="установка-пакетов">
    Установка пакетов
  <sup><a class="text-body-secondary small" href="#%d1%83%d1%81%d1%82%d0%b0%d0%bd%d0%be%d0%b2%d0%ba%d0%b0-%d0%bf%d0%b0%d0%ba%d0%b5%d1%82%d0%be%d0%b2"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Начнём установку пакетов командой:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-59098df47fd32aba09ccf18acc6c24a1">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-0f547ffe51a5be9c473288577ce85e1f"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">apt install proxmox-ve postfix open-iscsi</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-0f547ffe51a5be9c473288577ce85e1f"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<p>Стоит заметить, что устанавливается Postfix, он необходим для отправки писем от Proxmox VE. Но мне в локальной сети такая функция не нужна. При установке, Postfix спросит в каком режиме ему необходимо будет работать. Я выбираю <strong>local only</strong>.</p>

<h2 id="исправление-ошибок">
    Исправление ошибок
  <sup><a class="text-body-secondary small" href="#%d0%b8%d1%81%d0%bf%d1%80%d0%b0%d0%b2%d0%bb%d0%b5%d0%bd%d0%b8%d0%b5-%d0%be%d1%88%d0%b8%d0%b1%d0%be%d0%ba"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>После установки Proxmox VE через пакетны менеджер APT, я столкнулся с некоторыми проблемами. Не знаю, может быть они будут отсутствовать, если устанавливать Proxmox VE при помощи его отдельного ISO-файла&hellip;</p>

<h3 id="lvm2-activation-generator-lvmconfig-failed">
    lvm2-activation-generator: lvmconfig failed
  <sup><a class="text-body-secondary small" href="#lvm2-activation-generator-lvmconfig-failed"><i class="fas fa-link fa-fw"></i></a></sup>
</h3><p>Для исправления ошибки <code>lvm2-activation-generator: lvmconfig failed</code>, необходимо в файле <code>/etc/lvm/lvm.conf</code> изменить параметр <code>event_activation</code>, а именно раскомментировать и установить в <code>0</code>:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-text" id="codeblock-a84856887366d66cba956da5b19f5d54">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-a65f96fafa3aa8a8b06b8a03f3c7f337"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">global {
</span></span><span class="line"><span class="cl">  &lt;...&gt;
</span></span><span class="line"><span class="cl">  # Configuration option global/event_activation.
</span></span><span class="line"><span class="cl">  # Activate LVs based on system-generated device events.
</span></span><span class="line"><span class="cl">  # When a device appears on the system, a system-generated event runs
</span></span><span class="line"><span class="cl">  # the pvscan command to activate LVs if the new PV completes the VG.
</span></span><span class="line"><span class="cl">  # Use auto_activation_volume_list to select which LVs should be
</span></span><span class="line"><span class="cl">  # activated from these events (the default is all.)
</span></span><span class="line"><span class="cl">  # When event_activation is disabled, the system will generally run
</span></span><span class="line"><span class="cl">  # a direct activation command to activate LVs in complete VGs.
</span></span><span class="line"><span class="cl">  # This configuration option has an automatic default value.
</span></span><span class="line"><span class="cl">  # event_activation = 1
</span></span><span class="line"><span class="cl">  &lt;...&gt;
</span></span><span class="line"><span class="cl">}</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-a65f96fafa3aa8a8b06b8a03f3c7f337"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>










  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-text" id="codeblock-659ae7795f39193d407468f955f1c3e4">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-bb06418a8de9c3ddf4c764f163aac5c0"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">global {
</span></span><span class="line"><span class="cl">  &lt;...&gt;
</span></span><span class="line"><span class="cl">  # Configuration option global/event_activation.
</span></span><span class="line"><span class="cl">  # Activate LVs based on system-generated device events.
</span></span><span class="line"><span class="cl">  # When a device appears on the system, a system-generated event runs
</span></span><span class="line"><span class="cl">  # the pvscan command to activate LVs if the new PV completes the VG.
</span></span><span class="line"><span class="cl">  # Use auto_activation_volume_list to select which LVs should be
</span></span><span class="line"><span class="cl">  # activated from these events (the default is all.)
</span></span><span class="line"><span class="cl">  # When event_activation is disabled, the system will generally run
</span></span><span class="line"><span class="cl">  # a direct activation command to activate LVs in complete VGs.
</span></span><span class="line"><span class="cl">  # This configuration option has an automatic default value.
</span></span><span class="line"><span class="cl">  event_activation = 0
</span></span><span class="line"><span class="cl">  &lt;...&gt;
</span></span><span class="line"><span class="cl">}</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-bb06418a8de9c3ddf4c764f163aac5c0"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>



<h3 id="не-поднимается--интерфейс">
    Не поднимается  интерфейс
  <sup><a class="text-body-secondary small" href="#%d0%bd%d0%b5-%d0%bf%d0%be%d0%b4%d0%bd%d0%b8%d0%bc%d0%b0%d0%b5%d1%82%d1%81%d1%8f--%d0%b8%d0%bd%d1%82%d0%b5%d1%80%d1%84%d0%b5%d0%b9%d1%81"><i class="fas fa-link fa-fw"></i></a></sup>
</h3><p>После установки, у меня перестал автоматически подниматься сетевой интерфейс. Может быть, в отдельном ISO-образе Proxmox VE такой проблемы нет, потому что при установке с отдельного ISO-образа, он запрашивает у администратора параметры сети. Но если устанавливать Proxmox VE через пакетную систему Debian, то никаких запросов не появляется. В общем, я сделал так (<code>/etc/network/interfaces</code>):</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-text" id="codeblock-a8951f4a13eedc7944f1b44ddaa01b50">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-9acf6fc91fe286d8aba445ccba7fa707"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">auto lo
</span></span><span class="line"><span class="cl">iface lo inet loopback
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">iface enp3s0 inet manual
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">auto vmbr0
</span></span><span class="line"><span class="cl">iface vmbr0 inet static
</span></span><span class="line"><span class="cl">  address 10.0.1.1/16
</span></span><span class="line"><span class="cl">  gateway 10.0.0.1
</span></span><span class="line"><span class="cl">  bridge-ports enp3s0
</span></span><span class="line"><span class="cl">  bridge-stp off
</span></span><span class="line"><span class="cl">  bridge-fd 0</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-9acf6fc91fe286d8aba445ccba7fa707"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<p>Конкретно, тут я добавил блок виртуального соединения:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-text" id="codeblock-789f55967d385ab62e3ba311bacaaecd">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-6027966e5b62fb5ceeedffe36a978488"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">auto vmbr0
</span></span><span class="line"><span class="cl">iface vmbr0 inet static
</span></span><span class="line"><span class="cl">  address 10.0.1.1/16
</span></span><span class="line"><span class="cl">  gateway 10.0.0.1
</span></span><span class="line"><span class="cl">  bridge-ports enp3s0
</span></span><span class="line"><span class="cl">  bridge-stp off
</span></span><span class="line"><span class="cl">  bridge-fd 0</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-6027966e5b62fb5ceeedffe36a978488"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<p>Где указал мост с физической картой <code>enp3s0</code>. Саму же карту <code>enp3s0</code> я перевёл в режим <code>manual</code>. После этого, сетевой интерфейс на сервере заработал в штатном режиме.</p>
<p>На этом консольная настройка сервера виртуализации закончена. Настройка самого Proxmox&rsquo;а можно выполнять уже в удобном web-интерфейсе.</p>]]></content:encoded><pubDate>Sun, 12 Sep 2021 21:36:02 +0000</pubDate><category>Linux</category><category>В доработке</category></item><item><title>Debian: Wired Networks are Unmanaged</title><link>https://lib.onl/ru/posts/2021/09/ff829d15-4a19-52e3-a3aa-ad70aa38854a/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2021/09/ff829d15-4a19-52e3-a3aa-ad70aa38854a/</guid><description>При базовой установке Debian, Network Manager не устанавливается и, соответственно, он не управляет сетевой конфигурацией. Исправим данную ситуацию&amp;hellip;</description><content:encoded><![CDATA[<p>При базовой установке Debian, Network Manager не устанавливается и, соответственно, он не управляет сетевой конфигурацией. Исправим данную ситуацию&hellip;</p>
<p>Лично я люблю ставить систему в минимальной комплектации. У меня есть 






    
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


<a title="" href="https://uaik.github.io/" target="_blank" rel="noopener noreferrer nofollow">отдельный ресурс</a> со сценариями автоматической установки. Это шаблоны, которые позволяют поставить систему в автоматическом режиме и с минимальным набором компонентов. В основном, такие шаблоны полезны для серверов. Однако, для домашнего компьютера тоже вполне подойдут. Но после установки домашней системы через такой шаблон, потребуется небольшая корректировка.</p>
<p>Итак, установим Network Manager при помощи пакетного менеджера <strong>APT</strong>:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-9e31eb665975b3da155b978f491a2cdf">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-94a75a6fd607e3ae6c43295296b00d38"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">apt install network-manager</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-94a75a6fd607e3ae6c43295296b00d38"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<p>Но этого недостаточно. Система будет говорить, что &ldquo;Wired Networks are Unmanaged&rdquo;, потому что всё ещё сетевой конфигурацией управляет не Network Manager. Для исправления этой ситуации, необходимо в <code>/etc/NetworkManager/NetworkManager.conf</code> изменить <code>managed=false</code> на <code>managed=true</code>.</p>
<p>Далее, перезапустить службу:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-9156b2df8a9df966db4d4dd199b58f0a">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-0b61ecd84a00bb86fd52e779ff52aee4"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">service NetworkManager restart</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-0b61ecd84a00bb86fd52e779ff52aee4"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<p>На этом всё. Теперь сетевой конфигурацией управляет Network Manager.</p>]]></content:encoded><pubDate>Thu, 09 Sep 2021 19:14:12 +0000</pubDate><category>Linux</category></item><item><title>Распаковка пакетов DEB / RPM</title><link>https://lib.onl/ru/posts/2021/09/b2caccc7-92bf-57ed-970f-136c546f18e2/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2021/09/b2caccc7-92bf-57ed-970f-136c546f18e2/</guid><description>Я собираю пакеты для Debian и RHEL. И зачастую, мне необходимо посмотреть содержимое собранного пакета, чтобы удостоверится в правильности сборки и корректности расположения файлов внутри пакета. В этой статье кратно расскажу, как и при помощи чего можно посмотреть собранные пакеты.</description><content:encoded><![CDATA[<p>Я собираю пакеты для Debian и RHEL. И зачастую, мне необходимо посмотреть содержимое собранного пакета, чтобы удостоверится в правильности сборки и корректности расположения файлов внутри пакета. В этой статье кратно расскажу, как и при помощи чего можно посмотреть собранные пакеты.</p>
<h2 id="deb">
    DEB
  <sup><a class="text-body-secondary small" href="#deb"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Пакет <code>.deb</code> архивируется при помощи 






    
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


<a title="" href="https://en.wikipedia.org/wiki/Ar_%28Unix%29" target="_blank" rel="noopener noreferrer nofollow">ar</a>. Соответственно, распаковать пакет тоже следует через данный архиватор:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-8b4f7e788ee9f1aa5684e964fe24d461">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-dffa0bc0e90b8ff3b8f49d1fce77bad2"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">ar x example.deb</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-dffa0bc0e90b8ff3b8f49d1fce77bad2"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ul>
<li><code>debian-binary</code> – файл, содержащий версию формата <code>.deb</code>.</li>
<li><code>control.tar.xz</code> – файл, содержащий md5sums и директорию для сборки пакета.</li>
<li><code>data.tar.xz</code> – архив, содержащий все файлы, которые должны быть установлены в системе при установке пакета.</li>
</ul>

<h2 id="rpm">
    RPM
  <sup><a class="text-body-secondary small" href="#rpm"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Пакет <code>.rpm</code> содержит архив <code>cpio</code>. Имеется удобная утилита <code>rpm2cpio</code>, которая преобразует <code>.rpm</code> в архив <code>cpio</code>.</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-69ca9128f19d818c7cba56864f45f6af">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-6b0e9f1ead22ca78e29b93c1d80e5df6"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">rpm2cpio myrpmfile.rpm
</span></span><span class="line"><span class="cl">rpm2cpio - &lt; myrpmfile.rpm
</span></span><span class="line"><span class="cl">rpm2cpio myrpmfile.rpm <span class="p">|</span> cpio -idmv</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-6b0e9f1ead22ca78e29b93c1d80e5df6"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<p>Опции <code>rpm2cpio</code>:</p>
<ul>
<li><code>-i</code> - восстановить архив.</li>
<li><code>-d</code> - создать необходимые каталоги.</li>
<li><code>-m</code> - сохранить время модификации файлов.</li>
<li><code>-v</code> - подробный вывод процесса преобразования.</li>
</ul>
<p>Также, просматривать <code>.rpm</code> можно при помощи файлового менеджера Midnight Commander (<code>mc</code>).</p>]]></content:encoded><pubDate>Wed, 08 Sep 2021 09:39:36 +0000</pubDate><category>Linux</category></item><item><title>Отключение установки дополнительных пакетов в Debian APT</title><link>https://lib.onl/ru/posts/2021/09/43b40b92-c29a-504b-87fa-5eac368dcf95/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2021/09/43b40b92-c29a-504b-87fa-5eac368dcf95/</guid><description>Стандартное действие APT при установке пакета, это установить дополнительные рекомендуемые пакеты. Но, к примеру, мне рекомендуемые пакеты не нужны. Они занимают место и, если я захочу поставить что-то дополнительно, я поставлю это сам.</description><content:encoded><![CDATA[<p>Стандартное действие APT при установке пакета, это установить дополнительные рекомендуемые пакеты. Но, к примеру, мне рекомендуемые пакеты не нужны. Они занимают место и, если я захочу поставить что-то дополнительно, я поставлю это сам.</p>
<p>Ниже приведены две команды, которые позволяют отключить установку рекомендуемых (Recommends) и дополнительных (Suggests)пакетов.</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-c6d244191f7a34eb03a62e760c62709b">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-ee59447798b9fc3ccb95264c0b65d515"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s1">&#39;APT::Install-Recommends &#34;false&#34;;&#39;</span> &gt; /etc/apt/apt.conf.d/00InstallRecommends</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-ee59447798b9fc3ccb95264c0b65d515"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>










  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-b9170676151ee3fdbce41c88155e0e88">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-efa8938c8ce1797b54ae1cf711c93ab1"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s1">&#39;APT::Install-Suggests &#34;false&#34;;&#39;</span> &gt; /etc/apt/apt.conf.d/00InstallSuggests</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-efa8938c8ce1797b54ae1cf711c93ab1"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<p>Стоит заметить, что при установке Debian на завершающем этапе можно отключить рекомендуемые пакеты (в preseed этот параметр именуется как <code>d-i base-installer/install-recommends boolean false</code>). При этом, после установки, Debian сам создаст файл <code>00InstallRecommends</code> в <code>/etc/apt/apt.conf.d</code> с соответствующим содержанием.</p>]]></content:encoded><pubDate>Tue, 07 Sep 2021 13:07:46 +0000</pubDate><category>Linux</category></item><item><title>dhclient отправляет 36-значный идентификатор вместо MAC</title><link>https://lib.onl/ru/posts/2021/09/aeed7c90-003a-532a-b2c4-3807aaee88fa/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2021/09/aeed7c90-003a-532a-b2c4-3807aaee88fa/</guid><description>Начиная с Debian 10 в составе дистрибутива поставляется новая версия dhclient, которая стала более совместимой с RFC. Поэтому, dhclient теперь отправляет не прямой MAC, а 36-значный идентификатор.</description><content:encoded><![CDATA[<p>Начиная с <strong>Debian 10</strong> в составе дистрибутива поставляется новая версия <strong>dhclient</strong>, которая стала более совместимой с RFC. Поэтому, dhclient теперь отправляет не прямой MAC, а 36-значный идентификатор.</p>
<p>Чтобы указать dhclient&rsquo;у отправлять обычный MAC, необходимо в <code>/etc/dhcp/dhclient.conf</code> прописать строку:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-ini" id="codeblock-fa2d204693dfde4cd367c988234185e5">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-e99b69eafad2e0b5655cb2d840723a32"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ini" data-lang="ini"><span class="line"><span class="cl"><span class="na">send dhcp-client-identifier</span> <span class="o">=</span> <span class="s">hardware;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-e99b69eafad2e0b5655cb2d840723a32"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<p>Тоже самое при помощи команды:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-4ec1377b688130ca4837b8d6b6c9353e">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-60404c42e20c2d516b630bd50fe3fea2"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s1">&#39;send dhcp-client-identifier = hardware;&#39;</span> &gt;&gt; /etc/dhcp/dhclient.conf</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-60404c42e20c2d516b630bd50fe3fea2"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>]]></content:encoded><pubDate>Tue, 07 Sep 2021 08:38:24 +0000</pubDate><category>Linux</category></item><item><title>Скрипт автоматического удаления устаревших файлов</title><link>https://lib.onl/ru/posts/2021/08/ca744dce-e607-52e6-9952-8ae04e052a5b/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2021/08/ca744dce-e607-52e6-9952-8ae04e052a5b/</guid><description>В одной компании стояла задача сделать файловый архив-помойку для хранения и пересылки документации в сторонние организации. я накидал на PHP самописный интерфейс для загрузки файлов, а на bash&amp;rsquo;е сделал скрипт автоматического удаления устаревших файлов. Небольшая заметка об этом скрипте.</description><content:encoded><![CDATA[<p>В одной компании стояла задача сделать файловый архив-помойку для хранения и пересылки документации в сторонние организации. я накидал на PHP самописный интерфейс для загрузки файлов, а на bash&rsquo;е сделал скрипт автоматического удаления устаревших файлов. Небольшая заметка об этом скрипте.</p>
<p>Скрипт для удаления устаревших файлов очень прост, написан на bash&rsquo;е и основывается на утилите <code>find</code>. Утилита <code>find</code> имеет опцию <code>-mtime</code>, при помощи которого можно сделать выборку файлов по времени изменения:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-92e936298032baecfe40c1110b268a78">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-6f4b880dcbc1f39c28f9ded74f762553"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">find <span class="s2">&#34;/home/user&#34;</span> -type f -mtime +3</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-6f4b880dcbc1f39c28f9ded74f762553"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<p>Здесь мы говорим утилите <code>find</code>, что необходимо найти и показать файлы, у которых с даты последнего изменения прошло более 3 дней. Если необходимо вывести файлы, дата изменения которых будет менее <code>3</code> дней, то ставим отрицательное значение <code>-3</code>.</p>
<p>Далее, конструируем конвейер, и при помощи <code>xargs</code> указываем команду удаления <code>rm -f</code>:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-311db61ab8f51bbc358cef6871699a52">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-cf51626f2823ce63cc7c2d565af1f3bb"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">find <span class="s2">&#34;/home/user&#34;</span> -type f -mtime +3 -print0 <span class="p">|</span> xargs -0 rm -f</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-cf51626f2823ce63cc7c2d565af1f3bb"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<p>Сам скрипт провожу ниже.</p>

<h2 id="скрипт">
    Скрипт
  <sup><a class="text-body-secondary small" href="#%d1%81%d0%ba%d1%80%d0%b8%d0%bf%d1%82"><i class="fas fa-link fa-fw"></i></a></sup>
</h2>







  <div class="card mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-c80cb67e3361576bdfd97f3df0c5ae84">
    <div class="card-header">
      <div class="d-flex align-items-center">
        <div class="flex-shrink-0">
          <i class="fas fa-file-code fa-fw"></i>
        </div>
        <div class="flex-grow-1 mx-2">
            
            <code>delete-files.sh</code>
        </div>
        <div class="flex-shrink-0">
          <ul class="list-inline mb-0">
            <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
              <a class="text-body" href="#"
                 data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-1285fda0141da91af0b716a0b144a458"
                 role="button">
                <i class="fas fa-copy fa-fw"></i>
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="card-body" id="clipboard-1285fda0141da91af0b716a0b144a458"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="cp">#!/usr/bin/bash
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="nv">days</span><span class="o">=</span><span class="s2">&#34;</span><span class="si">${</span><span class="nv">1</span><span class="si">}</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nv">dir</span><span class="o">=</span><span class="s2">&#34;</span><span class="si">${</span><span class="nv">2</span><span class="si">}</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">find <span class="s2">&#34;</span><span class="si">${</span><span class="nv">dir</span><span class="si">}</span><span class="s2">&#34;</span> -type f -mtime +<span class="si">${</span><span class="nv">days</span><span class="si">}</span> -print0 <span class="p">|</span> xargs -0 rm -f
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">exit</span> <span class="m">0</span></span></span></code></pre></div></div>
  </div>


<p>В скрипте я вынес некоторые значения в переменные для удобной перенастройки. Вызывается скрипт следующем образом:</p>






<div class="card mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux"
     id="codeblock-10b1bbc4165ffff80b8e934850b65c68" data-bs-theme="dark">
  <div class="card-header">
    <div class="d-flex align-items-center">
      <div class="flex-shrink-0 ">
        <i class="fas fa-terminal fa-fw"></i>
      </div>
      <div class="flex-grow-1 mx-2">
        <h5 class="mb-0">Терминал</h5>
      </div>
      <div class="flex-shrink-0">
        <ul class="list-inline mb-0">
          <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
            <a class="text-body" href="#"
               data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-8240abb0d3117dd9f557da0c5b5eba03"
               role="button">
              <i class="fas fa-copy fa-fw"></i>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="card-body p-0" id="clipboard-8240abb0d3117dd9f557da0c5b5eba03"><pre tabindex="0"><code class="language-terminal" data-lang="terminal">delete-files.sh &#34;3&#34; &#34;/path/to/storage&#34;</code></pre></div>
</div>
<p>Где:</p>
<ul>
<li><code>3</code> - количество дней, прошедших с момента последнего изменения файла.</li>
<li><code>/path/to/storage</code> - путь к файловому хранилищу, в котором необходимо удалять устаревшие файлы.</li>
</ul>

<h2 id="автоматический-запуск-по-расписанию">
    Автоматический запуск по расписанию
  <sup><a class="text-body-secondary small" href="#%d0%b0%d0%b2%d1%82%d0%be%d0%bc%d0%b0%d1%82%d0%b8%d1%87%d0%b5%d1%81%d0%ba%d0%b8%d0%b9-%d0%b7%d0%b0%d0%bf%d1%83%d1%81%d0%ba-%d0%bf%d0%be-%d1%80%d0%b0%d1%81%d0%bf%d0%b8%d1%81%d0%b0%d0%bd%d0%b8%d1%8e"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Осталось добавить выполнение скрипта по cron&rsquo;у. Я указал время <code>23:59</code>, когда нагрузка на файловое хранилище минимальна:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-aa7a53ba36409cf781fe6e219e4339e3">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-078584a1a0716a7d7e9a33836ec6c2d4"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># Check &amp; remove old files in 23:59 every day.</span>
</span></span><span class="line"><span class="cl"><span class="m">59</span> <span class="m">23</span> * * * <span class="o">[</span>username<span class="o">]</span> /usr/bin/bash /path/to/delete-files.sh <span class="s2">&#34;3&#34;</span> <span class="s2">&#34;/path/to/storage&#34;</span> &gt; /dev/null 2&gt;<span class="p">&amp;</span><span class="m">1</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-078584a1a0716a7d7e9a33836ec6c2d4"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>]]></content:encoded><pubDate>Thu, 19 Aug 2021 15:03:46 +0000</pubDate><category>Разработка</category></item><item><title>Интересные модули Drupal</title><link>https://lib.onl/ru/posts/2021/08/28fa2886-aea6-5abc-9da8-43be56283cdb/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2021/08/28fa2886-aea6-5abc-9da8-43be56283cdb/</guid><description>Здесь собраны ссылки на интересные и необходимые для меня в работе модули.</description><content:encoded><![CDATA[<p>Здесь собраны ссылки на интересные и необходимые для меня в работе модули.</p>
<h2 id="permissions-by-term">
    Permissions by Term
  <sup><a class="text-body-secondary small" href="#permissions-by-term"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>






    
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


<a title="" href="https://www.drupal.org/project/permissions_by_term" target="_blank" rel="noopener noreferrer nofollow">Модуль</a> позволяет применять права доступа к материалу путём добавления термина таксономии.</p>

<h2 id="node-view-permissions">
    Node View Permissions
  <sup><a class="text-body-secondary small" href="#node-view-permissions"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>






    
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


<a title="" href="https://www.drupal.org/project/node_view_permissions" target="_blank" rel="noopener noreferrer nofollow">Модуль</a> разрешает или запрещает просматривать материал определённым ролям пользователей. Подобная функция была в Drupal 6, но в последующих версиях её убрали.</p>

<h2 id="poll">
    Poll
  <sup><a class="text-body-secondary small" href="#poll"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>






    
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


<a title="" href="https://www.drupal.org/project/poll" target="_blank" rel="noopener noreferrer nofollow">Модуль</a> опросов. Позволяет создавать опросы в различной конфигурации.</p>

<h2 id="scheduler">
    Scheduler
  <sup><a class="text-body-secondary small" href="#scheduler"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Очень полезный 






    
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


<a title="" href="https://www.drupal.org/project/scheduler" target="_blank" rel="noopener noreferrer nofollow">модуль</a>, особенно редакторам. Модуль позволяет создавать отложенные материалы, которые необходимо опубликовать через определённое время.</p>]]></content:encoded><pubDate>Wed, 18 Aug 2021 06:58:21 +0000</pubDate><category>CMF</category><category>В доработке</category></item><item><title>XenForo: Первичные настройки движка и параметры системы</title><link>https://lib.onl/ru/posts/2021/08/8ddf3622-5dd8-5101-9c40-2f3e08f4a579/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2021/08/8ddf3622-5dd8-5101-9c40-2f3e08f4a579/</guid><description>У меня в проекте находятся несколько форумов на движке XenForo. Здесь я собрал для себя первичные параметры и настройки движка XenForo.</description><content:encoded><![CDATA[<p>У меня в проекте находятся несколько форумов на движке XenForo. Здесь я собрал для себя первичные параметры и настройки движка XenForo.</p>
<h2 id="файл-конфигурации">
    Файл конфигурации
  <sup><a class="text-body-secondary small" href="#%d1%84%d0%b0%d0%b9%d0%bb-%d0%ba%d0%be%d0%bd%d1%84%d0%b8%d0%b3%d1%83%d1%80%d0%b0%d1%86%d0%b8%d0%b8"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Примеры параметров в файле config.php для первоначальной установки и запуска системы.</p>








  <div class="card mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-php" id="codeblock-af66a5846a26e67c1d5ef21f2770cb44">
    <div class="card-header">
      <div class="d-flex align-items-center">
        <div class="flex-shrink-0">
          <i class="fas fa-file-code fa-fw"></i>
        </div>
        <div class="flex-grow-1 mx-2">
            
            <code>config.php</code>
        </div>
        <div class="flex-shrink-0">
          <ul class="list-inline mb-0">
            <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
              <a class="text-body" href="#"
                 data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-b63a18dd23f3ef6fa7cc7197db97036a"
                 role="button">
                <i class="fas fa-copy fa-fw"></i>
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="card-body" id="clipboard-b63a18dd23f3ef6fa7cc7197db97036a"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="o">&lt;?</span><span class="nx">php</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Database.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nv">$config</span><span class="p">[</span><span class="s1">&#39;db&#39;</span><span class="p">][</span><span class="s1">&#39;host&#39;</span><span class="p">]</span>                             <span class="o">=</span> <span class="s1">&#39;127.0.0.1&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="nv">$config</span><span class="p">[</span><span class="s1">&#39;db&#39;</span><span class="p">][</span><span class="s1">&#39;port&#39;</span><span class="p">]</span>                             <span class="o">=</span> <span class="mi">3306</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="nv">$config</span><span class="p">[</span><span class="s1">&#39;db&#39;</span><span class="p">][</span><span class="s1">&#39;username&#39;</span><span class="p">]</span>                         <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="nv">$config</span><span class="p">[</span><span class="s1">&#39;db&#39;</span><span class="p">][</span><span class="s1">&#39;password&#39;</span><span class="p">]</span>                         <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="nv">$config</span><span class="p">[</span><span class="s1">&#39;db&#39;</span><span class="p">][</span><span class="s1">&#39;dbname&#39;</span><span class="p">]</span>                           <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="nv">$config</span><span class="p">[</span><span class="s1">&#39;db&#39;</span><span class="p">][</span><span class="s1">&#39;socket&#39;</span><span class="p">]</span>                           <span class="o">=</span> <span class="k">null</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Unicode support.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nv">$config</span><span class="p">[</span><span class="s1">&#39;fullUnicode&#39;</span><span class="p">]</span>                            <span class="o">=</span> <span class="k">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Site-wide feature.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nv">$config</span><span class="p">[</span><span class="s1">&#39;enableTfa&#39;</span><span class="p">]</span>                              <span class="o">=</span> <span class="k">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="nv">$config</span><span class="p">[</span><span class="s1">&#39;enableApi&#39;</span><span class="p">]</span>                              <span class="o">=</span> <span class="k">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="nv">$config</span><span class="p">[</span><span class="s1">&#39;enableOneClickUpgrade&#39;</span><span class="p">]</span>                  <span class="o">=</span> <span class="k">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Cookie.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nv">$config</span><span class="p">[</span><span class="s1">&#39;cookie&#39;</span><span class="p">][</span><span class="s1">&#39;prefix&#39;</span><span class="p">]</span>                       <span class="o">=</span> <span class="s1">&#39;xf_&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Data and script locations.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nv">$config</span><span class="p">[</span><span class="s1">&#39;externalDataPath&#39;</span><span class="p">]</span>                       <span class="o">=</span> <span class="s1">&#39;storage/data&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="nv">$config</span><span class="p">[</span><span class="s1">&#39;externalDataUrl&#39;</span><span class="p">]</span>                        <span class="o">=</span> <span class="s1">&#39;storage/data&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="nv">$config</span><span class="p">[</span><span class="s1">&#39;internalDataPath&#39;</span><span class="p">]</span>                       <span class="o">=</span> <span class="s1">&#39;storage/data.int&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="nv">$config</span><span class="p">[</span><span class="s1">&#39;codeCachePath&#39;</span><span class="p">]</span>                          <span class="o">=</span> <span class="s1">&#39;%s/cache/code&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="nv">$config</span><span class="p">[</span><span class="s1">&#39;tempDataPath&#39;</span><span class="p">]</span>                           <span class="o">=</span> <span class="s1">&#39;%s/temp&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="nv">$config</span><span class="p">[</span><span class="s1">&#39;javaScriptUrl&#39;</span><span class="p">]</span>                          <span class="o">=</span> <span class="s1">&#39;js&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Auth.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nv">$config</span><span class="p">[</span><span class="s1">&#39;auth&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">  <span class="s1">&#39;algo&#39;</span> <span class="o">=&gt;</span> <span class="nx">PASSWORD_ARGON2ID</span>
</span></span><span class="line"><span class="cl"><span class="p">];</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Cache.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">$config[&#39;cache&#39;][&#39;enabled&#39;]                       = true;
</span></span></span><span class="line"><span class="cl"><span class="cm">$config[&#39;cache&#39;][&#39;provider&#39;]                      = &#39;Redis&#39;;
</span></span></span><span class="line"><span class="cl"><span class="cm">$config[&#39;cache&#39;][&#39;config&#39;]                        = [
</span></span></span><span class="line"><span class="cl"><span class="cm">  &#39;host&#39; =&gt; &#39;127.0.0.1&#39;,
</span></span></span><span class="line"><span class="cl"><span class="cm">  &#39;password&#39; =&gt; &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="cm">  &#39;database&#39; =&gt; 1
</span></span></span><span class="line"><span class="cl"><span class="cm">];
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Guest page caching.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">$config[&#39;pageCache&#39;][&#39;enabled&#39;]                   = true;
</span></span></span><span class="line"><span class="cl"><span class="cm">$config[&#39;cache&#39;][&#39;context&#39;][&#39;page&#39;][&#39;provider&#39;]   = &#39;Filesystem&#39;;
</span></span></span><span class="line"><span class="cl"><span class="cm">$config[&#39;cache&#39;][&#39;context&#39;][&#39;page&#39;][&#39;config&#39;]     = [
</span></span></span><span class="line"><span class="cl"><span class="cm">  &#39;directory&#39; =&gt; &#39;&#39;
</span></span></span><span class="line"><span class="cl"><span class="cm">];
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span></span></span></code></pre></div></div>
  </div>



<h2 id="регистрация-пользователей">
    Регистрация пользователей
  <sup><a class="text-body-secondary small" href="#%d1%80%d0%b5%d0%b3%d0%b8%d1%81%d1%82%d1%80%d0%b0%d1%86%d0%b8%d1%8f-%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d0%be%d0%b2%d0%b0%d1%82%d0%b5%d0%bb%d0%b5%d0%b9"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Параметры для регистрации пользователей.</p>
<p><strong>Регулярное выражение:</strong></p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-text" id="codeblock-227ced64784ba03ae042919a6784a464">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-f6380dc90dba5bd0759a64bd089baa92"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">#(?!^[\d\-\_\s]+$)^(([a-zA-Z0-9\-\_\s]+)|(((\xD0[\x80-\xBF])|(\xD1[\x80-\xBF])|([0-9\-\_\s]))+))$#</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-f6380dc90dba5bd0759a64bd089baa92"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>



<h2 id="теги">
    Теги
  <sup><a class="text-body-secondary small" href="#%d1%82%d0%b5%d0%b3%d0%b8"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Параметры для ввода тегов.</p>
<p><strong>Регулярное выражение:</strong></p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-text" id="codeblock-93585a335379d7a871da5d41171ee38c">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-6b67ca0899cf2ea55ac1214c78906a0d"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">#(?!^[\d\-\_\s]+$)^(([a-zA-Z0-9\-\_\s]+)|(((\xD0[\x80-\xBF])|(\xD1[\x80-\xBF])|([0-9\-\_\s]))+))$#</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-6b67ca0899cf2ea55ac1214c78906a0d"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>



<h2 id="группы-пользователей">
    Группы пользователей
  <sup><a class="text-body-secondary small" href="#%d0%b3%d1%80%d1%83%d0%bf%d0%bf%d1%8b-%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d0%be%d0%b2%d0%b0%d1%82%d0%b5%d0%bb%d0%b5%d0%b9"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Настройки групп пользователей.</p>
<p><strong>Стандартные группы:</strong></p>
<ul>
<li>Unregistered / Unconfirmed <code>ID(1)</code></li>
<li>Registered <code>ID(2)</code></li>
<li>Administrative <code>ID(3)</code></li>
<li>Moderating <code>ID(4)</code></li>
</ul>]]></content:encoded><pubDate>Wed, 18 Aug 2021 06:55:19 +0000</pubDate><category>CMF</category><category>Разработка</category></item><item><title>Условия в шаблонах XenForo</title><link>https://lib.onl/ru/posts/2021/08/f9a39e37-8816-5f80-8133-893f3dc8f352/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2021/08/f9a39e37-8816-5f80-8133-893f3dc8f352/</guid><description>Представляю список условий, которые можно использовать в шаблонах XenForo. Все возможные условия перечислить затруднительно, потому что существует множество различных вариантов фильтрации и выборки информации. Здесь представлены наиболее популярные варианты.</description><content:encoded><![CDATA[<p>Представляю список условий, которые можно использовать в шаблонах XenForo. Все возможные условия перечислить затруднительно, потому что существует множество различных вариантов фильтрации и выборки информации. Здесь представлены наиболее популярные варианты.</p>
<p>С этой статьи я начинаю попытку восстановления накопленных данных за период моей деятельности в качестве исследователя и разработчика веб-приложений.</p>
<ol>
<li>Отображение информации только администраторам.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-a0656fbbe0ff44128c0d2f439e067a31">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-5b43a551d6feceee840385bc8c33b292"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;$xf.visitor.is_admin&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-5b43a551d6feceee840385bc8c33b292"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="2">
<li>Отображение информации только модераторам.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-f50783b24334aee3e9df7e983273da62">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-8abea556028ae46f0783622d2377fe6a"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;$xf.visitor.is_moderator&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-8abea556028ae46f0783622d2377fe6a"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="3">
<li>Отображение информации только администраторам и модераторам.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-04a86b4e1e514dbe836b9e21f65531c1">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-99c13f0fab703971451953912090c5ff"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;$xf.visitor.is_admin OR $xf.visitor.is_moderator&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-99c13f0fab703971451953912090c5ff"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="4">
<li>Отображение информации только зарегистрированному пользователю</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-2085060a93b4d235e6c2cc5dec8fbd7c">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-773c61a5e2e1e78c1e66cec99dba28c1"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;$xf.visitor.user_id&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-773c61a5e2e1e78c1e66cec99dba28c1"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="5">
<li>Отображение информации гостю.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-490e7e742f975d82ffb7e1d40dd3908a">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-149f63d1692175705f6423eb08ad43c5"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;!$xf.visitor.user_id&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-149f63d1692175705f6423eb08ad43c5"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="6">
<li>Отображение разной информации зарегистрированному пользователю и гостю.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-f81ce2d6e52cf2d01f75e0f54ba88366">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-9d30b7cb8c0c87fee0f0c994907c51d0"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;!$xf.visitor.user_id&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content for members --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:else</span> <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content for guests --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-9d30b7cb8c0c87fee0f0c994907c51d0"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="7">
<li>Отображение информации только заблокированным пользователям.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-87e0e04c088daf4b5692d7ecfec09982">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-833fa97572e059d6de5ce34f4c0cfbf6"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;$user.is_banned&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-833fa97572e059d6de5ce34f4c0cfbf6"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="8">
<li>Отображение информации только если у пользователя симпатий больше определённого количества.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-be9fee2777a186d69d190f502007f02d">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-930281e3f02d6ff51141c10306c68a23"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;$user.like_count|number &gt; X&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-930281e3f02d6ff51141c10306c68a23"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="9">
<li>Отображение информации только если у пользователя сообщений больше определённого количества.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-20aa59310fd14a1c0ed6bbc28824be23">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-ef842125cfbf387edc1a60c3f4fa98a6"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;{$xf.visitor.message_count|number} &gt; X&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-ef842125cfbf387edc1a60c3f4fa98a6"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="10">
<li>Отображение информации только если у пользователя очков больше определённого количества.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-abba7f06a8e38116f37676e01a5bd2a2">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-9c27bacb7bacfcd7fb1cc6fb1d051236"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;$user.trophy_points|number &gt; X&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-9c27bacb7bacfcd7fb1cc6fb1d051236"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="11">
<li>Отображение информации определённому пользователю.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-e84b963eb9912ff13991f97a0474c41e">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-0eab511c20b566a1239d66edaa6f1128"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;$xf.visitor.user_id == X&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-0eab511c20b566a1239d66edaa6f1128"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="12">
<li>Отображение информации определённым пользователям.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-0929b9593bf8147cdfd39d96e2626f64">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-8b68ef554f6af74d7235db1100305c1f"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;in_array($xf.visitor.user_id, [X, Y, Z])&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-8b68ef554f6af74d7235db1100305c1f"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="13">
<li>(1) Отображение информации определённым группам пользователей.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-f69e2d9deff2e419ea804e91f85e77da">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-2c0ecbf4a624d98f5bf3b08dfb8fcd49"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;{{$xf.visitor.isMemberOf([X, Y])}}&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-2c0ecbf4a624d98f5bf3b08dfb8fcd49"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="13">
<li>(2) Отображение информации определённой группе пользователей.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-98470e93714635f0f8c3e7da0b69a208">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-78eb5c49fc5a58e1e41a8d399d70eb01"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;{{$xf.visitor.isMemberOf(X)}}&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-78eb5c49fc5a58e1e41a8d399d70eb01"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="14">
<li>(1) Скрытие информации от определённых групп пользователей.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-48c517d510829e0d46745f227d394e72">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-320d3019d74e55c7a9341e1ce3d4ba82"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;{{!$xf.visitor.isMemberOf([X, Y])}}&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-320d3019d74e55c7a9341e1ce3d4ba82"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="14">
<li>(2) Скрытие информации от определённой группы пользователей.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-ab02ee3cb15dbf1dd8c452508f7b213e">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-fc342a98b1dfdbfc0dccaf678f309a68"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;{{!$xf.visitor.isMemberOf(X)}}&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-fc342a98b1dfdbfc0dccaf678f309a68"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="15">
<li>(1) Отображение информации после первого сообщения в теме.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-fc82162720e4d248baf83582f2c4d851">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-f3febf23385d48b6a67e6fbfe3f54cd3"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;$post.position % $xf.options.messagesPerPage == 0&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-f3febf23385d48b6a67e6fbfe3f54cd3"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="15">
<li>(2) Отображение информации через определённое количества сообщений.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-f0a2aaa667ef22db6e42766408d903dc">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-3405809045f605eb3c4431498d473bca"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;$post.position % $xf.options.messagesPerPage == X&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-3405809045f605eb3c4431498d473bca"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="16">
<li>Отображение информации на странице, на которой присутствует боковая панель.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-4993c3459f584e9de6cded91cfac2351">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-54a4c0e271ba031eaf84ce5ae57097fb"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;$sidebar&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-54a4c0e271ba031eaf84ce5ae57097fb"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="17">
<li>Отображение информации на главной (домашней) странице форума.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-1fe594db451f0eed5109423ae75014d3">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-9ca96b1adbd15674d471d7579e2f4398"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;$template == &#39;forum_list&#39;&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-9ca96b1adbd15674d471d7579e2f4398"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="18">
<li>Скрытие информации только с главной (домашней) странице форума.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-25ac2c7783a3ccb99dd178db941e31c4">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-83f90cb1df582626743156325bb6636a"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;$template !== &#39;forum_list&#39;&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-83f90cb1df582626743156325bb6636a"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="19">
<li>Отображение информации на странице создания новой темы.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-9e2bde279d643aa9d4e449a4666263b1">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-dd0b01ddadeaeb3591ae2a69985b279a"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;$template == &#39;forum_post_thread&#39;&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-dd0b01ddadeaeb3591ae2a69985b279a"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="20">
<li>Скрытие информации на странице создания новой темы.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-c734e5428de8a18283ae7b980beda828">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-3e15becf7653674b30ca07035393c093"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;$template != &#39;forum_post_thread&#39;&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-3e15becf7653674b30ca07035393c093"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="21">
<li>Отображение информации на странице создания нового ресурса.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-1811ec972e9015e3e7bded8b238309f7">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-1fd61f8920d25b5d3b22b4d8d0f23031"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;$template == &#39;xfrm_category_add_resource&#39;&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-1fd61f8920d25b5d3b22b4d8d0f23031"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="22">
<li>Скрытие информации на странице создания нового ресурса.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-54e8665fd256a84d488ebed2d5225b9e">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-b3f2eb889b81a7435e5802392dbc0aba"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;$template != &#39;xfrm_category_add_resource&#39;&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-b3f2eb889b81a7435e5802392dbc0aba"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="23">
<li>Отображение информации на странице поисковой формы.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-180c2f510a94a1e4653c07488fccc559">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-81a8c5eb7ebcd9b0befc16152535b727"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;$template == &#39;search_form&#39;&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-81a8c5eb7ebcd9b0befc16152535b727"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="24">
<li>Скрытие информации на странице поисковой формы.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-bb43ca61730d7068039906ce965e9259">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-240c4efdca330e1f6589e4de630c45b1"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;$template != &#39;search_form&#39;&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-240c4efdca330e1f6589e4de630c45b1"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="25">
<li>Отображение информации на странице &ldquo;Что нового?&rdquo;.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-d5194faeb2515d3541f0de4f8548b59f">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-8fc196240d1c734959a7780e3cc82b82"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;$template == &#39;whats_new&#39;&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-8fc196240d1c734959a7780e3cc82b82"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="26">
<li>Скрытие информации на странице &ldquo;Что нового?&rdquo;.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-a74afc7a228027161bcbd8da7e44f58a">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-0dd3baf208bbdd4ce99668fe12ae219b"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;$template != &#39;whats_new&#39;&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-0dd3baf208bbdd4ce99668fe12ae219b"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="27">
<li>Отображение информации на странице просмотра личной переписки.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-20c58dfd868e7f325babe591a6fa9a59">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-0ae8c220375484f7b8c93c5e0ad209c6"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;$template == &#39;conversation_view&#39;&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-0ae8c220375484f7b8c93c5e0ad209c6"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="28">
<li>Скрытие информации на странице просмотра личной переписки.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-c18afa6a98d262783e734d4e4684053a">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-02ea64fc3aee49e59096918ddf4f0456"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;$template != &#39;conversation_view&#39;&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-02ea64fc3aee49e59096918ddf4f0456"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="29">
<li>Отображение информации на странице просмотра списка личных переписок.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-d9135ce4cab80dcbc6f8bb211e7e4d19">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-b7537e42cd4ada260fbbd65ddcedfc74"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;$template == &#39;conversation_list&#39;&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-b7537e42cd4ada260fbbd65ddcedfc74"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="30">
<li>Скрытие информации на странице просмотра списка личных переписок.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-66a07cc88d0f3bc115c4eb510d239487">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-1d4345d0833b71636cba56f44134c60e"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;$template != &#39;conversation_list&#39;&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-1d4345d0833b71636cba56f44134c60e"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="31">
<li>Отображение информации на главной странице ресурсов.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-5442753840d26b742862846fb75111a7">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-bdc8167cb593f15139a884095b37e2fb"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;$template == &#39;xfrm_overview&#39;&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-bdc8167cb593f15139a884095b37e2fb"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="32">
<li>Скрытие информации на главной странице ресурсов.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-086df35bb4fbe46d08e93dfef67c243e">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-10ebe29b2d49a90a8f0a33bc790371f5"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;$template != &#39;xfrm_overview&#39;&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-10ebe29b2d49a90a8f0a33bc790371f5"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="33">
<li>Отображение информации на странице просмотра ресурса.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-70b233b85efa5426e0aabd07df404d87">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-d97b719c647835cb9b0095723650cbf0"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;$template == &#39;xfrm_resource_view&#39;&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-d97b719c647835cb9b0095723650cbf0"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="34">
<li>Скрытие информации на странице просмотра ресурса.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-4ddbaa3c2e7faf5e8c14cb5318977f77">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-e958c5151500205c3160bb5049c8d378"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;$template != &#39;xfrm_resource_view&#39;&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-e958c5151500205c3160bb5049c8d378"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="35">
<li>Отображение информации на странице просмотра темы.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-579c35ce1e857c25697124fb21374d30">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-941c788439f965e4a84a2e98af897745"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;$template == &#39;thread_view&#39;&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-941c788439f965e4a84a2e98af897745"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="36">
<li>Скрытие информации на странице просмотра темы.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-b4b04c7fe934d8679ed84f427c202c07">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-5c6108c1200cba1b9369a8174265b9b1"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;$template !=&#39;thread_view&#39;&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-5c6108c1200cba1b9369a8174265b9b1"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="37">
<li>Отображение информации на странице просмотра форума (раздела).</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-99cd13d086a88f5fc9a858e80566f966">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-afef6f32f75d0bf3d8a811ea60950cb5"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;$template ==&#39;forum_view&#39;&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-afef6f32f75d0bf3d8a811ea60950cb5"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="38">
<li>Скрытие информации на странице просмотра форума (раздела).</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-37bf47181d0bfbd345211ee2141c9af2">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-459da8dfc0e74af43202dd6e07ca8781"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;$template != &#39;forum_view&#39;&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-459da8dfc0e74af43202dd6e07ca8781"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="39">
<li>Отображение информации &ldquo;наказанным&rdquo; пользователям.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-79dd56f47e655976109b648546170958">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-6bec3339806998e960daaa190d2b49a2"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;{$xf.visitor.Option.is_discouraged}&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-6bec3339806998e960daaa190d2b49a2"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="40">
<li>Отображение информации пользователям, которые имеют Gravatar.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-2360f909b2c8dfa9b46c7b6ecfecc796">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-f8242d26167f915c1d521e8d79264457"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;{$xf.visitor.gravatar}&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-f8242d26167f915c1d521e8d79264457"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="41">
<li>Отображение информации пользователям поддержки форума.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-65ead7c2c9dba24148a5d877d3ba1419">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-6a18282301c25104547e21b6a5b3543c"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;{$xf.visitor.is_staff}&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-6a18282301c25104547e21b6a5b3543c"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="42">
<li>Отображение информации пользователям без подтверждённого адреса e-mail.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-8d3e6e53cde338833da406755de0da47">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-097182b0d60f098b559e1800196b5d28"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;{$xf.visitor.isAwaitingEmailConfirmation()}&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-097182b0d60f098b559e1800196b5d28"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="43">
<li>Отображение информации в нескольких форумах (разделах).</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-34086162bcf1c23805f0384c5265d89e">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-7b25cd51e4e78c1485050d76afffec1a"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;in_array({$forum.node_id}, [X, Y, Z])&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-7b25cd51e4e78c1485050d76afffec1a"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="44">
<li>Скрытие информации в нескольких форумах (разделах).</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-c6d40cf4c5be1fcd4239fb88ef3a164f">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-b090540a3de326d3fdabeab3ab8c24a0"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;in_array($forum.node_id, [X, Y, Z])&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-b090540a3de326d3fdabeab3ab8c24a0"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="45">
<li>Отображение информации в определённом форуме (разделе).</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-59ab25b708ec046674b2148b936028de">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-86217e4adf338f248882aeaedd68d4da"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;$forum.node_id == X&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-86217e4adf338f248882aeaedd68d4da"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="46">
<li>Скрытие информации в определённом форуме (разделе).</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-1c9a698c9b977c15bb158a4bc1a6fb8b">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-ad7309b09e39ae91731a7fe953a21cf8"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;$forum.node_id != 3&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-ad7309b09e39ae91731a7fe953a21cf8"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="47">
<li>Отображение информации только после первого сообщения в каждой теме.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-decd01d7d2a4d1b026d2e73030cd3779">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-1bf7a421a4af7c07b81a855351f22f65"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;{$post.position} % {$xf.options.messagesPerPage} == 1&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-1bf7a421a4af7c07b81a855351f22f65"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="48">
<li>Отображение информации только внутри первого сообщения в каждой теме.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-5fed72df022af44a614e0388b2d5beee">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-2f20b67f5bda9c1561faf97d81e8e409"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;{$post.position} % {$xf.options.messagesPerPage} == 0&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-2f20b67f5bda9c1561faf97d81e8e409"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="49">
<li>Отображение информации только при заполненном поле местоположения.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-baab783382008163d65ee9c8fff22b91">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-b10d9bbb3b91aab46be578e4137bad2b"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;{$xf.visitor.location}&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-b10d9bbb3b91aab46be578e4137bad2b"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="50">
<li>Отображение информации только при заполненном поле веб-сайта.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-b16fb7c83e297431be0f4de834460f60">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-e7fcc653ac11e1535ef6f820e7e2a26c"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;{$xf.visitor.website}&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-e7fcc653ac11e1535ef6f820e7e2a26c"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="51">
<li>Отображение информации при указанной подписи.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-1d41d711335ca4914531c8c7109449f3">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-f4b60ae9689f68658ff8bce81e789cb9"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;{$xf.visitor.signature}&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-f4b60ae9689f68658ff8bce81e789cb9"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="52">
<li>Отображение информации только активированным пользователям.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-1d64eb911d2f6ad8fc92f0c17852a5e5">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-f101038bd47ed044a9475817e081d701"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;{$xf.visitor.user_state} == &#39;valid&#39;&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-f101038bd47ed044a9475817e081d701"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="53">
<li>Отображение информации только пользователям, ожидающим подтверждения адреса e-mail.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-109d8debbbd5bda19cc2e0a186849ca9">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-45d4fad29c7f8349bc76bea7cbb20d15"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;{$xf.visitor.user_state} == &#39;email_confirm_edit&#39;&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-45d4fad29c7f8349bc76bea7cbb20d15"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="54">
<li>Отображение информации только пользователям с проблемным адресом e-mail.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-1746d151d98ad102c3be7c27aa81d84b">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-2782598587633e00f2e1ef3e824c9bd2"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;{$xf.visitor.user_state} == &#39;email_bounce&#39;&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-2782598587633e00f2e1ef3e824c9bd2"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="55">
<li>Отображение информации, если ID пользователя = ID автора темы.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-4709a62f16008ff7df2fcf4cc2c388a5">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-f9aceeba7a7e146239250dc9ff017944"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;{$__globals.thread} AND {$__globals.thread.user_id} == {$user.user_id}&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-f9aceeba7a7e146239250dc9ff017944"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="56">
<li>Отображение информации пользователю, который является автором темы.</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-html" id="codeblock-6f4264d51163ba4f62d0893cd69fac0b">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-7b030781031a379c6c74e4bad794a95f"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">xf:if</span> <span class="na">is</span><span class="o">=</span><span class="s">&#34;{$thread.user_id} == {$xf.visitor.user_id}&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- content --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">xf:if</span><span class="p">&gt;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-7b030781031a379c6c74e4bad794a95f"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>]]></content:encoded><pubDate>Tue, 17 Aug 2021 12:21:10 +0000</pubDate><category>CMF</category></item><item><title>Настройка и использование Git</title><link>https://lib.onl/ru/posts/2021/08/c35f395f-5921-55eb-afcf-1ad812a1a9d9/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2021/08/c35f395f-5921-55eb-afcf-1ad812a1a9d9/</guid><description>В этой заметке я приведу параметры Git, которые сам использую при работе с репозиториями.</description><content:encoded><![CDATA[<p>В этой заметке я приведу параметры Git, которые сам использую при работе с репозиториями.</p>
<h2 id="первичная-настройка">
    Первичная настройка
  <sup><a class="text-body-secondary small" href="#%d0%bf%d0%b5%d1%80%d0%b2%d0%b8%d1%87%d0%bd%d0%b0%d1%8f-%d0%bd%d0%b0%d1%81%d1%82%d1%80%d0%be%d0%b9%d0%ba%d0%b0"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Для начала работы с Git&rsquo;ом, его необходимо хотя бы минимально настроить.</p>
<ol>
<li>Указать своё имя:</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-7755b918617d314b42ea6901ef8ffb99">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-7faa0f96e349c588028ec1610840984b"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">git config --global user.name <span class="s2">&#34;John Doe&#34;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-7faa0f96e349c588028ec1610840984b"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="2">
<li>Указать свой адрес e-mail:</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-d522a1c672566a08e530bcd10f554f74">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-ea7856e363a1d9742daa57aab14615d3"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">git config --global user.email <span class="s2">&#34;johndoe@example.com&#34;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-ea7856e363a1d9742daa57aab14615d3"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>



<h2 id="настройка-подписи">
    Настройка подписи
  <sup><a class="text-body-secondary small" href="#%d0%bd%d0%b0%d1%81%d1%82%d1%80%d0%be%d0%b9%d0%ba%d0%b0-%d0%bf%d0%be%d0%b4%d0%bf%d0%b8%d1%81%d0%b8"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Хорошим тоном будет считаться подпись каждого своего коммита.</p>
<ol>
<li>Выяснить какие ключи установлены в системе (о создании ключей я публиковал заметку <span class="shortcode shortcode-uuid"><a href="/ru/posts/2020/07/7a204545-daa8-58ce-ba35-75e732e1bcc0/">GnuPG: Создание и работа с ключами шифрования</a></span>):</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-23515e9ddaea7396b038c1a04e22dc93">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-5b8491ca99b25f9d96ab8a5f90363b4a"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">gpg --list-secret-keys --keyid-format<span class="o">=</span>long</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-5b8491ca99b25f9d96ab8a5f90363b4a"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="2">
<li>Указать Git&rsquo;у всегда подписывать каждый коммит:</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-70652ac655a456cfb233af37e620415d">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-d40fe12477048bcb6c81a88ed5b1f0e7"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">git config --global commit.gpgsign true</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-d40fe12477048bcb6c81a88ed5b1f0e7"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ol start="3">
<li>Указать Git&rsquo;у идентификатор ключа для подписи коммита:</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-5f33a5f8f9d62f7370d5e04ec9f24a72">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-47a9151409008a871257a7b58dfc6901"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">git config --global user.signingkey 3AA5C34371567BD2</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-47a9151409008a871257a7b58dfc6901"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>



<h2 id="хранилище-паролей">
    Хранилище паролей
  <sup><a class="text-body-secondary small" href="#%d1%85%d1%80%d0%b0%d0%bd%d0%b8%d0%bb%d0%b8%d1%89%d0%b5-%d0%bf%d0%b0%d1%80%d0%be%d0%bb%d0%b5%d0%b9"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Git по умолчанию не сохраняет регистрационные данные для репозиториев. Эта настройка позволяет указать Git&rsquo;у использовать для хранения регистрационных данных текстовый файл <code>~/.git-credentials</code>:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-a831beb005d236ecfe3880ec216c3399">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-161dbdeb13299dd666d88a085a105238"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">git config --global credential.helper store</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-161dbdeb13299dd666d88a085a105238"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>



<h2 id="отмена-изменений">
    Отмена изменений
  <sup><a class="text-body-secondary small" href="#%d0%be%d1%82%d0%bc%d0%b5%d0%bd%d0%b0-%d0%b8%d0%b7%d0%bc%d0%b5%d0%bd%d0%b5%d0%bd%d0%b8%d0%b9"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Отмена конкретного коммита:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-0d44ccf8e486f697ed0ce4ce1d6a5296">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-e355263110bffeedd841915c7dc9b36c"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">git revert <span class="o">[</span>commit<span class="o">]</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-e355263110bffeedd841915c7dc9b36c"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<p>Отмена 2-х коммитов подряд:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-a4ecd00475f0999ff58332f803a00c51">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-192971d7c67a0af3825783afada2f0fd"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">git revert HEAD~2</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-192971d7c67a0af3825783afada2f0fd"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>



<h2 id="модули">
    Модули
  <sup><a class="text-body-secondary small" href="#%d0%bc%d0%be%d0%b4%d1%83%d0%bb%d0%b8"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Добавление модуля:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-ad9c1c8f2a5e958a72ae590f1073a830">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-45e9148cd6c8f0ce3b96b17d2939f422"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">git submodule add https://github.com/<span class="o">[</span>MODULE<span class="o">]</span> <span class="o">[</span>MODULE<span class="o">]</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-45e9148cd6c8f0ce3b96b17d2939f422"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<p>Рекурсивное обновление всех модулей:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-504cd19f5c876ce03d13d6737bb1c5f1">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-17bc04d676711ed012c5d334a09146d4"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">git submodule update --recursive --remote --merge</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-17bc04d676711ed012c5d334a09146d4"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<p>Удаление модуля:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-fd0d491c4ff3c797ae2e78233edbde73">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-87369c7be5b68b2505e0ce1741f6f489"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">git submodule deinit -f <span class="o">[</span>MODULE<span class="o">]</span>  <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  <span class="o">&amp;&amp;</span> git rm -r --cached <span class="o">[</span>MODULE<span class="o">]</span>  <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  <span class="o">&amp;&amp;</span> rm -rf .git/modules/<span class="o">[</span>MODULE<span class="o">]</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  <span class="o">&amp;&amp;</span> rm -rf <span class="o">[</span>MODULE<span class="o">]</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-87369c7be5b68b2505e0ce1741f6f489"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>



<h2 id="изменение-адреса-репозитория">
    Изменение адреса репозитория
  <sup><a class="text-body-secondary small" href="#%d0%b8%d0%b7%d0%bc%d0%b5%d0%bd%d0%b5%d0%bd%d0%b8%d0%b5-%d0%b0%d0%b4%d1%80%d0%b5%d1%81%d0%b0-%d1%80%d0%b5%d0%bf%d0%be%d0%b7%d0%b8%d1%82%d0%be%d1%80%d0%b8%d1%8f"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Показать текущий адрес:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-28fde63e19ee346f5c6d0d472eff4ed4">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-a8858a2fd07a42fb098d2304c519c37f"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">git remote -v</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-a8858a2fd07a42fb098d2304c519c37f"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<p>Установить новый адрес:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-7ff8ed82e18b2a27d7759bfcac2b0488">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-92efcba8c8b1ba2a409abecf1cde4204"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">git remote set-url origin <span class="s1">&#39;[URL]&#39;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-92efcba8c8b1ba2a409abecf1cde4204"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>]]></content:encoded><pubDate>Sat, 14 Aug 2021 15:52:38 +0000</pubDate><category>Linux</category><category>Git</category><category>Терминал</category><category>В доработке</category></item><item><title>Зеркалирование репозитория между хостингами</title><link>https://lib.onl/ru/posts/2021/07/3834fbed-71c8-5979-b6c2-236269f5ecea/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2021/07/3834fbed-71c8-5979-b6c2-236269f5ecea/</guid><description>В предыдущей статье Синхронизация репозитория от GitHub к GitLab я рассказал о том, как организовать синхронизацию между репозиториями GIT на разных хостингах, в частности, между GitHub и GitLab. В итоге, я решил сделать собственный GitHub Action, который позволяет полностью зеркалировать репозитории.</description><content:encoded><![CDATA[<p>В предыдущей статье <span class="shortcode shortcode-uuid"><a href="/ru/posts/2021/05/8544b8ce-4586-578f-9633-e8ae43441a25/">Синхронизация репозитория от GitHub к GitLab</a></span> я рассказал о том, как организовать синхронизацию между репозиториями GIT на разных хостингах, в частности, между GitHub и GitLab. В итоге, я решил сделать 






    
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


<a title="" href="https://github.com/ghastore/github-mirror" target="_blank" rel="noopener noreferrer nofollow">собственный GitHub Action</a>, который позволяет полностью зеркалировать репозитории.</p>
<h2 id="использование">
    Использование
  <sup><a class="text-body-secondary small" href="#%d0%b8%d1%81%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d0%be%d0%b2%d0%b0%d0%bd%d0%b8%d0%b5"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Для подключения зеркалирования, к примеру, с GitHub на GitLab, необходимо в исходном репозитории создать файл <code>.github/workflows/mirror.yml</code>, в котором указать следующее содержимое:</p>








  <div class="card mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-yml" id="codeblock-7bd7db79485ba24d5d0b91ba5a1e5243">
    <div class="card-header">
      <div class="d-flex align-items-center">
        <div class="flex-shrink-0">
          <i class="fas fa-file-code fa-fw"></i>
        </div>
        <div class="flex-grow-1 mx-2">
            
            <code>.github/workflows/mirror.yml</code>
        </div>
        <div class="flex-shrink-0">
          <ul class="list-inline mb-0">
            <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
              <a class="text-body" href="#"
                 data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-f1253a983395872efc99a05b425ad7ed"
                 role="button">
                <i class="fas fa-copy fa-fw"></i>
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="card-body" id="clipboard-f1253a983395872efc99a05b425ad7ed"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;Repository Mirror&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">on</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">push</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">jobs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">mirror</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l">ubuntu-latest</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;Mirror&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">pkgstore/github-action-mirror@main</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">src_repo</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;https://github.com/${{ github.repository }}.git&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">src_user</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;${{ secrets.MIRROR_SOURCE_USER_GITHUB }}&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">src_token</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;${{ secrets.MIRROR_SOURCE_TOKEN_GITHUB }}&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">dsc_repo</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;https://gitlab.com/${{ github.repository }}.git&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">dsc_user</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;${{ secrets.MIRROR_TARGET_USER_GITLAB }}&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">dsc_token</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;${{ secrets.MIRROR_TARGET_TOKEN_GITLAB }}&#34;</span></span></span></code></pre></div></div>
  </div>


<ul>
<li><code>src_repo</code> - <strong>URL</strong> исходного репозитория.</li>
<li><code>src_user</code> - <strong>пользователь</strong> исходного репозитория.</li>
<li><code>src_token</code> - <strong>токен пользователя</strong> исходного репозитория.</li>
<li><code>dsc_repo</code> - <strong>URL</strong> зеркального репозитория.</li>
<li><code>dsc_user</code> - <strong>пользователь</strong> зеркального репозитория.</li>
<li><code>dsc_token</code> - <strong>токен пользователя</strong> зеркального репозитория.</li>
</ul>
<p>В этом коде стоит обратить внимание на параметр <code>target_repo</code>. GitLab позволяет автоматически создавать репозиторий при зеркалировании, а так как у меня адреса репозиториев совпадают между GitHub и GitLab, мне гораздо проще выстроить конструкцию <code>https://gitlab.com/${{ github.repository }}.git</code>. Переменная <code>${{ github.repository }}</code> содержит имя пользователя / организации и название репозитория, и, при настройке зеркалирования репозитория на GitHub&rsquo;е, зеркало репозитория автоматически создаётся на GitLab&rsquo;е.</p>]]></content:encoded><pubDate>Tue, 06 Jul 2021 17:40:43 +0000</pubDate><category>Разработка</category></item><item><title>Генератор иконок для сайта</title><link>https://lib.onl/ru/posts/2021/05/841ba281-a22b-55ee-b97d-251a5dc111d8/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2021/05/841ba281-a22b-55ee-b97d-251a5dc111d8/</guid><description>Сделал для сайта автоматизированное создание иконок типа favicon, которыми пользуются браузеры и устройства для своих нужд.</description><content:encoded><![CDATA[<p>Сделал для сайта автоматизированное создание иконок типа <code>favicon</code>, которыми пользуются браузеры и устройства для своих нужд.</p>
<p>Я накидал 






    
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


<a title="" href="https://github.com/pkgstore/bash-tools/blob/main/favicon.sh" target="_blank" rel="noopener noreferrer nofollow">небольшой скрипт</a>, состоящий из двух функций <code>png()</code> и <code>ico()</code>. Функция <code>png()</code> берёт файл <code>favicon.svg</code> и преобразует его в PNG, указанных в массиве <code>size</code>, размеров. Функция <code>ico()</code> также берёт файл <code>favicon.svg</code> и преобразует его в формат ICO, который содержит в себе несколько размеров изображения.</p>

    

    
    
    

    
    
    
    
    
    

    <div class="shortcode shortcode-gh-file mb-3" id="sc-gh-file-8845c3222b566209a5957a7144eedc87">
      <div class="card overflow-hidden">
        <div class="card-header">
          <div class="d-flex align-items-center">
            <div class="flex-shrink-0">
              <i class="fab fa-github fa-fw"></i>
            </div>
            <div class="flex-grow-1 mx-2">
              <code>favicon.sh</code>
            </div>
            <div class="flex-shrink-0">
              <ul class="list-inline mb-0">
                <li class="list-inline-item">
                  <code>0.993 KB</code>
                </li>
                <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
                  <a class="text-body" href="#"
                     data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-cda9ca5c21c083e406ba01e599bbb1ae"
                     role="button">
                    <i class="fas fa-copy fa-fw"></i>
                  </a>
                </li>
                <li class="list-inline-item" data-bs-tooltip data-bs-title='Скачать оригинал файла'>
                  <a class="text-body" href="https://raw.githubusercontent.com/pkgstore/bash-tools/main/favicon.sh"
                     target="_blank" rel="noopener nofollow"
                     role="button">
                    <i class="fas fa-download fa-fw"></i>
                  </a>
                </li>
                <li class="list-inline-item" data-bs-tooltip data-bs-title='Открыть оригинал файла'>
                  <a class="text-body" href="https://github.com/pkgstore/bash-tools/blob/main/favicon.sh"
                     target="_blank" rel="noopener nofollow"
                     role="button">
                    <i class="fas fa-arrow-up-right-from-square fa-fw"></i>
                  </a>
                </li>
              </ul>
            </div>
          </div>
        </div>
        <div class="card-body" id="clipboard-cda9ca5c21c083e406ba01e599bbb1ae">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="cp">#!/usr/bin/bash -e
</span></span></span><span class="line"><span class="cl"><span class="cp"></span><span class="c1">#</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Generating &#39;favicon&#39; file.</span>
</span></span><span class="line"><span class="cl"><span class="c1">#</span>
</span></span><span class="line"><span class="cl"><span class="c1"># @package    Bash</span>
</span></span><span class="line"><span class="cl"><span class="c1"># @author     Kitsune Solar &lt;mail@kitsune.solar&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># @copyright  2023 iHub TO</span>
</span></span><span class="line"><span class="cl"><span class="c1"># @license    MIT</span>
</span></span><span class="line"><span class="cl"><span class="c1"># @version    0.0.1</span>
</span></span><span class="line"><span class="cl"><span class="c1"># @link       https://github.com/pkgstore</span>
</span></span><span class="line"><span class="cl"><span class="c1"># -------------------------------------------------------------------------------------------------------------------- #</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">size</span><span class="o">=(</span> <span class="m">16</span> <span class="m">24</span> <span class="m">32</span> <span class="m">48</span> <span class="m">64</span> <span class="m">72</span> <span class="m">80</span> <span class="m">96</span> <span class="m">128</span> <span class="m">144</span> <span class="m">152</span> <span class="m">167</span> <span class="m">180</span> <span class="m">192</span> <span class="m">196</span> <span class="m">256</span> <span class="m">300</span> <span class="m">512</span> <span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="nv">file_svg</span><span class="o">=</span><span class="s1">&#39;favicon.svg&#39;</span>
</span></span><span class="line"><span class="cl"><span class="nv">file_ico</span><span class="o">=</span><span class="s1">&#39;favicon.ico&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">rsvg</span><span class="o">=</span><span class="s2">&#34;</span><span class="k">$(</span> <span class="nb">command</span> -v rsvg-convert <span class="k">)</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nv">convert</span><span class="o">=</span><span class="s2">&#34;</span><span class="k">$(</span> <span class="nb">command</span> -v convert <span class="k">)</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nv">identify</span><span class="o">=</span><span class="s2">&#34;</span><span class="k">$(</span> <span class="nb">command</span> -v identify <span class="k">)</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">png<span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">  _check_file
</span></span><span class="line"><span class="cl">  <span class="k">for</span> i in <span class="s2">&#34;</span><span class="si">${</span><span class="nv">size</span><span class="p">[@]</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">;</span> <span class="k">do</span>
</span></span><span class="line"><span class="cl">    <span class="si">${</span><span class="nv">rsvg</span><span class="si">}</span> -w <span class="s2">&#34;</span><span class="si">${</span><span class="nv">i</span><span class="si">}</span><span class="s2">&#34;</span> -h <span class="s2">&#34;</span><span class="si">${</span><span class="nv">i</span><span class="si">}</span><span class="s2">&#34;</span> <span class="s2">&#34;</span><span class="si">${</span><span class="nv">file_svg</span><span class="si">}</span><span class="s2">&#34;</span> -o <span class="s2">&#34;favicon-</span><span class="si">${</span><span class="nv">i</span><span class="si">}</span><span class="s2">.png&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="k">done</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ico<span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">  _check_file
</span></span><span class="line"><span class="cl">  <span class="si">${</span><span class="nv">convert</span><span class="si">}</span> -density <span class="s1">&#39;256x256&#39;</span> -background <span class="s1">&#39;transparent&#39;</span> <span class="s2">&#34;</span><span class="si">${</span><span class="nv">file_svg</span><span class="si">}</span><span class="s2">&#34;</span> -define <span class="s1">&#39;icon:auto-resize&#39;</span> -colors <span class="s1">&#39;256&#39;</span> <span class="s2">&#34;</span><span class="si">${</span><span class="nv">file_ico</span><span class="si">}</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="si">${</span><span class="nv">identify</span><span class="si">}</span> <span class="s2">&#34;</span><span class="si">${</span><span class="nv">file_ico</span><span class="si">}</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">_check_file<span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">  <span class="o">[[</span> -f <span class="s2">&#34;</span><span class="si">${</span><span class="nv">file_svg</span><span class="si">}</span><span class="s2">&#34;</span> <span class="o">]]</span> <span class="o">||</span> <span class="o">{</span> <span class="nb">printf</span> <span class="s1">&#39;%s does not exist!\n&#39;</span> <span class="s2">&#34;</span><span class="si">${</span><span class="nv">file_svg</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">;</span> <span class="nb">exit</span> 1<span class="p">;</span> <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="s2">&#34;</span><span class="nv">$@</span><span class="s2">&#34;</span>
</span></span></code></pre></div>
        </div>
      </div>
    </div>

<h2 id="использование">
    Использование
  <sup><a class="text-body-secondary small" href="#%d0%b8%d1%81%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d0%be%d0%b2%d0%b0%d0%bd%d0%b8%d0%b5"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Для работы скрипта необходимо, чтобы в системе были установлены <strong>RSVG</strong> и <strong>ImageMagick</strong>. Скрипт можно сохранить с произвольным именем, например, <code>favicon.sh</code> в директорию, где находится изображение <code>favicon.svg</code>. Далее, вызывать функции следующим образом:</p>






<div class="card mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux"
     id="codeblock-0e884b2ecbc4c10f062b2733017a4b6a" data-bs-theme="dark">
  <div class="card-header">
    <div class="d-flex align-items-center">
      <div class="flex-shrink-0 ">
        <i class="fas fa-terminal fa-fw"></i>
      </div>
      <div class="flex-grow-1 mx-2">
        <h5 class="mb-0">Терминал</h5>
      </div>
      <div class="flex-shrink-0">
        <ul class="list-inline mb-0">
          <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
            <a class="text-body" href="#"
               data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-5a3ac01fad5a10380ed758f8f403df50"
               role="button">
              <i class="fas fa-copy fa-fw"></i>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="card-body p-0" id="clipboard-5a3ac01fad5a10380ed758f8f403df50"><pre tabindex="0"><code class="language-terminal" data-lang="terminal">bash favicon.sh png</code></pre></div>
</div>






<div class="card mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux"
     id="codeblock-575ac2bdb6865bde809e4cafb8450b94" data-bs-theme="dark">
  <div class="card-header">
    <div class="d-flex align-items-center">
      <div class="flex-shrink-0 ">
        <i class="fas fa-terminal fa-fw"></i>
      </div>
      <div class="flex-grow-1 mx-2">
        <h5 class="mb-0">Терминал</h5>
      </div>
      <div class="flex-shrink-0">
        <ul class="list-inline mb-0">
          <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
            <a class="text-body" href="#"
               data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-f8cdf88226bdee205f308cf51f1f407d"
               role="button">
              <i class="fas fa-copy fa-fw"></i>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="card-body p-0" id="clipboard-f8cdf88226bdee205f308cf51f1f407d"><pre tabindex="0"><code class="language-terminal" data-lang="terminal">bash favicon.sh ico</code></pre></div>
</div>
<p>Скрипт ищет файл <code>favicon.svg</code> и преобразует его в необходимые изображения.</p>]]></content:encoded><pubDate>Tue, 18 May 2021 07:41:46 +0000</pubDate><category>Разработка</category></item><item><title>Обновление Fedora Linux до актуальной версии</title><link>https://lib.onl/ru/posts/2021/05/0acd3f9d-07b7-52b8-9fac-b5cb1cc579e0/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2021/05/0acd3f9d-07b7-52b8-9fac-b5cb1cc579e0/</guid><description>Новые версии Fedora публикуются каждые 6-8 месяцев. В этой статье я опишу шаги по обновлению дистрибутива между версиями.</description><content:encoded><![CDATA[<p>Новые версии Fedora публикуются каждые 6-8 месяцев. В этой статье я опишу шаги по обновлению дистрибутива между версиями.</p>
<ol>
<li>Устанавливаем плагин обновления системы:</li>
</ol>






<div class="card mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux-root"
     id="codeblock-87d4a1a0f3654688998ac4cfd289db6c" data-bs-theme="dark">
  <div class="card-header">
    <div class="d-flex align-items-center">
      <div class="flex-shrink-0 text-danger">
        <i class="fas fa-terminal fa-fw"></i>
      </div>
      <div class="flex-grow-1 mx-2">
        <h5 class="mb-0">Терминал</h5>
      </div>
      <div class="flex-shrink-0">
        <ul class="list-inline mb-0">
          <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
            <a class="text-body" href="#"
               data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-2f20893f331851db83f001be92d759a3"
               role="button">
              <i class="fas fa-copy fa-fw"></i>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="card-body p-0" id="clipboard-2f20893f331851db83f001be92d759a3"><pre tabindex="0"><code class="language-terminal" data-lang="terminal">dnf install dnf-plugin-system-upgrade</code></pre></div>
</div>
<ol start="2">
<li>Скачивание актуальной версии системы:</li>
</ol>






<div class="card mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux-root"
     id="codeblock-90296697aa6f6c45fe5feacc8a6c17e9" data-bs-theme="dark">
  <div class="card-header">
    <div class="d-flex align-items-center">
      <div class="flex-shrink-0 text-danger">
        <i class="fas fa-terminal fa-fw"></i>
      </div>
      <div class="flex-grow-1 mx-2">
        <h5 class="mb-0">Терминал</h5>
      </div>
      <div class="flex-shrink-0">
        <ul class="list-inline mb-0">
          <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
            <a class="text-body" href="#"
               data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-fe972d7fa5c55d00ca2f0af96bf2007f"
               role="button">
              <i class="fas fa-copy fa-fw"></i>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="card-body p-0" id="clipboard-fe972d7fa5c55d00ca2f0af96bf2007f"><pre tabindex="0"><code class="language-terminal" data-lang="terminal">dnf system-upgrade download --releasever=34</code></pre></div>
</div>
<ul>
<li><code>releasever</code> - номер актуальной версии системы.</li>
</ul>
<ol start="3">
<li>Запуск обновления системы на актуальную версию:</li>
</ol>






<div class="card mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux-root"
     id="codeblock-4f0276e607dfeaa5759d3ae06cbf2a0a" data-bs-theme="dark">
  <div class="card-header">
    <div class="d-flex align-items-center">
      <div class="flex-shrink-0 text-danger">
        <i class="fas fa-terminal fa-fw"></i>
      </div>
      <div class="flex-grow-1 mx-2">
        <h5 class="mb-0">Терминал</h5>
      </div>
      <div class="flex-shrink-0">
        <ul class="list-inline mb-0">
          <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
            <a class="text-body" href="#"
               data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-092d0c22138f4faa386dcee222a57e6e"
               role="button">
              <i class="fas fa-copy fa-fw"></i>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="card-body p-0" id="clipboard-092d0c22138f4faa386dcee222a57e6e"><pre tabindex="0"><code class="language-terminal" data-lang="terminal">dnf system-upgrade reboot</code></pre></div>
</div>
<p>Вот и всё. Система обновит пакетную базу и перезагрузится.</p>]]></content:encoded><pubDate>Sat, 15 May 2021 20:29:16 +0000</pubDate><category>Терминал</category><category>Linux</category></item><item><title>Настройка статического IP адреса</title><link>https://lib.onl/ru/posts/2021/05/ee559a6c-5cde-5166-9d2d-3ceb55878eb8/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2021/05/ee559a6c-5cde-5166-9d2d-3ceb55878eb8/</guid><description>Рассмотрим различные способы настройки статического IP адреса в дистрибутивах Linux. Способы различаются в зависимости от пакетной базы дистрибутивов. Например, настройка статического IP в RHEL-based дистрибутиве будет отличаться от настройки в DEB-based дистрибутиве.</description><content:encoded><![CDATA[<p>Рассмотрим различные способы настройки статического IP адреса в дистрибутивах Linux. Способы различаются в зависимости от пакетной базы дистрибутивов. Например, настройка статического IP в RHEL-based дистрибутиве будет отличаться от настройки в DEB-based дистрибутиве.</p>
<h2 id="подготовка">
    Подготовка
  <sup><a class="text-body-secondary small" href="#%d0%bf%d0%be%d0%b4%d0%b3%d0%be%d1%82%d0%be%d0%b2%d0%ba%d0%b0"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Смотрим текущие сетевые устройства и соединения:</p>






<div class="card mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux-root"
     id="codeblock-04ec18bb6fc45d6245d1dc1bd674f649" data-bs-theme="dark">
  <div class="card-header">
    <div class="d-flex align-items-center">
      <div class="flex-shrink-0 text-danger">
        <i class="fas fa-terminal fa-fw"></i>
      </div>
      <div class="flex-grow-1 mx-2">
        <h5 class="mb-0">Терминал</h5>
      </div>
      <div class="flex-shrink-0">
        <ul class="list-inline mb-0">
          <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
            <a class="text-body" href="#"
               data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-2296e38d5aecd0c50e21b62c1b1f3cb0"
               role="button">
              <i class="fas fa-copy fa-fw"></i>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="card-body p-0" id="clipboard-2296e38d5aecd0c50e21b62c1b1f3cb0"><pre tabindex="0"><code class="language-terminal" data-lang="terminal">ip a

1: lo: &lt;loopback,up,lower_up&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
  link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
  inet 127.0.0.1/8 scope host lo
2: enp1s0: &lt;broadcast,multicast,up,lower_up&gt; mtu 1500 qdisc fq_codel state UP group default qlen 1000
  link/ether xx:xx:xx:xx:xx:xx brd ff:ff:ff:ff:ff:ff
  inet 192.168.10.123/24 brd 192.168.10.255 scope global dynamic noprefixroute enp1s0</code></pre></div>
</div>

<h2 id="настройка-ip-в-rhel-based-дистрибутивах">
    Настройка IP в RHEL-based дистрибутивах
  <sup><a class="text-body-secondary small" href="#%d0%bd%d0%b0%d1%81%d1%82%d1%80%d0%be%d0%b9%d0%ba%d0%b0-ip-%d0%b2-rhel-based-%d0%b4%d0%b8%d1%81%d1%82%d1%80%d0%b8%d0%b1%d1%83%d1%82%d0%b8%d0%b2%d0%b0%d1%85"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>В директории <code>/etc/sysconfig/network-scripts</code> находятся конфигурационные файлы для сетевых интерфейсов. Имя файла состоит из префикса <code>ifcfg</code> и имени интерфейса. Например, содержимое файла для интерфейса <code>enp1s0</code>:</p>






<div class="card mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux-root"
     id="codeblock-b29d7e1d3b9e09436929dc0b16e1320b" data-bs-theme="dark">
  <div class="card-header">
    <div class="d-flex align-items-center">
      <div class="flex-shrink-0 text-danger">
        <i class="fas fa-terminal fa-fw"></i>
      </div>
      <div class="flex-grow-1 mx-2">
        <h5 class="mb-0">Терминал</h5>
      </div>
      <div class="flex-shrink-0">
        <ul class="list-inline mb-0">
          <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
            <a class="text-body" href="#"
               data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-dc8f3117190e18ee437ae0945d635bd3"
               role="button">
              <i class="fas fa-copy fa-fw"></i>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="card-body p-0" id="clipboard-dc8f3117190e18ee437ae0945d635bd3"><pre tabindex="0"><code class="language-terminal" data-lang="terminal">cat /etc/sysconfig/network-scripts/ifcfg-enp1s0

TYPE=&#34;Ethernet&#34;
PROXY_METHOD=&#34;none&#34;
BROWSER_ONLY=&#34;no&#34;
BOOTPROTO=&#34;dhcp&#34;
DEFROUTE=&#34;yes&#34;
IPV4_FAILURE_FATAL=&#34;no&#34;
IPV6INIT=&#34;yes&#34;
IPV6_AUTOCONF=&#34;yes&#34;
IPV6_DEFROUTE=&#34;yes&#34;
IPV6_FAILURE_FATAL=&#34;no&#34;
IPV6_ADDR_GEN_MODE=&#34;stable-privacy&#34;
NAME=&#34;enp1s0&#34;
UUID=&#34;&lt;DEVICE_ID&gt;&#34;
DEVICE=&#34;enp1s0&#34;
ONBOOT=&#34;yes&#34;</code></pre></div>
</div>
<p>Обратим внимание на опцию <strong>BOOTPROTO</strong>. По умолчанию, в опции <strong>BOOTPROTO</strong> прописано <code>dhcp</code>. Это означает, что сетевой интерфейс получает информацию о сети автоматически от DHCP. Сама опция <strong>BOOTPROTO</strong> может принимать следующие значения:</p>
<ul>
<li><code>none</code> – не использовать протокол.</li>
<li><code>bootp</code> – использование протокола <strong>bootp</strong>.</li>
<li><code>dhcp</code> – использование протокола <strong>dhcp</strong> (по умолчанию).</li>
</ul>
<p>Для настройки статического IP необходимо установит <strong>BOOTPROTO</strong> в <code>none</code> и дописать в конец файла опции:</p>
<ul>
<li><code>IPADDR</code> - IP адрес.</li>
<li><code>PREFIX</code> - маска сети.</li>
<li><code>GATEWAY</code> - шлюз сети.</li>
<li><code>DNS</code> - серверы DNS.</li>
</ul>
<p>Например:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-ini" id="codeblock-0f18d1f9103fedddac00f9e5d6689d15">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-987f3573c38f50d64aad8cfa4631b341"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ini" data-lang="ini"><span class="line"><span class="cl"><span class="na">TYPE</span><span class="o">=</span><span class="s">&#34;Ethernet&#34;</span>
</span></span><span class="line"><span class="cl"><span class="na">PROXY_METHOD</span><span class="o">=</span><span class="s">&#34;none&#34;</span>
</span></span><span class="line"><span class="cl"><span class="na">BROWSER_ONLY</span><span class="o">=</span><span class="s">&#34;no&#34;</span>
</span></span><span class="line"><span class="cl"><span class="na">BOOTPROTO</span><span class="o">=</span><span class="s">&#34;none&#34;</span>
</span></span><span class="line"><span class="cl"><span class="na">DEFROUTE</span><span class="o">=</span><span class="s">&#34;yes&#34;</span>
</span></span><span class="line"><span class="cl"><span class="na">IPV4_FAILURE_FATAL</span><span class="o">=</span><span class="s">&#34;no&#34;</span>
</span></span><span class="line"><span class="cl"><span class="na">IPV6INIT</span><span class="o">=</span><span class="s">&#34;yes&#34;</span>
</span></span><span class="line"><span class="cl"><span class="na">IPV6_AUTOCONF</span><span class="o">=</span><span class="s">&#34;yes&#34;</span>
</span></span><span class="line"><span class="cl"><span class="na">IPV6_DEFROUTE</span><span class="o">=</span><span class="s">&#34;yes&#34;</span>
</span></span><span class="line"><span class="cl"><span class="na">IPV6_FAILURE_FATAL</span><span class="o">=</span><span class="s">&#34;no&#34;</span>
</span></span><span class="line"><span class="cl"><span class="na">IPV6_ADDR_GEN_MODE</span><span class="o">=</span><span class="s">&#34;stable-privacy&#34;</span>
</span></span><span class="line"><span class="cl"><span class="na">NAME</span><span class="o">=</span><span class="s">&#34;enp1s0&#34;</span>
</span></span><span class="line"><span class="cl"><span class="na">UUID</span><span class="o">=</span><span class="s">&#34;&lt;DEVICE_ID&gt;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="na">DEVICE</span><span class="o">=</span><span class="s">&#34;enp1s0&#34;</span>
</span></span><span class="line"><span class="cl"><span class="na">ONBOOT</span><span class="o">=</span><span class="s">&#34;yes&#34;</span>
</span></span><span class="line"><span class="cl"><span class="na">IPADDR</span><span class="o">=</span><span class="s">&#34;192.168.10.55&#34;</span>
</span></span><span class="line"><span class="cl"><span class="na">PREFIX</span><span class="o">=</span><span class="s">&#34;24&#34;</span>
</span></span><span class="line"><span class="cl"><span class="na">GATEWAY</span><span class="o">=</span><span class="s">&#34;192.168.10.1&#34;</span>
</span></span><span class="line"><span class="cl"><span class="na">DNS1</span><span class="o">=</span><span class="s">&#34;192.168.11.1&#34;</span>
</span></span><span class="line"><span class="cl"><span class="na">DNS1</span><span class="o">=</span><span class="s">&#34;192.168.12.1&#34;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-987f3573c38f50d64aad8cfa4631b341"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<p>После указания всех параметров, необходимо перезапустить интерфейс:</p>






<div class="card mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux-root"
     id="codeblock-1cab90e52ea1d08a17ba2edb5c8eba04" data-bs-theme="dark">
  <div class="card-header">
    <div class="d-flex align-items-center">
      <div class="flex-shrink-0 text-danger">
        <i class="fas fa-terminal fa-fw"></i>
      </div>
      <div class="flex-grow-1 mx-2">
        <h5 class="mb-0">Терминал</h5>
      </div>
      <div class="flex-shrink-0">
        <ul class="list-inline mb-0">
          <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
            <a class="text-body" href="#"
               data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-f4ebeb0ba83deb0008931f8d372d02c9"
               role="button">
              <i class="fas fa-copy fa-fw"></i>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="card-body p-0" id="clipboard-f4ebeb0ba83deb0008931f8d372d02c9"><pre tabindex="0"><code class="language-terminal" data-lang="terminal">nmcli con down enp1s0 &amp;&amp; nmcli con up enp1s0</code></pre></div>
</div>

<h2 id="настройка-ip-при-помощи-network-manager-cli-nmcli">
    Настройка IP при помощи Network Manager CLI (nmcli)
  <sup><a class="text-body-secondary small" href="#%d0%bd%d0%b0%d1%81%d1%82%d1%80%d0%be%d0%b9%d0%ba%d0%b0-ip-%d0%bf%d1%80%d0%b8-%d0%bf%d0%be%d0%bc%d0%be%d1%89%d0%b8-network-manager-cli-nmcli"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Установка IP адреса:</p>






<div class="card mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux-root"
     id="codeblock-7d4095d4fb521c8095eb6b0c074c67f1" data-bs-theme="dark">
  <div class="card-header">
    <div class="d-flex align-items-center">
      <div class="flex-shrink-0 text-danger">
        <i class="fas fa-terminal fa-fw"></i>
      </div>
      <div class="flex-grow-1 mx-2">
        <h5 class="mb-0">Терминал</h5>
      </div>
      <div class="flex-shrink-0">
        <ul class="list-inline mb-0">
          <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
            <a class="text-body" href="#"
               data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-43ad70ddc64dd8aa7d028cfaf1f00ff2"
               role="button">
              <i class="fas fa-copy fa-fw"></i>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="card-body p-0" id="clipboard-43ad70ddc64dd8aa7d028cfaf1f00ff2"><pre tabindex="0"><code class="language-terminal" data-lang="terminal">nmcli con mod enp1s0 ipv4.addresses &#39;192.168.10.55/24&#39;</code></pre></div>
</div>
<p>Установка шлюза:</p>






<div class="card mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux-root"
     id="codeblock-558524b2ec2a42b8f5378f70671454bc" data-bs-theme="dark">
  <div class="card-header">
    <div class="d-flex align-items-center">
      <div class="flex-shrink-0 text-danger">
        <i class="fas fa-terminal fa-fw"></i>
      </div>
      <div class="flex-grow-1 mx-2">
        <h5 class="mb-0">Терминал</h5>
      </div>
      <div class="flex-shrink-0">
        <ul class="list-inline mb-0">
          <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
            <a class="text-body" href="#"
               data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-b72e40bae36ea7d68ed78658ec828ea7"
               role="button">
              <i class="fas fa-copy fa-fw"></i>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="card-body p-0" id="clipboard-b72e40bae36ea7d68ed78658ec828ea7"><pre tabindex="0"><code class="language-terminal" data-lang="terminal">nmcli con mod enp1s0 ipv4.gateway &#39;192.168.10.1&#39;</code></pre></div>
</div>
<p>Установка DNS:</p>






<div class="card mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux-root"
     id="codeblock-b37205ad7a4b26b9ce3590756922cdc9" data-bs-theme="dark">
  <div class="card-header">
    <div class="d-flex align-items-center">
      <div class="flex-shrink-0 text-danger">
        <i class="fas fa-terminal fa-fw"></i>
      </div>
      <div class="flex-grow-1 mx-2">
        <h5 class="mb-0">Терминал</h5>
      </div>
      <div class="flex-shrink-0">
        <ul class="list-inline mb-0">
          <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
            <a class="text-body" href="#"
               data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-092ae0ecd111f2b4a4c3ea323f7cf1c0"
               role="button">
              <i class="fas fa-copy fa-fw"></i>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="card-body p-0" id="clipboard-092ae0ecd111f2b4a4c3ea323f7cf1c0"><pre tabindex="0"><code class="language-terminal" data-lang="terminal">nmcli con mod enp1s0 ipv4.dns &#39;192.168.11.1&#39;</code></pre></div>
</div>
<p>Установка <strong>BOOTPROTO</strong> в <code>none</code>:</p>






<div class="card mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux-root"
     id="codeblock-f5da4f7ee987cc9639dbb419a033659f" data-bs-theme="dark">
  <div class="card-header">
    <div class="d-flex align-items-center">
      <div class="flex-shrink-0 text-danger">
        <i class="fas fa-terminal fa-fw"></i>
      </div>
      <div class="flex-grow-1 mx-2">
        <h5 class="mb-0">Терминал</h5>
      </div>
      <div class="flex-shrink-0">
        <ul class="list-inline mb-0">
          <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
            <a class="text-body" href="#"
               data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-d4a370d346eea1c0968a026907f31eae"
               role="button">
              <i class="fas fa-copy fa-fw"></i>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="card-body p-0" id="clipboard-d4a370d346eea1c0968a026907f31eae"><pre tabindex="0"><code class="language-terminal" data-lang="terminal">nmcli con mod enp1s0 ipv4.method &#39;manual&#39;</code></pre></div>
</div>
<p>Перезапуск интерфейса:</p>






<div class="card mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux-root"
     id="codeblock-bbef9a5bd98516ede695dfa40d9e4034" data-bs-theme="dark">
  <div class="card-header">
    <div class="d-flex align-items-center">
      <div class="flex-shrink-0 text-danger">
        <i class="fas fa-terminal fa-fw"></i>
      </div>
      <div class="flex-grow-1 mx-2">
        <h5 class="mb-0">Терминал</h5>
      </div>
      <div class="flex-shrink-0">
        <ul class="list-inline mb-0">
          <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
            <a class="text-body" href="#"
               data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-1dba8e7c4b367201c96f28d93c024be2"
               role="button">
              <i class="fas fa-copy fa-fw"></i>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="card-body p-0" id="clipboard-1dba8e7c4b367201c96f28d93c024be2"><pre tabindex="0"><code class="language-terminal" data-lang="terminal">nmcli con down enp1s0 &amp;&amp; nmcli con up enp1s0</code></pre></div>
</div>]]></content:encoded><pubDate>Sat, 15 May 2021 17:08:30 +0000</pubDate><category>Терминал</category><category>Linux</category><category>Сеть</category><category>В доработке</category></item><item><title>Перезагрузка и выключение Linux</title><link>https://lib.onl/ru/posts/2021/05/86db7f3a-17ce-502b-b21d-337c3bba5d58/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2021/05/86db7f3a-17ce-502b-b21d-337c3bba5d58/</guid><description>Нередко приходится завершать работу системы через терминал, например, когда компьютер является удалённой рабочей станцией или сервером и вся работа происходит через терминал. В этой статье я постараюсь привести информацию о командах, позволяющих удалённо завершить работу системы.</description><content:encoded><![CDATA[<p>Нередко приходится завершать работу системы через терминал, например, когда компьютер является удалённой рабочей станцией или сервером и вся работа происходит через терминал. В этой статье я постараюсь привести информацию о командах, позволяющих удалённо завершить работу системы.</p>
<h2 id="halt--poweroff--reboot">
    halt / poweroff / reboot
  <sup><a class="text-body-secondary small" href="#halt--poweroff--reboot"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Старые команды по управлению питанием системы. Опции у этих команд одинаковые. Отдаются команды из под пользователя <strong>root</strong>. Команда <code>halt</code> приостанавливает все функции CPU, но сам ПК остаётся включённым. Команда <code>poweroff</code> отключает питание ПК, посылая сигнал по ACPI. Команда <code>reboot</code> даёт команду системе на перезагрузку.</p>







<div class="shortcode shortcode-alert">
  <div class="alert alert-success d-flex" role="alert">
    <div class="flex-shrink-0 align-self-center">
      <i class="fas fa-lightbulb fa-fw fa-2x"></i>
    </div>
    <div class="flex-grow-1 ms-3">
        <p>Команда <code>halt</code> в современных ОС полностью прекращает работу системы. На системах с <strong>systemd</strong> команда <code>halt</code> является устаревшей и представляет собой символьную ссылку на утилиту <code>systemctl</code>.</p>

    </div>
  </div>
</div>

<p>Предпочтительнее использовать команду <code>shutdown</code>, о которой я расскажу ниже.</p>

<h3 id="синтаксис">
    Синтаксис
  <sup><a class="text-body-secondary small" href="#%d1%81%d0%b8%d0%bd%d1%82%d0%b0%d0%ba%d1%81%d0%b8%d1%81"><i class="fas fa-link fa-fw"></i></a></sup>
</h3>







  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-text" id="codeblock-b1f8272cc9a3ffea3e521046051f5da9">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-165c0b23d6076758e80a5d10ccf02d89"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">halt [OPTION]
</span></span><span class="line"><span class="cl">poweroff [OPTION]
</span></span><span class="line"><span class="cl">reboot [OPTION]</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-165c0b23d6076758e80a5d10ccf02d89"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>



<h4 id="некоторые-опции">
    Некоторые опции
  <sup><a class="text-body-secondary small" href="#%d0%bd%d0%b5%d0%ba%d0%be%d1%82%d0%be%d1%80%d1%8b%d0%b5-%d0%be%d0%bf%d1%86%d0%b8%d0%b8"><i class="fas fa-link fa-fw"></i></a></sup>
</h4><ul>
<li><code>-f</code> - принудительное выполнение команды.</li>
<li><code>-p</code> - сообщает команде <code>halt</code> действовать как <code>poweroff</code>.</li>
<li><code>-w</code> - не выполнять никакие действия, только записать в журнал <code>/var/log/wtmp</code> сообщение о завершении работы.</li>
</ul>

<h2 id="shutdown">
    shutdown
  <sup><a class="text-body-secondary small" href="#shutdown"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>За остановку работы ПК отвечает команда <code>shutdown</code>. Она поддерживает несколько опций, через которые задаётся определённое действие. К примеру:</p>
<ul>
<li><code>-r</code> - перезагрузка.</li>
<li><code>-h</code> - выключение.</li>
<li><code>-c</code> - отмена запланированных действий на перезагрузку или выключение.</li>
</ul>
<p>Для запланированной перезагрузки ПК через 1 минуту используется опция <code>-r</code>:</p>






<div class="card mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux-root"
     id="codeblock-f481fbb648aa4844c35d35d3b8ec2f1b" data-bs-theme="dark">
  <div class="card-header">
    <div class="d-flex align-items-center">
      <div class="flex-shrink-0 text-danger">
        <i class="fas fa-terminal fa-fw"></i>
      </div>
      <div class="flex-grow-1 mx-2">
        <h5 class="mb-0">Терминал</h5>
      </div>
      <div class="flex-shrink-0">
        <ul class="list-inline mb-0">
          <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
            <a class="text-body" href="#"
               data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-4a030b1a44755d246dfdefc0bdd722f7"
               role="button">
              <i class="fas fa-copy fa-fw"></i>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="card-body p-0" id="clipboard-4a030b1a44755d246dfdefc0bdd722f7"><pre tabindex="0"><code class="language-terminal" data-lang="terminal">shutdown -r</code></pre></div>
</div>
<p>Команда <code>shutdown</code> поддерживает указание времени, когда ПК должен быть перезагружен или выключен. К примеру, перезагрузить через 5 минут:</p>






<div class="card mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux-root"
     id="codeblock-ff0958f049c4da2851559f0edc33257d" data-bs-theme="dark">
  <div class="card-header">
    <div class="d-flex align-items-center">
      <div class="flex-shrink-0 text-danger">
        <i class="fas fa-terminal fa-fw"></i>
      </div>
      <div class="flex-grow-1 mx-2">
        <h5 class="mb-0">Терминал</h5>
      </div>
      <div class="flex-shrink-0">
        <ul class="list-inline mb-0">
          <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
            <a class="text-body" href="#"
               data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-9f220c6301d194429bd05af3b0234b9d"
               role="button">
              <i class="fas fa-copy fa-fw"></i>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="card-body p-0" id="clipboard-9f220c6301d194429bd05af3b0234b9d"><pre tabindex="0"><code class="language-terminal" data-lang="terminal">shutdown -r +5</code></pre></div>
</div>
<p>Также можно указать конкретное время для перезагрузки. Например, перезагрузить ПК в 18:30:</p>






<div class="card mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux-root"
     id="codeblock-d8298878bf7e030e67a3f318fc7692e8" data-bs-theme="dark">
  <div class="card-header">
    <div class="d-flex align-items-center">
      <div class="flex-shrink-0 text-danger">
        <i class="fas fa-terminal fa-fw"></i>
      </div>
      <div class="flex-grow-1 mx-2">
        <h5 class="mb-0">Терминал</h5>
      </div>
      <div class="flex-shrink-0">
        <ul class="list-inline mb-0">
          <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
            <a class="text-body" href="#"
               data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-44acc3bcc2384f5c72a21ba24efaa549"
               role="button">
              <i class="fas fa-copy fa-fw"></i>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="card-body p-0" id="clipboard-44acc3bcc2384f5c72a21ba24efaa549"><pre tabindex="0"><code class="language-terminal" data-lang="terminal">shutdown -r 18:30</code></pre></div>
</div>
<p>Если перезагрузка или выключение уже запланированы, их можно отменить опцией <code>-c</code>:</p>






<div class="card mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux-root"
     id="codeblock-9c3701906bf1da2651004a14b95b7986" data-bs-theme="dark">
  <div class="card-header">
    <div class="d-flex align-items-center">
      <div class="flex-shrink-0 text-danger">
        <i class="fas fa-terminal fa-fw"></i>
      </div>
      <div class="flex-grow-1 mx-2">
        <h5 class="mb-0">Терминал</h5>
      </div>
      <div class="flex-shrink-0">
        <ul class="list-inline mb-0">
          <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
            <a class="text-body" href="#"
               data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-bcec9d5c48d66dfc6a1b570016ea3df4"
               role="button">
              <i class="fas fa-copy fa-fw"></i>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="card-body p-0" id="clipboard-bcec9d5c48d66dfc6a1b570016ea3df4"><pre tabindex="0"><code class="language-terminal" data-lang="terminal">shutdown -c</code></pre></div>
</div>
<p>Для немедленной перезагрузки ПК, вместо времени можно ввести <code>now</code>:</p>






<div class="card mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux-root"
     id="codeblock-357d9f115bc1ae43a801d77e46c71462" data-bs-theme="dark">
  <div class="card-header">
    <div class="d-flex align-items-center">
      <div class="flex-shrink-0 text-danger">
        <i class="fas fa-terminal fa-fw"></i>
      </div>
      <div class="flex-grow-1 mx-2">
        <h5 class="mb-0">Терминал</h5>
      </div>
      <div class="flex-shrink-0">
        <ul class="list-inline mb-0">
          <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
            <a class="text-body" href="#"
               data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-bfc6f663de4f70ea7c973e009d1cd447"
               role="button">
              <i class="fas fa-copy fa-fw"></i>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="card-body p-0" id="clipboard-bfc6f663de4f70ea7c973e009d1cd447"><pre tabindex="0"><code class="language-terminal" data-lang="terminal">shutdown -r now</code></pre></div>
</div>
<p>Чтобы выключить ПК через 1 минуту, используется опция <code>-h</code>:</p>






<div class="card mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux-root"
     id="codeblock-2161fa90032d4a7ebfcfb859ea20ad8a" data-bs-theme="dark">
  <div class="card-header">
    <div class="d-flex align-items-center">
      <div class="flex-shrink-0 text-danger">
        <i class="fas fa-terminal fa-fw"></i>
      </div>
      <div class="flex-grow-1 mx-2">
        <h5 class="mb-0">Терминал</h5>
      </div>
      <div class="flex-shrink-0">
        <ul class="list-inline mb-0">
          <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
            <a class="text-body" href="#"
               data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-ca0fd999cd57932963c59615c923ed0c"
               role="button">
              <i class="fas fa-copy fa-fw"></i>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="card-body p-0" id="clipboard-ca0fd999cd57932963c59615c923ed0c"><pre tabindex="0"><code class="language-terminal" data-lang="terminal">shutdown -h</code></pre></div>
</div>
<p>На этом всё, ничего сложного нет. 😄</p>]]></content:encoded><pubDate>Wed, 12 May 2021 14:20:47 +0000</pubDate><category>Терминал</category><category>Linux</category></item><item><title>Рекурсивное изменение прав доступа на файлы и директории</title><link>https://lib.onl/ru/posts/2021/05/4a3b0a31-0d3d-5a9b-8c07-7e3b4f80669e/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2021/05/4a3b0a31-0d3d-5a9b-8c07-7e3b4f80669e/</guid><description>Права доступа к файлам и директориям является неотъемлемой частью любой операционной системы. И в этой статье описаны возможности по рекурсивной настройке этих прав доступа.</description><content:encoded><![CDATA[<p>Права доступа к файлам и директориям является неотъемлемой частью любой операционной системы. И в этой статье описаны возможности по рекурсивной настройке этих прав доступа.</p>
<p>Изменение прав доступа осуществляется при помощи команды <code>chmod</code>, рекурсивное при добавлении опции <code>-R</code>:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-c34af46a36eef74ed3ab2786df793970">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-f956e8a44a9e3af674cada866723e46a"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">chmod -R MODE DIR</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-f956e8a44a9e3af674cada866723e46a"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ul>
<li><code>-R</code> - рекурсивный обход директорий и файлов.</li>
<li><code>MODE</code> - набор прав доступа для их установки.</li>
<li><code>DIR</code> - файл или директория, у которых необходимо установить определённые права доступа.</li>
</ul>
<p>В итоге, команда должна выглядеть так:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-78dcf83580953c81461fb585f96fa2df">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-be7762b5f8fc011c09159ce94f64f5b7"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">chmod -R <span class="m">755</span> /var/www/html</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-be7762b5f8fc011c09159ce94f64f5b7"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<p>Но, стоит учитывать, что таким образом директории и файлы примут одинаковые права доступа. Чтобы избежать этого, можно воспользоваться командой <code>find</code>, которая отфильтрует директории и файлы друг от друга:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-db3b5176a8c6ef8dc0f426a95f0b9f1e">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-bfb4613b853c66ba5ed158b8874934a1"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">find /var/www/html -type d -exec chmod <span class="m">755</span> <span class="o">{}</span> <span class="se">\;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-bfb4613b853c66ba5ed158b8874934a1"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>










  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-2ada7f59e53bc69685200251758f16e4">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-e546fa432f5c07f5a325c03212498d83"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">find /var/www/html -type f -exec chmod <span class="m">644</span> <span class="o">{}</span> <span class="se">\;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-e546fa432f5c07f5a325c03212498d83"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<p>Команда <code>find</code> ищет директории (<code>-type d</code>) и файлы (<code>-type f</code>) и скармливает их команде <code>chmod</code>, а та, в свою очередь, уже расставляет права доступа. При использовании <code>-exec</code>, <code>chmod</code> выполняется для каждого найденного элемента поочерёдно. Можно оптимизировать и записать с использованием <code>xargs</code>:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-fa11c6448484c27cb178f5f59125b928">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-51bfac04e4d32a0e61b57e5cbf8c30e3"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">find /var/www/html -type d -print0 <span class="p">|</span> xargs -0 chmod <span class="m">755</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-51bfac04e4d32a0e61b57e5cbf8c30e3"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>










  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-555751fb92eed6b000a9d269c89e4442">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-bd36a3f5c8b5ed4a52e2fff1d4641503"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">find /var/www/html -type f -print0 <span class="p">|</span> xargs -0 chmod <span class="m">644</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-bd36a3f5c8b5ed4a52e2fff1d4641503"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<p>При <code>xargs</code>, <code>chmod</code> выполняется сразу для нескольких записей одновременно, как сообщает <strong>Daniel Miessler</strong>:</p>

    

    <div class="shortcode shortcode-quote">
      <figure>
        <blockquote class="blockquote">
            <p>This is where -exec breaks down and xargs shows its superiority. When you use -exec to do the work you run a separate instance of the called program for each element of input. So if find comes up with 10,000 results, you run exec 10,000 times. With xargs, you build up the input into bundles and run them through the command as few times as possible, which is often just once. When dealing with hundreds or thousands of elements this is a big win for xargs.</p>

        </blockquote>
          
            <figcaption class="blockquote-footer">
              <cite>
                  
                    <a href="https://danielmiessler.com/blog/linux-xargs-vs-exec/" target="_blank" rel="noopener nofollow">Daniel Miessler</a>
                  
              </cite>
            </figcaption>
          
      </figure>
    </div>
<p>Если необходимо запустить рекурсивное изменение прав доступа начиная с текущей директории, то <code>/var/www/html</code> необходимо поменять на точку:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-7307c20f2184cacce36ab86a11a1a741">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-39708c0356183b209a14a21668c20ad8"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">find . -type d -print0 <span class="p">|</span> xargs -0 chmod <span class="m">755</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-39708c0356183b209a14a21668c20ad8"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>










  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-3af9280854f3937522d4b4f262f786ca">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-47d57d0f8c6f42586d5e7eb799f2ffbf"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">find . -type f -print0 <span class="p">|</span> xargs -0 chmod <span class="m">644</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-47d57d0f8c6f42586d5e7eb799f2ffbf"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>]]></content:encoded><pubDate>Sun, 09 May 2021 17:15:26 +0000</pubDate><category>Терминал</category><category>Linux</category></item><item><title>Разнообразие команд ls*</title><link>https://lib.onl/ru/posts/2021/05/5ba03b8a-0505-5d80-bfad-f7a4d66f07b0/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2021/05/5ba03b8a-0505-5d80-bfad-f7a4d66f07b0/</guid><description>Команда ls и её разновидности позволяют вывести список директорий, файлов, устройств и различной другой информации. Я расскажу только о некоторых командах ls*, которые присутствуют в большинстве дистрибутивов Linux.</description><content:encoded><![CDATA[<p>Команда <code>ls</code> и её разновидности позволяют вывести список директорий, файлов, устройств и различной другой информации. Я расскажу только о некоторых командах <code>ls*</code>, которые присутствуют в большинстве дистрибутивов Linux.</p>
<p>Знаю, что есть <code>lsscsi</code>, <code>lsusb</code> и т.п., которые появляются в системе с установкой дополнительных пакетов, но я подобные команды рассматривать не стал. Хотя, по возможности, статью буду дополнять.</p>

<h2 id="ls">
    ls
  <sup><a class="text-body-secondary small" href="#ls"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Команда позволяет вывести список директорий и файлов в текущем каталоге.</p>

<h3 id="некоторые-опции">
    Некоторые опции
  <sup><a class="text-body-secondary small" href="#%d0%bd%d0%b5%d0%ba%d0%be%d1%82%d0%be%d1%80%d1%8b%d0%b5-%d0%be%d0%bf%d1%86%d0%b8%d0%b8"><i class="fas fa-link fa-fw"></i></a></sup>
</h3><ul>
<li><code>-l</code> - использовать длинный формат отображения.</li>
<li><code>-S</code> - сортировать по размеру файла.</li>
<li><code>-t</code> - сортировать по времени модификации.</li>
<li><code>-a</code> - показать ВСЕ файлы, в том числе скрытые.</li>
<li><code>-R</code> - рекурсивное отображение директорий и файлов в них.</li>
<li><code>-h</code> - отображение размеров файлов в человеко-читаемом формате.</li>
<li><code>--hide='*.txt' -l</code> - игнорировать файлы с форматом <code>.txt</code>.</li>
</ul>

<h2 id="lscpu">
    lscpu
  <sup><a class="text-body-secondary small" href="#lscpu"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Отображение доступной информации об установленном процессоре.</p>

<h3 id="некоторые-опции-1">
    Некоторые опции
  <sup><a class="text-body-secondary small" href="#%d0%bd%d0%b5%d0%ba%d0%be%d1%82%d0%be%d1%80%d1%8b%d0%b5-%d0%be%d0%bf%d1%86%d0%b8%d0%b8-1"><i class="fas fa-link fa-fw"></i></a></sup>
</h3><ul>
<li><code>-a</code> - показать ВСЕ CPU, как включённые, так и отключённые.</li>
</ul>

<h3 id="пример-использования">
    Пример использования
  <sup><a class="text-body-secondary small" href="#%d0%bf%d1%80%d0%b8%d0%bc%d0%b5%d1%80-%d0%b8%d1%81%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d0%be%d0%b2%d0%b0%d0%bd%d0%b8%d1%8f"><i class="fas fa-link fa-fw"></i></a></sup>
</h3>





<div class="card mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux"
     id="codeblock-a44bb6f056ec4768c836f00529902b7a" data-bs-theme="dark">
  <div class="card-header">
    <div class="d-flex align-items-center">
      <div class="flex-shrink-0 ">
        <i class="fas fa-terminal fa-fw"></i>
      </div>
      <div class="flex-grow-1 mx-2">
        <h5 class="mb-0">Терминал</h5>
      </div>
      <div class="flex-shrink-0">
        <ul class="list-inline mb-0">
          <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
            <a class="text-body" href="#"
               data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-115bef1ab0af764b501052818b80d94a"
               role="button">
              <i class="fas fa-copy fa-fw"></i>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="card-body p-0" id="clipboard-115bef1ab0af764b501052818b80d94a"><pre tabindex="0"><code class="language-terminal" data-lang="terminal">lscpu

Architecture:                    x86_64
CPU op-mode(s):                  32-bit, 64-bit
Byte Order:                      Little Endian
Address sizes:                   39 bits physical, 48 bits virtual
CPU(s):                          12
On-line CPU(s) list:             0-11
Thread(s) per core:              2
Core(s) per socket:              6
Socket(s):                       1
NUMA node(s):                    1
Vendor ID:                       GenuineIntel
CPU family:                      6
Model:                           165
Model name:                      Intel(R) Core(TM) i5-10400 CPU @ 2.90GHz
Stepping:                        5
CPU MHz:                         2900.000
CPU max MHz:                     4300.0000
CPU min MHz:                     800.0000
BogoMIPS:                        5799.77
L1d cache:                       192 KiB
L1i cache:                       192 KiB
L2 cache:                        1.5 MiB
L3 cache:                        12 MiB</code></pre></div>
</div>

<h2 id="lspci">
    lspci
  <sup><a class="text-body-secondary small" href="#lspci"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Отображение информации по шине PCI и подключённых к ней устройствах.</p>

<h3 id="пример-использования-1">
    Пример использования
  <sup><a class="text-body-secondary small" href="#%d0%bf%d1%80%d0%b8%d0%bc%d0%b5%d1%80-%d0%b8%d1%81%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d0%be%d0%b2%d0%b0%d0%bd%d0%b8%d1%8f-1"><i class="fas fa-link fa-fw"></i></a></sup>
</h3>





<div class="card mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux"
     id="codeblock-c8787b41234ae93867a954e36b687c02" data-bs-theme="dark">
  <div class="card-header">
    <div class="d-flex align-items-center">
      <div class="flex-shrink-0 ">
        <i class="fas fa-terminal fa-fw"></i>
      </div>
      <div class="flex-grow-1 mx-2">
        <h5 class="mb-0">Терминал</h5>
      </div>
      <div class="flex-shrink-0">
        <ul class="list-inline mb-0">
          <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
            <a class="text-body" href="#"
               data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-f53224b2c4fc710db393c27a3b4ebe02"
               role="button">
              <i class="fas fa-copy fa-fw"></i>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="card-body p-0" id="clipboard-f53224b2c4fc710db393c27a3b4ebe02"><pre tabindex="0"><code class="language-terminal" data-lang="terminal">lspci

00:00.0 Host bridge: Intel Corporation Comet Lake-S 6c Host Bridge/DRAM Controller (rev 05)
00:01.0 PCI bridge: Intel Corporation 6th-10th Gen Core Processor PCIe Controller (x16) (rev 05)
00:14.0 USB controller: Intel Corporation Comet Lake USB 3.1 xHCI Host Controller
00:14.2 RAM memory: Intel Corporation Comet Lake PCH Shared SRAM
00:14.3 Network controller: Intel Corporation Comet Lake PCH CNVi WiFi
00:15.0 Serial bus controller [0c80]: Intel Corporation Comet Lake PCH Serial IO I2C Controller #0
00:15.1 Serial bus controller [0c80]: Intel Corporation Comet Lake PCH Serial IO I2C Controller #1
00:16.0 Communication controller: Intel Corporation Comet Lake HECI Controller
00:17.0 SATA controller: Intel Corporation Comet Lake SATA AHCI Controller
00:1d.0 PCI bridge: Intel Corporation Comet Lake PCI Express Root Port #9 (rev f0)
00:1f.0 ISA bridge: Intel Corporation Device 0684
00:1f.3 Audio device: Intel Corporation Comet Lake PCH cAVS
00:1f.4 SMBus: Intel Corporation Comet Lake PCH SMBus Controller
00:1f.5 Serial bus controller [0c80]: Intel Corporation Comet Lake PCH SPI Controller
00:1f.6 Ethernet controller: Intel Corporation Ethernet Connection (11) I219-V
01:00.0 VGA compatible controller: Advanced Micro Devices, Inc. [AMD/ATI] Baffin [Radeon RX 550 640SP / RX 560/560X] (rev cf)
01:00.1 Audio device: Advanced Micro Devices, Inc. [AMD/ATI] Baffin HDMI/DP Audio [Radeon RX 550 640SP / RX 560/560X]</code></pre></div>
</div>

<h2 id="lsblk">
    lsblk
  <sup><a class="text-body-secondary small" href="#lsblk"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Отображение информации по блочным устройствам.</p>

<h3 id="пример-использования-2">
    Пример использования
  <sup><a class="text-body-secondary small" href="#%d0%bf%d1%80%d0%b8%d0%bc%d0%b5%d1%80-%d0%b8%d1%81%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d0%be%d0%b2%d0%b0%d0%bd%d0%b8%d1%8f-2"><i class="fas fa-link fa-fw"></i></a></sup>
</h3>





<div class="card mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux"
     id="codeblock-695edbaae3053f64c1aae302be82f268" data-bs-theme="dark">
  <div class="card-header">
    <div class="d-flex align-items-center">
      <div class="flex-shrink-0 ">
        <i class="fas fa-terminal fa-fw"></i>
      </div>
      <div class="flex-grow-1 mx-2">
        <h5 class="mb-0">Терминал</h5>
      </div>
      <div class="flex-shrink-0">
        <ul class="list-inline mb-0">
          <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
            <a class="text-body" href="#"
               data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-87c6484db77e0cee80347630edca6787"
               role="button">
              <i class="fas fa-copy fa-fw"></i>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="card-body p-0" id="clipboard-87c6484db77e0cee80347630edca6787"><pre tabindex="0"><code class="language-terminal" data-lang="terminal">lsblk

NAME   MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT
sda      8:0    0 232.9G  0 disk
├─sda1   8:1    0   200M  0 part /boot/efi
├─sda2   8:2    0     4G  0 part /boot
├─sda3   8:3    0    64G  0 part /
├─sda4   8:4    0    32G  0 part [SWAP]
├─sda5   8:5    0    16G  0 part /tmp
└─sda6   8:6    0 116.7G  0 part /home
sdb      8:16   0 465.8G  0 disk
└─sdb1   8:17   0 465.8G  0 part /home/storage.01
sdc      8:32   1 119.5G  0 disk
└─sdc1   8:33   1 119.5G  0 part /run/media/user-0001/USB01
sdd      8:48   1  59.8G  0 disk
├─sdd1   8:49   1  59.7G  0 part /run/media/user-0001/Ventoy
└─sdd2   8:50   1    32M  0 part /run/media/user-0001/VTOYEFI
zram0  252:0    0     4G  0 disk [SWAP]</code></pre></div>
</div>

<h2 id="lsmod">
    lsmod
  <sup><a class="text-body-secondary small" href="#lsmod"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Отображение модулей ядра, загруженных в системе.</p>

<h3 id="пример-использования-3">
    Пример использования
  <sup><a class="text-body-secondary small" href="#%d0%bf%d1%80%d0%b8%d0%bc%d0%b5%d1%80-%d0%b8%d1%81%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d0%be%d0%b2%d0%b0%d0%bd%d0%b8%d1%8f-3"><i class="fas fa-link fa-fw"></i></a></sup>
</h3>





<div class="card mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux"
     id="codeblock-e6f5515eecc883031ddbe3b27bbcdc5f" data-bs-theme="dark">
  <div class="card-header">
    <div class="d-flex align-items-center">
      <div class="flex-shrink-0 ">
        <i class="fas fa-terminal fa-fw"></i>
      </div>
      <div class="flex-grow-1 mx-2">
        <h5 class="mb-0">Терминал</h5>
      </div>
      <div class="flex-shrink-0">
        <ul class="list-inline mb-0">
          <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
            <a class="text-body" href="#"
               data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-e483f6f507a5c18532d9ba2b29a0ce1a"
               role="button">
              <i class="fas fa-copy fa-fw"></i>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="card-body p-0" id="clipboard-e483f6f507a5c18532d9ba2b29a0ce1a"><pre tabindex="0"><code class="language-terminal" data-lang="terminal">lsmod

Module                  Size  Used by
exfat                  81920  1
f2fs                  700416  1
uas                    32768  0
usb_storage            81920  4 uas
snd_seq_dummy          16384  0
rfcomm                 90112  0
snd_hrtimer            16384  1
xt_CHECKSUM            16384  1
xt_MASQUERADE          20480  3
xt_conntrack           16384  1
ipt_REJECT             16384  2
nft_compat             20480  16
nf_nat_tftp            16384  0
nft_objref             16384  1
nf_conntrack_tftp      20480  3 nf_nat_tftp
nft_counter            16384  33
tun                    57344  1
bridge                294912  0
stp                    16384  1 bridge
llc                    16384  2 bridge,stp</code></pre></div>
</div>]]></content:encoded><pubDate>Sun, 09 May 2021 13:44:05 +0000</pubDate><category>Терминал</category><category>В доработке</category><category>Linux</category></item><item><title>Синхронизация репозитория от GitHub к GitLab</title><link>https://lib.onl/ru/posts/2021/05/8544b8ce-4586-578f-9633-e8ae43441a25/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2021/05/8544b8ce-4586-578f-9633-e8ae43441a25/</guid><description>Понадобилось мне на днях синхронизировать некоторые свои репозитории между GitHub и GitLab. Сам GitLab имеет встроенные средства зеркалирования репозиториев от себя к другому git-хранилищу. GitHub же не обладает такой функцией. Но эту функцию можно воссоздать при помощи GitHub Actions.</description><content:encoded><![CDATA[<p>Понадобилось мне на днях синхронизировать некоторые свои репозитории между GitHub и GitLab. Сам GitLab имеет встроенные средства зеркалирования репозиториев от себя к другому git-хранилищу. GitHub же не обладает такой функцией. Но эту функцию можно воссоздать при помощи GitHub Actions.</p>
<p>Для начала необходимо создать &ldquo;секреты&rdquo; с такими переменными:</p>
<ul>
<li><code>GITLAB_SYNC_REPO_URL</code> - ссылка на пустой репозиторий GitLab.</li>
<li><code>GITLAB_SYNC_USER_NAME</code> - имя пользователя GitLab.</li>
<li><code>GITLAB_SYNC_USER_TOKEN</code> - токен пользователя GitLab. Токен создаётся в настройках аккаунта GitLab.</li>
</ul>
<p>Далее, в корне репозитория нужно создать файл <code>.github/workflows/gitlab-sync.yml</code> со следующим содержанием:</p>








  <div class="card mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-yml" id="codeblock-9110a0ab9aa8f1ad6aea0311bdea2d3f">
    <div class="card-header">
      <div class="d-flex align-items-center">
        <div class="flex-shrink-0">
          <i class="fas fa-file-code fa-fw"></i>
        </div>
        <div class="flex-grow-1 mx-2">
            
            <code>.github/workflows/gitlab-sync.yml</code>
        </div>
        <div class="flex-shrink-0">
          <ul class="list-inline mb-0">
            <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
              <a class="text-body" href="#"
                 data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-3e1ad675b51111f18dc42311250bf635"
                 role="button">
                <i class="fas fa-copy fa-fw"></i>
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="card-body" id="clipboard-3e1ad675b51111f18dc42311250bf635"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">GitLab Sync</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">on</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">push</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">delete</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">jobs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">sync</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l">ubuntu-latest</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Git Repo Sync</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">actions/checkout@v2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">fetch-depth</span><span class="p">:</span><span class="w"> </span><span class="m">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">wangchucheng/git-repo-sync@v0.1.0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="c"># Such as https://github.com/wangchucheng/git-repo-sync.git</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">target-url</span><span class="p">:</span><span class="w"> </span><span class="l">${{ secrets.GITLAB_SYNC_REPO_URL }}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="c"># Such as wangchucheng</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">target-username</span><span class="p">:</span><span class="w"> </span><span class="l">${{ secrets.GITLAB_SYNC_USER_NAME }}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="c"># You can store token in your project&#39;s &#39;Setting &gt; Secrets&#39; and reference the name here. Such as ${{ secrets.ACCESS_TOKEN }}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">target-token</span><span class="p">:</span><span class="w"> </span><span class="l">${{ secrets.GITLAB_SYNC_USER_TOKEN }}</span></span></span></code></pre></div></div>
  </div>


<p>На этом всё. Теперь при коммите в репозиторий, GutHub будет запускать Action и автоматически синхронизировать изменения с репозиторием на GitLab.</p>]]></content:encoded><pubDate>Sat, 08 May 2021 21:06:18 +0000</pubDate><category>Разработка</category></item><item><title>Monero Unit</title><link>https://lib.onl/ru/posts/2021/03/0a815547-4f18-52a0-9a99-c463421872ca/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2021/03/0a815547-4f18-52a0-9a99-c463421872ca/</guid><description>Бум майнинга. Скупают видеокарты, ноутбуки. Будут майнить на тостерах и стиральных машинах. Решил попробовать Monero. Задача была запустить майнер в фоне, желательно в отдельной сессии. И чтобы запускался он каждый раз при старте машины.</description><content:encoded><![CDATA[<p>Бум майнинга. Скупают видеокарты, ноутбуки. Будут майнить на тостерах и стиральных машинах. Решил попробовать <strong>Monero</strong>. Задача была запустить майнер в фоне, желательно в отдельной сессии. И чтобы запускался он каждый раз при старте машины.</p>
<p>Написал небольшой 






    
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


<a title="" href="https://github.com/KitsuneSolar/xmrig-systemd" target="_blank" rel="noopener noreferrer nofollow">systemd unit</a> для майнера 






    
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


<a title="" href="https://github.com/search?q=xmrig" target="_blank" rel="noopener noreferrer nofollow">xmrig</a>.</p>
<p>Запускается от имени <code>root</code> в отдельной сессии <strong>screen</strong>, но можно запускать от любого пользователя: в командах запуска и остановки необходимо вместо <code>root</code> прописывать имя другого пользователя.</p>

<h2 id="установка">
    Установка
  <sup><a class="text-body-secondary small" href="#%d1%83%d1%81%d1%82%d0%b0%d0%bd%d0%be%d0%b2%d0%ba%d0%b0"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><ol>
<li>Установить <code>screen</code>.</li>
<li>Поместить в директорию <code>/etc/systemd/system</code> файл <code>xmrig@.service</code>.</li>
<li>В файле <code>xmrig@.service</code> задать в параметре <code>ExecStart</code> путь до <code>xmrig.run.sh</code>.</li>
</ol>

<h2 id="использование">
    Использование
  <sup><a class="text-body-secondary small" href="#%d0%b8%d1%81%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d0%be%d0%b2%d0%b0%d0%bd%d0%b8%d0%b5"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><ul>
<li>Запуск:</li>
</ul>






<div class="card mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux-root"
     id="codeblock-c61c936c89519e6bd8392c90ed922765" data-bs-theme="dark">
  <div class="card-header">
    <div class="d-flex align-items-center">
      <div class="flex-shrink-0 text-danger">
        <i class="fas fa-terminal fa-fw"></i>
      </div>
      <div class="flex-grow-1 mx-2">
        <h5 class="mb-0">Терминал</h5>
      </div>
      <div class="flex-shrink-0">
        <ul class="list-inline mb-0">
          <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
            <a class="text-body" href="#"
               data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-0d63c9ac4f87763d6a22e966f4d9faaf"
               role="button">
              <i class="fas fa-copy fa-fw"></i>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="card-body p-0" id="clipboard-0d63c9ac4f87763d6a22e966f4d9faaf"><pre tabindex="0"><code class="language-terminal" data-lang="terminal">systemctl enable --now xmrig@root</code></pre></div>
</div>
<ul>
<li>Остановка:</li>
</ul>






<div class="card mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux-root"
     id="codeblock-cf809eedfb75d44a3394ccc4db831982" data-bs-theme="dark">
  <div class="card-header">
    <div class="d-flex align-items-center">
      <div class="flex-shrink-0 text-danger">
        <i class="fas fa-terminal fa-fw"></i>
      </div>
      <div class="flex-grow-1 mx-2">
        <h5 class="mb-0">Терминал</h5>
      </div>
      <div class="flex-shrink-0">
        <ul class="list-inline mb-0">
          <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
            <a class="text-body" href="#"
               data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-c8dfeae45bda1f52cc47d356576ca250"
               role="button">
              <i class="fas fa-copy fa-fw"></i>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="card-body p-0" id="clipboard-c8dfeae45bda1f52cc47d356576ca250"><pre tabindex="0"><code class="language-terminal" data-lang="terminal">systemctl disable --now xmrig@root</code></pre></div>
</div>]]></content:encoded><pubDate>Fri, 05 Mar 2021 11:03:20 +0000</pubDate><category>Crypto</category></item><item><title>Генератор идентификаторов расширений</title><link>https://lib.onl/ru/posts/2020/08/5d35edd8-f0e3-5b39-afd3-2ac3b15b8c4f/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2020/08/5d35edd8-f0e3-5b39-afd3-2ac3b15b8c4f/</guid><description>В свободное от работы время я балуюсь разработкой небольших модулей и расширений для различных CMF, и некоторые CMF требуют использовать идентификаторы в расширениях.</description><content:encoded><![CDATA[<p>В свободное от работы время я балуюсь разработкой небольших модулей и расширений для различных CMF, и некоторые CMF требуют использовать идентификаторы в расширениях.</p>
<p>Я стараюсь как то &ldquo;обезличить&rdquo; и унифицировать идентификаторы. Поэтому, для генерации идентификаторов использую очень простой BASH-скрипт. В идентификатор кодируется текущее время в формате UNIX с наносекундами.</p>
<p>Пример кодирования:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-65d3586994347e99c415b4a14814226d">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-bbede5493612ae6a1140af7098644540"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;ext_</span><span class="k">$(</span>date +%s%N <span class="p">|</span> sha512sum <span class="p">|</span> fold -w <span class="m">8</span> <span class="p">|</span> head -n 1<span class="k">)</span><span class="s2">&#34;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-bbede5493612ae6a1140af7098644540"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<p>Вывод: <code>ext_96824896</code></p>
<p>Если необходимо, можно конвертировать в верхний регистр:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-a2702cff34fd44eb1d37c9e53d219a95">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-77baf331cff11f585a9eaf2ea880ec47"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;EXT_</span><span class="k">$(</span>date +%s%N <span class="p">|</span> sha512sum <span class="p">|</span> fold -w <span class="m">8</span> <span class="p">|</span> head -n <span class="m">1</span> <span class="p">|</span> tr <span class="s1">&#39;[:lower:]&#39;</span> <span class="s1">&#39;[:upper:]&#39;</span><span class="k">)</span><span class="s2">&#34;</span></span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-77baf331cff11f585a9eaf2ea880ec47"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<p>Вывод: <code>EXT_950E60E1</code></p>]]></content:encoded><pubDate>Sun, 02 Aug 2020 21:01:49 +0000</pubDate><category>CMF</category></item><item><title>Конструирование собственной системы ВКС</title><link>https://lib.onl/ru/posts/2020/08/1cc2e43f-187b-55a1-97ed-a772bbdcf78a/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2020/08/1cc2e43f-187b-55a1-97ed-a772bbdcf78a/</guid><description>Крупные компании покупают дорогие наборы техники для создания систем ВКС (видео-конференц-связь), но для небольших организаций можно собрать такую систему &amp;ldquo;на коленке&amp;rdquo;.</description><content:encoded><![CDATA[<p>Крупные компании покупают дорогие наборы техники для создания систем ВКС (видео-конференц-связь), но для небольших организаций можно собрать такую систему &ldquo;на коленке&rdquo;.</p>
<h2 id="оборудование">
    Оборудование
  <sup><a class="text-body-secondary small" href="#%d0%be%d0%b1%d0%be%d1%80%d1%83%d0%b4%d0%be%d0%b2%d0%b0%d0%bd%d0%b8%d0%b5"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Для конструирования понадобятся следующие компоненты:</p>
<ul>
<li>Веб-камера высокого разрешения.</li>
<li>Два и более микрофона (зависит от размера комнаты для переговоров) с <strong>круговой диаграммой направленности</strong>.</li>
<li>Стационарный компьютер или ноутбук, который будет использоваться как <strong>передатчик</strong> потока.</li>
<li>Программа создания виртуальных аудио-кабелей 






    
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


<a title="" href="https://vac.muzychenko.net/" target="_blank" rel="noopener noreferrer nofollow">VAC</a>.</li>
</ul>
<p>На момент публикации статьи я выбрал следующие компоненты, доступные на рынке:</p>
<ul>
<li>Веб-камера 






    
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


<a title="" href="https://www.logitech.com/en-us/product/hd-webcam-c615" target="_blank" rel="noopener noreferrer nofollow">Logitech WebCam C615</a>.</li>
<li>Два настольных микрофона 






    
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


<a title="" href="https://www.maono.com/products/usb-microphone-bm10/" target="_blank" rel="noopener noreferrer nofollow">Maono AU-BM10</a>.</li>
</ul>

    
    
    

    
    
    

    
    
    

    <div class="shortcode shortcode-imgur float- me-3">
      <figure class="figure">
        <a class="d-inline-block" href="https://i.imgur.com/Yhim15t.jpeg"
           rel="noopener nofollow" data-fancybox="gallery" data-caption="">
          <picture>
            <img class="figure-img img-thumbnail" src="https://i.imgur.com/Yhim15tm.jpeg" alt="Yhim15tm.jpeg" loading="lazy"/>
          </picture>
        </a>
          
      </figure>
    </div>
<p>С выбором остальных компонентов, думаю, проблем возникнуть не должно. Единственное, что могу посоветовать не брать ПК со слишком слабым процессором, потому что виртуальные кабели будут так же забирать часть процессорного времени вместе с остальными программами. И, возможно, понадобится вести записи конференций - это тоже требует процессорного времени.</p>
<p>Надо быть внимательным с количеством доступных разъёмов USB, потому как выбранные компоненты подключаются при помощи коннекторов USB и количество портов может банально не хватить. Если видно, что разъёмов не хватает, необходимо докупить активный (желательно) <strong>USB-концентратор</strong>.</p>

<h2 id="подключение-и-настройка">
    Подключение и настройка
  <sup><a class="text-body-secondary small" href="#%d0%bf%d0%be%d0%b4%d0%ba%d0%bb%d1%8e%d1%87%d0%b5%d0%bd%d0%b8%d0%b5-%d0%b8-%d0%bd%d0%b0%d1%81%d1%82%d1%80%d0%be%d0%b9%d0%ba%d0%b0"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>При конференции используется два и более микрофонов. Микрофоны должны быть с круговой диаграммой направленности, то есть они должны улавливать все звуки в помещении, независимо от местоположения источника звука.</p>
<p>Сборка всех компонентов не должна составить труда. Технический персонал любой организации справится с этим без лишних проблем. Нетривиальной задачей является подключение двух независимых микрофонов к ПК, надо заставить работать их синхронно. Как раз в этом поможет проброс виртуальных кабелей 






    
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


<a title="" href="https://vac.muzychenko.net/" target="_blank" rel="noopener noreferrer nofollow">VAC</a>.</p>
<p>После установки VAC необходимо указать двум физическим микрофонам передавать поток на один <em>виртуальный интерфейс</em>. Этот виртуальный интерфейс будет выходной точной для приложений. Делается это так:</p>
<ul>
<li>Пуск &gt; Выполнить <code>mmsys.cpl sounds</code> &gt; вкладка <strong>Запись</strong>.</li>
<li>Открыть физический микрофон, перейти на вкладку <strong>Прослушать</strong>.</li>
<li>Поставить галочку <strong>Прослушать с данного устройства</strong>.</li>
<li>В параметре <strong>Воспроизводить с данного устройства</strong> указать необходимый <em>виртуальный интерфейс</em>.</li>
</ul>

<h2 id="проверка">
    Проверка
  <sup><a class="text-body-secondary small" href="#%d0%bf%d1%80%d0%be%d0%b2%d0%b5%d1%80%d0%ba%d0%b0"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Проверка правильности настроек производится очень просто. Необходимо, чтобы индикаторы физических микрофонов и виртуального интерфейса на вкладке <strong>Запись</strong> работали синхронно. Таким образом, видно, что физические микрофоны принимают звук и передают на виртуальный интерфейс.</p>

<h2 id="заключение">
    Заключение
  <sup><a class="text-body-secondary small" href="#%d0%b7%d0%b0%d0%ba%d0%bb%d1%8e%d1%87%d0%b5%d0%bd%d0%b8%d0%b5"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Как видно, больших денежных вложений в организацию системы ВКС не требуется. Нужны только понимание логики работы аудио / видео потоков и смекалка. 😄</p>]]></content:encoded><pubDate>Sat, 01 Aug 2020 22:44:46 +0000</pubDate><category>DIY</category></item><item><title>Windows 10: Настройка через групповые политики</title><link>https://lib.onl/ru/posts/2020/07/94261403-060b-57b6-9bb0-7a0c07d09af9/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2020/07/94261403-060b-57b6-9bb0-7a0c07d09af9/</guid><description>Windows 10 до сих пор вызывает противоречивые чувства: иногда её поведение предсказуемо, иногда какое-нибудь обновление ломает систему, удаляя данные пользователя. И чтобы как-то улучшить положение дел и усмирить некоторые функции, я использую групповые политики в настройке операционной системы (ОС).</description><content:encoded><![CDATA[<p>Windows 10 до сих пор вызывает противоречивые чувства: иногда её поведение предсказуемо, иногда какое-нибудь обновление ломает систему, удаляя данные пользователя. И чтобы как-то улучшить положение дел и усмирить некоторые функции, я использую групповые политики в настройке операционной системы (ОС).</p>
<p>Сразу скажу, что мне нравится английский текст в интерфейсах. Поэтому все ОС у меня с интерфейсом в английской локализации, но я постараюсь максимально подробно описывать приведённые здесь групповые политики. Я использую Windows 10 в версии Enterprise, и не стоит забывать, что политики могут отличаться между различными версиями ОС.</p>
<p>Как открыть редактор групповых политик? Очень просто: необходимо нажать сочетание клавиш <span class="shortcode shortcode-key"><kbd>WIN + R</kbd></span>, откроется окно команды &ldquo;Выполнить&rdquo; и в текстовом поле набрать gpedit.msc и нажать <span class="shortcode shortcode-key"><kbd>OK</kbd></span>.</p>
<ul>
<li>✅ - включить (разрешить).</li>
<li>⛔ - отключить (запретить).</li>
</ul>

<h2 id="computer-details">
    Computer Details
  <sup><a class="text-body-secondary small" href="#computer-details"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Секция отвечает за корректировку групповых политик компьютера в целом.</p>

<h3 id="systemdevice-installation">
    System/Device Installation
  <sup><a class="text-body-secondary small" href="#systemdevice-installation"><i class="fas fa-link fa-fw"></i></a></sup>
</h3><ul>
<li>✅ <strong>Prevent device metadata retrieval from the Internet</strong><br>
Запретить использование мета-информации для подключённых устройств из Интернета. Политика отвечает за отображение индивидуальных значков принтеров, сканеров и такое прочее. Для отображения подобных значков, Windows лезет в Интернет и загружает мета-данные. Мне подобное не нужно, поэтому я включаю политику (включить = запретить).</li>
<li>✅ <strong>Specify search order for device driver source locations</strong><br>
Специальный порядок источников для поиска драйверов в них. А вот эта политика отвечает за автоматическую установку драйверов на видеокарты, звуковые карты, различную периферию и прочее. Здесь можно указать ОС в каких источниках искать драйвера, приложения и прочее. Меня всегда раздражало, когда Windows при подключении к Интернету устанавливает устаревшие драйвера, например, на видеокарту. Зачем, когда я могу скачать свежие версии с сайта производителя? Включаю политику и выбираю опцию, указанную ниже.
<ul>
<li><em>Do not search Windows Update</em><br>
Не использовать Windows Update для поиска драйверов.</li>
</ul>
</li>
</ul>

<h3 id="windows-componentsautoplay-policies">
    Windows Components/AutoPlay Policies
  <sup><a class="text-body-secondary small" href="#windows-componentsautoplay-policies"><i class="fas fa-link fa-fw"></i></a></sup>
</h3><ul>
<li>✅ <em>Turn off Autoplay</em><br>
Отключить автоматический запуск. Политика позволяет отключить запуск подходящего приложения при втыкании, например, флешки с музыкой или картинками. Ранее (да и сейчас, наверно) таким способом любили запускаться злые вирусы. Включаю политику и выбираю опцию, указанную ниже.
<ul>
<li>All drives<br>
У меня отключено на всех устройствах.</li>
</ul>
</li>
</ul>

<h3 id="windows-componentscloud-content">
    Windows Components/Cloud Content
  <sup><a class="text-body-secondary small" href="#windows-componentscloud-content"><i class="fas fa-link fa-fw"></i></a></sup>
</h3><ul>
<li>✅ <strong>Do not show Windows tips</strong><br>
Не показывать подсказки Windows. Лично мне подсказки ОС не нужны. Я как нибудь без них обойдусь. Включаю политику.</li>
<li>✅ <strong>Turn off Microsoft consumer experiences</strong><br>
Выключить Microsoft Consumer Experience. Компания Microsoft своими рекомендациями навязывает установку таких приложений, как Candy Crush Soda Saga, FarmVille 2, Flipboard, Twitter, Photoshop Express, Minecraft и т.д. Мне они не нужны да и мне чуждо такое навязывание. Неприятно. Включаю политику, тем самым отключая подобную рекламу.</li>
</ul>

<h3 id="windows-componentsdata-collection-and-preview-builds">
    Windows Components/Data Collection and Preview Builds
  <sup><a class="text-body-secondary small" href="#windows-componentsdata-collection-and-preview-builds"><i class="fas fa-link fa-fw"></i></a></sup>
</h3><ul>
<li>✅ <strong>Allow Telemetry</strong><br>
Разрешить телеметрию. Полностью телеметрию отключить всё равно не получится, что бы там не писали в Интернете. Поэтому, я включаю телеметрию и устанавливаю уровень сбора информации.
<ul>
<li><em>0 - Security [Enterprise Only]</em><br>
Ставлю нулевой уровень. Собирать данные, необходимые для осуществления безопасности. Но это только для операционной системы класса Enterprise.</li>
</ul>
</li>
</ul>

<h3 id="windows-componentsdesktop-gadgets">
    Windows Components/Desktop Gadgets
  <sup><a class="text-body-secondary small" href="#windows-componentsdesktop-gadgets"><i class="fas fa-link fa-fw"></i></a></sup>
</h3><ul>
<li>✅ <strong>Turn off desktop gadgets</strong><br>
Выключить гаджеты рабочего стола. Актуально для Windows Vista / 7. В Windows 10 гаджетов не видел. Может потому что не использовал их никогда. Но политику включаю.</li>
</ul>

<h3 id="windows-componentsmicrosoft-defender-antivirus">
    Windows Components/Microsoft Defender Antivirus
  <sup><a class="text-body-secondary small" href="#windows-componentsmicrosoft-defender-antivirus"><i class="fas fa-link fa-fw"></i></a></sup>
</h3><ul>
<li>✅ <strong>Turn off Microsoft Defender Antivirus</strong><br>
Отключить Microsoft Defender Antivirus. Я отключаю себе антивирус. Головы хватает, чтобы не подхватить вирусы. Использую только ограниченный проверенный набор программ. При этом, если необходимо запустить что-то экзотическое, у меня всегда развёрнута виртуальная машина в Hyper-V.</li>
</ul>

<h3 id="windows-componentsonedrive">
    Windows Components/OneDrive
  <sup><a class="text-body-secondary small" href="#windows-componentsonedrive"><i class="fas fa-link fa-fw"></i></a></sup>
</h3><ul>
<li>✅ <strong>Prevent the usage of OneDrive for file storage</strong><br>
Запретить использование OneDrive как файловое хранилище. Мне не нужен OneDrive. Поэтому я запрещаю использование OneDrive в качестве хранилища файлов.</li>
</ul>

<h3 id="windows-componentssearch">
    Windows Components/Search
  <sup><a class="text-body-secondary small" href="#windows-componentssearch"><i class="fas fa-link fa-fw"></i></a></sup>
</h3><ul>
<li>⛔ <strong>Allow Cloud Search</strong><br>
Разрешить использование облачного поиска. Мне не нужен в ОС поиск, который будет искать по различным сайтам. Только локальный поиск. Поэтому, я запрещаю политику.</li>
<li>⛔ <strong>Allow Cortana</strong><br>
Разрешить Cortana. Cortana мне тоже не нужна. Мне не о чём с ней поговорить. Поэтому, я запрещаю Cortana.</li>
</ul>

<h3 id="windows-componentsstore">
    Windows Components/Store
  <sup><a class="text-body-secondary small" href="#windows-componentsstore"><i class="fas fa-link fa-fw"></i></a></sup>
</h3><ul>
<li>✅ <strong>Disable all apps from Microsoft Store</strong><br>
Отключить все приложения из Microsoft Store. Для выпиливания приложений, установленных из Microsoft Store в Интернете гуляет скрипт на PowerShell. Но мне лень его использовать, да и мало ли что&hellip; Поэтому, я просто отключаю подобные приложения через групповые политики. Они остаются в меню Start, но не используются.</li>
<li>✅ <strong>Turn off the Store application</strong><br>
Подобно представленной выше политике, эта отключает магазин приложений. Согласно описанию и Интернету, эта политика важнее предыдущей, и включение её отключает не только сам магазин, но и приложения из него.</li>
</ul>

<h3 id="windows-componentssync-your-settings">
    Windows Components/Sync your settings
  <sup><a class="text-body-secondary small" href="#windows-componentssync-your-settings"><i class="fas fa-link fa-fw"></i></a></sup>
</h3><ul>
<li>✅ <strong>Do not sync</strong><br>
Не синхронизировать настройки пользователя. Синхронизация настроек между устройствами мне не нужна. Я включаю политику, тем самым отключаю синхронизацию.</li>
</ul>

<h3 id="windows-componentswindows-game-recording-and-broadcasting">
    Windows Components/Windows Game Recording and Broadcasting
  <sup><a class="text-body-secondary small" href="#windows-componentswindows-game-recording-and-broadcasting"><i class="fas fa-link fa-fw"></i></a></sup>
</h3><ul>
<li>⛔ <strong>Enables or disables Windows Game Recording and Broadcasting</strong><br>
Включение или отключение функций Windows Game Recording и Broadcasting. Так как я не играю в игры, для меня подобная функциональность ОС избыточна. Отключаю политику.</li>
</ul>

<h3 id="windows-componentswindows-update">
    Windows Components/Windows Update
  <sup><a class="text-body-secondary small" href="#windows-componentswindows-update"><i class="fas fa-link fa-fw"></i></a></sup>
</h3><ul>
<li>✅ <strong>Configure Automatic Updates</strong><br>
Конфигурация автоматического обновления. Ох, сколько в Интернете страданий по поводу обновлений Windows 10. При включении этой политике, я указываю опции, которые помогут избавится от ряда проблем с автоматическим обновлением.
<ul>
<li><strong>Configure automatic updating:</strong> <em>2 - Notify for download and auto install</em><br>
Я выбираю опцию #2, которая гласит как &ldquo;Информировать о выпуске новых обновлений&rdquo;.</li>
<li>✅ <em>Install updates for other Microsoft products</em><br>
Также отмечаю галочкой опцию &ldquo;Устанавливать обновления для других продуктов Microsoft&rdquo;. Таким образом, более-менее свежие версии, например, Microsoft Office будут обновляться через Windows Update вместе с ОС.</li>
</ul>
</li>
<li>✅ <strong>Do not include drivers with Windows Updates</strong><br>
Не использовать драйвера в Windows Updates. Вот эта опция странная. Может я её не так понимаю, но при включении, Windows Updates всё равно ставит драйвера на устройства. А мне подобное обслуживание не надо.</li>
<li>✅ <strong>No auto-restart with logged on users for scheduled automatic updates installations</strong><br>
Не использовать автоматическую перезагрузку при вошедшем в систему пользователе, когда обновления установились. Вот эта та самая автоматическая перезагрузка, которая попортила нервишки многим пользователям. Например, когда ты днём много работаешь, а на ночь ставишь компьютер считать различные данные, утром можно обнаружить окно готовности войти в систему. Да, установились обновления и компьютер перезагрузился. Включаем политику, тем самым отключая автоматическую перезагрузку.</li>
</ul>

<h2 id="user-details">
    User Details
  <sup><a class="text-body-secondary small" href="#user-details"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Секция отвечает за корректировку групповых политик под пользователей.</p>

<h3 id="windows-componentsattachment-manager">
    Windows Components/Attachment Manager
  <sup><a class="text-body-secondary small" href="#windows-componentsattachment-manager"><i class="fas fa-link fa-fw"></i></a></sup>
</h3><ul>
<li>✅ <strong>Do not preserve zone information in file attachments</strong><br>
Не сохранять информацию о зоне в файлах. Суть этой политики такова, что если я скачаю из Интернета, например, какой-нибудь EXE-файл, то файловая система пометит его как небезопасный. Лично мне в этом нет необходимости. Включаю политику.</li>
</ul>

<h3 id="windows-componentscloud-content-1">
    Windows Components/Cloud Content
  <sup><a class="text-body-secondary small" href="#windows-componentscloud-content-1"><i class="fas fa-link fa-fw"></i></a></sup>
</h3><ul>
<li>✅ <strong>Turn off all Windows spotlight features</strong><br>
Отключить все возможности Windows Spotlight. Windows Spotlight эта функция ОС, которая позволяет отображать на экране входа в систему различную интерактивную информацию, например, сменяющиеся фоновые изображения, различные предложения (рекламные / не рекламные - не знаю, не видел ни разу). Мне это не надо, поэтому я включаю политику, запрещая использование Windows Spotlight.</li>
</ul>
<p>На этом всё. Возможно, некоторые параметры групповых политик покажутся спорными, а некоторые вообще странными и ненужными, но мне так удобно работать. Список будет дорабатываться, если найду что-нибудь ещё интересное.</p>]]></content:encoded><pubDate>Tue, 21 Jul 2020 21:15:37 +0000</pubDate><category>MS Windows</category></item><item><title>GnuPG: Создание и работа с ключами шифрования</title><link>https://lib.onl/ru/posts/2020/07/7a204545-daa8-58ce-ba35-75e732e1bcc0/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2020/07/7a204545-daa8-58ce-ba35-75e732e1bcc0/</guid><description>GnuPG (GPG) это программа для шифрования информации и создания электронных цифровых подписей. Она создавалась в качестве свободной альтернативе несвободному PGP.</description><content:encoded><![CDATA[<p><strong>GnuPG (GPG)</strong> это программа для шифрования информации и создания электронных цифровых подписей. Она создавалась в качестве свободной альтернативе несвободному <strong>PGP</strong>.</p>
<h2 id="создание-ключа">
    Создание ключа
  <sup><a class="text-body-secondary small" href="#%d1%81%d0%be%d0%b7%d0%b4%d0%b0%d0%bd%d0%b8%d0%b5-%d0%ba%d0%bb%d1%8e%d1%87%d0%b0"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>GPG предоставляет различные алгоритмы шифрования. Я предпочитаю алгоритм <strong>ECC</strong>, основанный на эллиптических кривых (Elliptic Curve Cryptography).</p>
<p>Для создания ключей шифрования, нужно чтобы в системе была установлена утилита GPG. Для систем <strong>Debian</strong> и <strong>CentOS / Fedora</strong> этим занимается пакет <code>gnupg</code>, устанавливается командами:</p>
<ul>
<li>CentOS 8 / Fedora:</li>
</ul>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-f781c4215769245b63d8b0e6400a0168">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-df2cfee39af4f8436c583211fc3f784c"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">dnf install gnupg</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-df2cfee39af4f8436c583211fc3f784c"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<ul>
<li>Debian:</li>
</ul>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-91c5f0d16aa9d47b3536c450bc1e86eb">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-07ac6c03f87e96c1865f74ebe070290d"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">apt install gnupg</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-07ac6c03f87e96c1865f74ebe070290d"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<p>После того, как пакет установлен, можно начать создание ключа командой:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-3a22b260879aa6b59b9f5df42e580852">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-20cda34889f603f126b8b1327bda99cf"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">gpg --expert --full-gen-key</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-20cda34889f603f126b8b1327bda99cf"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<p>Команда вернёт следующий результат:</p>






<div class="card mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux"
     id="codeblock-6e927555f11f04eff5b75516ee641d4d" data-bs-theme="dark">
  <div class="card-header">
    <div class="d-flex align-items-center">
      <div class="flex-shrink-0 ">
        <i class="fas fa-terminal fa-fw"></i>
      </div>
      <div class="flex-grow-1 mx-2">
        <h5 class="mb-0">Терминал</h5>
      </div>
      <div class="flex-shrink-0">
        <ul class="list-inline mb-0">
          <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
            <a class="text-body" href="#"
               data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-47733c50840864b033140a17e309f385"
               role="button">
              <i class="fas fa-copy fa-fw"></i>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="card-body p-0" id="clipboard-47733c50840864b033140a17e309f385"><pre tabindex="0"><code class="language-terminal" data-lang="terminal">
gpg (GnuPG) 2.2.20; Copyright (C) 2020 Free Software Foundation, Inc.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Please select what kind of key you want:
   (1) RSA and RSA (default)
   (2) DSA and Elgamal
   (3) DSA (sign only)
   (4) RSA (sign only)
   (7) DSA (set your own capabilities)
   (8) RSA (set your own capabilities)
   (9) ECC and ECC
  (10) ECC (sign only)
  (11) ECC (set your own capabilities)
  (13) Existing key
  (14) Existing key from card
Your selection?</code></pre></div>
</div>
<p>Здесь спрашивается, какой конкретно ключ мы хотим получить. Вводим <code>9</code>. Получаем:</p>






<div class="card mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux"
     id="codeblock-101475193936d29bf54bbf5d8d25dae3" data-bs-theme="dark">
  <div class="card-header">
    <div class="d-flex align-items-center">
      <div class="flex-shrink-0 ">
        <i class="fas fa-terminal fa-fw"></i>
      </div>
      <div class="flex-grow-1 mx-2">
        <h5 class="mb-0">Терминал</h5>
      </div>
      <div class="flex-shrink-0">
        <ul class="list-inline mb-0">
          <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
            <a class="text-body" href="#"
               data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-12c21aeba5bd8324f6c3249dc0c61af6"
               role="button">
              <i class="fas fa-copy fa-fw"></i>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="card-body p-0" id="clipboard-12c21aeba5bd8324f6c3249dc0c61af6"><pre tabindex="0"><code class="language-terminal" data-lang="terminal">
Please select which elliptic curve you want:
   (1) Curve 25519
   (3) NIST P-256
   (4) NIST P-384
   (5) NIST P-521
   (9) secp256k1
Your selection?</code></pre></div>
</div>
<p>А здесь уже предстоит выбрать алгоритм шифрования. Вводим <code>1</code>. Получаем:</p>






<div class="card mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux"
     id="codeblock-cd43628f984663c45cf6dcdc2329e98a" data-bs-theme="dark">
  <div class="card-header">
    <div class="d-flex align-items-center">
      <div class="flex-shrink-0 ">
        <i class="fas fa-terminal fa-fw"></i>
      </div>
      <div class="flex-grow-1 mx-2">
        <h5 class="mb-0">Терминал</h5>
      </div>
      <div class="flex-shrink-0">
        <ul class="list-inline mb-0">
          <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
            <a class="text-body" href="#"
               data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-b8a599904a30c34698c2dba0bea7fc5e"
               role="button">
              <i class="fas fa-copy fa-fw"></i>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="card-body p-0" id="clipboard-b8a599904a30c34698c2dba0bea7fc5e"><pre tabindex="0"><code class="language-terminal" data-lang="terminal">
Please specify how long the key should be valid.
         0 = key does not expire
      &lt;n&gt;  = key expires in n days
      &lt;n&gt;w = key expires in n weeks
      &lt;n&gt;m = key expires in n months
      &lt;n&gt;y = key expires in n years
Key is valid for? (0)</code></pre></div>
</div>
<p>На последнем шаге настройки ключа спрашивается время действия ключа. Обычно, личные ключи генерируются с безлимитным временем действия. Вводим <code>0</code> (этот пункт идёт по умолчанию).</p>
<p>Дальше будет пара-тройка вопросов по поводу имени владельца ключа, его адреса e-mail и с просьбой указать комментарий. Таким образом, создаётся пара ключей: закрытый и открытый. Открытый ключ можно публиковать на различных ресурсах с целью идентификации владельца и подтверждения его личности. Например, так работает верификация коммитов на GitLab’е и GitHub’е. Закрытый ключ должен всегда оставаться внутри системы.</p>

<h2 id="список-ключей-в-системе">
    Список ключей в системе
  <sup><a class="text-body-secondary small" href="#%d1%81%d0%bf%d0%b8%d1%81%d0%be%d0%ba-%d0%ba%d0%bb%d1%8e%d1%87%d0%b5%d0%b9-%d0%b2-%d1%81%d0%b8%d1%81%d1%82%d0%b5%d0%bc%d0%b5"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Посмотреть установленные в системе ключи можно командой:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-18b37b051b80634baca90d205596aec3">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-57e6fbb254364c593b6daa48a13ec201"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">gpg --list-keys --keyid-format LONG --with-fingerprint</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-57e6fbb254364c593b6daa48a13ec201"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<p>Здесь:</p>
<ul>
<li><code>--list-keys</code> - показать список ключей.</li>
<li><code>--keyid-format LONG</code> - формат отображения каждого ключа в расширенном (<code>LONG</code>) формате.</li>
<li><code>--with-fingerprint</code> - вывести отпечаток. Для себя всегда добавляю эту опцию на всякий случай.</li>
</ul>
<p>Команда вернёт следующий результат:</p>






<div class="card mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux"
     id="codeblock-4455e4bf520d2c4e970b6aa160fc7fb0" data-bs-theme="dark">
  <div class="card-header">
    <div class="d-flex align-items-center">
      <div class="flex-shrink-0 ">
        <i class="fas fa-terminal fa-fw"></i>
      </div>
      <div class="flex-grow-1 mx-2">
        <h5 class="mb-0">Терминал</h5>
      </div>
      <div class="flex-shrink-0">
        <ul class="list-inline mb-0">
          <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
            <a class="text-body" href="#"
               data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-4b4a8977a3f93f1fa7aff2b9fe88b8f8"
               role="button">
              <i class="fas fa-copy fa-fw"></i>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="card-body p-0" id="clipboard-4b4a8977a3f93f1fa7aff2b9fe88b8f8"><pre tabindex="0"><code class="language-terminal" data-lang="terminal">
pub   ed25519/JTM4BAVLPI8F0XHR 2020-02-17 [SC]
      Key fingerprint = XXXX XXXX XXXX XXXX XXXX  XXXX XXXX XXXX XXXX XXXX
uid                 [ultimate] John Doe &lt;john.doe@example.com&gt;
sub   cv25519/AI9NEDUOWRF016Y2 2020-02-17 [E]</code></pre></div>
</div>
<p>Здесь:</p>
<ul>
<li><code>JTM4BAVLPI8F0XHR</code> - идентификатор ключа. Он потребуется для каких-либо действий с ключом (редактирование / удаление / и т.п.).</li>
<li><code>[ultimate]</code> - уровень доверия к ключу.</li>
<li><code>John Doe</code> - имя хозяина ключа.</li>
<li><code>&lt;john.doe@example.com&gt;</code> - почта хозяина ключа.</li>
<li><code>ed25519</code> &amp; <code>cv25519</code> - алгоритмы шифрования.</li>
</ul>

<h2 id="экспорт-и-импорт-ключа">
    Экспорт и импорт ключа
  <sup><a class="text-body-secondary small" href="#%d1%8d%d0%ba%d1%81%d0%bf%d0%be%d1%80%d1%82-%d0%b8-%d0%b8%d0%bc%d0%bf%d0%be%d1%80%d1%82-%d0%ba%d0%bb%d1%8e%d1%87%d0%b0"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>При создании открытого и закрытого ключей, необходимо экспортировать их для того, чтобы они хранились где-то независимо от системы, например, на какой-нибудь карте памяти или USB-флешке. Следующие две команды выполняют необходимые действия:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-028f2da0776d836b15f0bab86b9762cc">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-43992af8b1f000057a5339da636b68ab"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># Export: PUBLIC.</span>
</span></span><span class="line"><span class="cl">gpg --armor --output JohnDoe.public.asc --export JTM4BAVLPI8F0XHR
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Export: PRIVATE.</span>
</span></span><span class="line"><span class="cl">gpg --armor --output JohnDoe.private.asc --export-secret-keys JTM4BAVLPI8F0XHR</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-43992af8b1f000057a5339da636b68ab"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<p>Здесь:</p>
<ul>
<li><code>--armor</code> - экспорт ключа в формате <strong>ASCII</strong> (текстовый формат).</li>
<li><code>--output</code> - имя файлы, в который будет экспортирован ключ.</li>
<li><code>--export JTM4BAVLPI8F0XHR</code> - экспорт открытого ключа с идентификатором <code>JTM4BAVLPI8F0XHR</code>.</li>
<li><code>--export-secret-keys JTM4BAVLPI8F0XHR</code> - экспорт закрытого ключа с идентификатором <code>JTM4BAVLPI8F0XHR</code>.</li>
</ul>
<p>С экспортом разобрались. Теперь по поводу импорта&hellip; Импортировать также необходимо открытый и закрытый ключи. Следующие две команды выполняют необходимые действия:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-7d9bca7b5a8ba58f2e48c72ae99fa45f">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-84dbe6c2d17c96697b365df60344cb49"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># Import: PUBLIC.</span>
</span></span><span class="line"><span class="cl">gpg --import JohnDoe.public.asc
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Import: PRIVATE.</span>
</span></span><span class="line"><span class="cl">gpg --import JohnDoe.private.asc</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-84dbe6c2d17c96697b365df60344cb49"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<p>После импорта ключ приобретает <strong>стандартный уровень доверия</strong>. Для повышения или понижения уровня доверия, ключ необходимо отредактировать.</p>

<h2 id="редактирование-ключа">
    Редактирование ключа
  <sup><a class="text-body-secondary small" href="#%d1%80%d0%b5%d0%b4%d0%b0%d0%ba%d1%82%d0%b8%d1%80%d0%be%d0%b2%d0%b0%d0%bd%d0%b8%d0%b5-%d0%ba%d0%bb%d1%8e%d1%87%d0%b0"><i class="fas fa-link fa-fw"></i></a></sup>
</h2><p>Следующая команда позволяет отредактировать ключ:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-1b0d269d0140863defd830fbb9e3ab90">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-ee6fec6965eb111cd004772937f42cfa"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">gpg --edit-key JTM4BAVLPI8F0XHR</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-ee6fec6965eb111cd004772937f42cfa"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<p>Здесь:</p>
<ul>
<li><code>--edit-key JTM4BAVLPI8F0XHR</code> - редактирование ключа с идентификатором <code>JTM4BAVLPI8F0XHR</code>.</li>
</ul>
<p>Режим редактирования ключа представляет собой текстовый интерфейс, в который вручную вбиваются команды. Например, повысим уровень доверия к ключу до максимального (ultimate).</p>
<ol>
<li>Вводим <code>trust</code>.</li>
<li>Выбираем <code>5 (I trust ultimately)</code>.</li>
<li>Вводим <code>quit</code> (выход).</li>
</ol>]]></content:encoded><pubDate>Thu, 16 Jul 2020 06:55:17 +0000</pubDate><category>Crypto</category></item><item><title>MikroTik и Cloudflare: Динамический IP для домена</title><link>https://lib.onl/ru/posts/2020/07/ff2ae66e-8e14-5c4a-baa6-0cd2e59f6517/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2020/07/ff2ae66e-8e14-5c4a-baa6-0cd2e59f6517/</guid><description>Когда то на просторах интернета нашёл скрипт реализации динамической смены IP из MikroTik напрямую в панели управления Cloudflare при помощи API. Сам скрипт я немного подкорректировал и опубликовал в MikroTik Marketplace. Где нашёл скрипт уже не помню, вроде бы на страницах официального форума MikroTik. Привожу описание скрипта и переменных.</description><content:encoded><![CDATA[<p>Когда то на просторах интернета нашёл скрипт реализации динамической смены IP из MikroTik напрямую в панели управления Cloudflare при помощи API. Сам скрипт я немного подкорректировал и опубликовал в 






    
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


<a title="" href="https://github.com/marketplace-mikrotik/mikrotik-ext-cloudflare" target="_blank" rel="noopener noreferrer nofollow">MikroTik Marketplace</a>. Где нашёл скрипт уже не помню, вроде бы на страницах официального форума MikroTik. Привожу описание скрипта и переменных.</p>
<p>Сам скрипт нужно настроить под себя, прописав в нём значения переменных. Значения переменных я указал в 






    
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


<a title="" href="https://github.com/marketplace-mikrotik/mikrotik-ext-cloudflare/blob/main/README.md" target="_blank" rel="noopener noreferrer nofollow">README</a> на GitHub’е. Большинство значений можно узнать из панели управления доменом в Cloudflare, но для получения значения переменной <code>cfDNSID</code> необходимо выполнит немного телодвижений.</p>
<p>Для начала в терминале Linux выполнить следующую команду:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-1233a0ef2b10b7ce73cff0e6801b29e7">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-46f4182f2d624e82df248effffdbf64f"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">curl -X GET <span class="s2">&#34;https://api.cloudflare.com/client/v4/zones/API_ZONE_ID/dns_records&#34;</span>  <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>-H <span class="s2">&#34;X-Auth-Email: USER_EMAIL&#34;</span>                                                     <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>-H <span class="s2">&#34;X-Auth-Key: USER_TOKEN&#34;</span>                                                       <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>-H <span class="s2">&#34;Content-Type: application/json&#34;</span> <span class="p">|</span> python -mjson.tool</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-46f4182f2d624e82df248effffdbf64f"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<p>&hellip;соответственно, подставив собственные значения, например (значения фальшивые):</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-790f69e22954aaaf3e2c817524d18f36">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-a46cbe2cd3164aac76f48f7b3c062334"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">curl -X GET <span class="s2">&#34;https://api.cloudflare.com/client/v4/zones/Q7dslfag51U2B3jRpmbxMInDTCoSFYyH/dns_records&#34;</span>   <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>-H <span class="s2">&#34;X-Auth-Email: user@cloudflare.com&#34;</span>                                                                  <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>-H <span class="s2">&#34;X-Auth-Key: CcDXmj5lzd9Na3Wi2fQLPvAJIuwUrxF1VnMyS&#34;</span>                                                  <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>-H <span class="s2">&#34;Content-Type: application/json&#34;</span> <span class="p">|</span> python -mjson.tool</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-a46cbe2cd3164aac76f48f7b3c062334"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<p>Команды вернёт результат в формате JSON, к примеру (результаты фальшивые):</p>






<div class="card mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux"
     id="codeblock-0ed43b9dababdee1dfbf903d11699ee0" data-bs-theme="dark">
  <div class="card-header">
    <div class="d-flex align-items-center">
      <div class="flex-shrink-0 ">
        <i class="fas fa-terminal fa-fw"></i>
      </div>
      <div class="flex-grow-1 mx-2">
        <h5 class="mb-0">Терминал</h5>
      </div>
      <div class="flex-shrink-0">
        <ul class="list-inline mb-0">
          <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
            <a class="text-body" href="#"
               data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-5b07b10bed31ffff2cfb10bee767decb"
               role="button">
              <i class="fas fa-copy fa-fw"></i>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="card-body p-0" id="clipboard-5b07b10bed31ffff2cfb10bee767decb"><pre tabindex="0"><code class="language-terminal" data-lang="terminal">curl -X GET &#34;https://api.cloudflare.com/client/v4/zones/Q7dslfag51U2B3jRpmbxMInDTCoSFYyH/dns_records&#34; -H &#34;X-Auth-Email: user@cloudflare.com&#34; -H &#34;X-Auth-Key: CcDXmj5lzd9Na3Wi2fQLPvAJIuwUrxF1VnMyS&#34; -H &#34;Content-Type: application/json&#34; | python -mjson.tool
{
    &#34;result&#34;: [
        {
            &#34;id&#34;: &#34;gJDSG5la4IWNOEVn6K2PHyope8Q9YhzC&#34;,
            &#34;zone_id&#34;: &#34;Q7dslfag51U2B3jRpmbxMInDTCoSFYyH&#34;,
            &#34;zone_name&#34;: &#34;example.com&#34;,
            &#34;name&#34;: &#34;example.com&#34;,
            &#34;type&#34;: &#34;A&#34;,
            &#34;content&#34;: &#34;192.168.10.232&#34;,
            &#34;proxiable&#34;: true,
            &#34;proxied&#34;: true,
            &#34;ttl&#34;: 1,
            &#34;locked&#34;: false,
            &#34;meta&#34;: {
                &#34;auto_added&#34;: false,
                &#34;managed_by_apps&#34;: false,
                &#34;managed_by_argo_tunnel&#34;: false,
                &#34;source&#34;: &#34;primary&#34;
            },
            &#34;created_on&#34;: &#34;2020-02-23T21:26:27.56227Z&#34;,
            &#34;modified_on&#34;: &#34;2020-02-23T21:26:27.56227Z&#34;
        }
    ],
    &#34;success&#34;: true,
    &#34;errors&#34;: [],
    &#34;messages&#34;: [],
    &#34;result_info&#34;: {
        &#34;page&#34;: 1,
        &#34;per_page&#34;: 20,
        &#34;count&#34;: 7,
        &#34;total_count&#34;: 7,
        &#34;total_pages&#34;: 1
    }
}</code></pre></div>
</div>
<p>Смотрим поле <code>id</code> и значение этого поля вставляем в переменную <code>cfDNSID</code>.</p>
<p>На этом всё. Не забываем выдать скрипту необходимые права в панели MikroTik, а также прописать автоматический запуск скрипта через <strong>Scheduler</strong>.</p>]]></content:encoded><pubDate>Sun, 12 Jul 2020 15:09:48 +0000</pubDate><category>Сеть</category></item><item><title>Первичная настройка UAIK</title><link>https://lib.onl/ru/posts/2020/06/59781965-afe7-5dd5-9798-d1c5ba6cdafd/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2020/06/59781965-afe7-5dd5-9798-d1c5ba6cdafd/</guid><description>После автоматической установки (Kickstart) при помощи UAIK , Fedora запустится в текстовом режиме. На этом этапе необходимо произвести первичную настройку операционной системы.</description><content:encoded><![CDATA[<p>После автоматической установки (Kickstart) при помощи 






    
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


<a title="" href="https://uaik.github.io/" target="_blank" rel="noopener noreferrer nofollow">UAIK</a> , Fedora запустится в текстовом режиме. На этом этапе необходимо произвести первичную настройку операционной системы.</p>
<h4 id="включение-графического-режима">
    Включение графического режима
  <sup><a class="text-body-secondary small" href="#%d0%b2%d0%ba%d0%bb%d1%8e%d1%87%d0%b5%d0%bd%d0%b8%d0%b5-%d0%b3%d1%80%d0%b0%d1%84%d0%b8%d1%87%d0%b5%d1%81%d0%ba%d0%be%d0%b3%d0%be-%d1%80%d0%b5%d0%b6%d0%b8%d0%bc%d0%b0"><i class="fas fa-link fa-fw"></i></a></sup>
</h4>







  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-text" id="codeblock-afc018ea2a3e465aad46dd583567cd4b">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-58a507d5855c7a054e9d1897070cf4a0"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">systemctl set-default graphical.target</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-58a507d5855c7a054e9d1897070cf4a0"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>



<h4 id="создание-пользователя">
    Создание пользователя
  <sup><a class="text-body-secondary small" href="#%d1%81%d0%be%d0%b7%d0%b4%d0%b0%d0%bd%d0%b8%d0%b5-%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d0%be%d0%b2%d0%b0%d1%82%d0%b5%d0%bb%d1%8f"><i class="fas fa-link fa-fw"></i></a></sup>
</h4>







  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-7d8042cd27010301978bf812185f3423">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-0795b7d50a9980bc86501c994f716ed7"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># Добавить пользователя.</span>
</span></span><span class="line"><span class="cl">useradd -mc <span class="s2">&#34;User 0001&#34;</span> user-0001
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Установить пароль для пользователя.</span>
</span></span><span class="line"><span class="cl">passwd user-0001</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-0795b7d50a9980bc86501c994f716ed7"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>



<h4 id="отключение-пользователя">
    Отключение пользователя
  <sup><a class="text-body-secondary small" href="#%d0%be%d1%82%d0%ba%d0%bb%d1%8e%d1%87%d0%b5%d0%bd%d0%b8%d0%b5-%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d0%be%d0%b2%d0%b0%d1%82%d0%b5%d0%bb%d1%8f"><i class="fas fa-link fa-fw"></i></a></sup>
</h4>







  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-dd7cacec9e0a124c9f68846e0d27847e">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-67bb9fa69e5b76c4be4b65f32fde7d41"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># Отключить пользователя.</span>
</span></span><span class="line"><span class="cl">usermod -L user-0000</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-67bb9fa69e5b76c4be4b65f32fde7d41"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>



<h4 id="перемещение-пользователя">
    Перемещение пользователя
  <sup><a class="text-body-secondary small" href="#%d0%bf%d0%b5%d1%80%d0%b5%d0%bc%d0%b5%d1%89%d0%b5%d0%bd%d0%b8%d0%b5-%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d0%be%d0%b2%d0%b0%d1%82%d0%b5%d0%bb%d1%8f"><i class="fas fa-link fa-fw"></i></a></sup>
</h4>







  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-text" id="codeblock-13ef9b38b2337157d0680ae9d22d455d">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-cc9b8b28dd760174d4b0ee08adf2c9e6"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">usermod -md /new_home/user-0001 user-0001</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-cc9b8b28dd760174d4b0ee08adf2c9e6"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>



<h4 id="работа-с-диском">
    Работа с диском
  <sup><a class="text-body-secondary small" href="#%d1%80%d0%b0%d0%b1%d0%be%d1%82%d0%b0-%d1%81-%d0%b4%d0%b8%d1%81%d0%ba%d0%be%d0%bc"><i class="fas fa-link fa-fw"></i></a></sup>
</h4><p>Чтобы создать на новом диске раздел, необходимо войти в программу <code>parted</code>:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-text" id="codeblock-f717f724628f624ba6fecc568e3bcb65">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-fa6b34b6d48bfc8d9735b7cbb39febaa"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">parted -a optimal /dev/sdb</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-fa6b34b6d48bfc8d9735b7cbb39febaa"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<p>Выполнить следующие команды:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-text" id="codeblock-f95e1bc91e46aff096ccee52fab3d84f">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-9eb1a30e9d4208b1ecebdf2e111ce8bc"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">(parted) mklabel gpt
</span></span><span class="line"><span class="cl">(parted) mkpart primary 0% 100%
</span></span><span class="line"><span class="cl">(parted) quit</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-9eb1a30e9d4208b1ecebdf2e111ce8bc"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<p>Создать файловую систему:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-text" id="codeblock-16a2585f9885658c0d67707d7d15f606">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-9e5b4fa73fb0f254dcd0d20f6bdbea37"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">mkfs.xfs /dev/sdb1</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-9e5b4fa73fb0f254dcd0d20f6bdbea37"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>


<p>Настроить автоматическое монтирование раздела в <code>/etc/fstab</code>:</p>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-text" id="codeblock-55037cb04788e3cadfc7c0870f845139">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-0b87886b6bc9d5609a14957a774b5688"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">/dev/sdb1 /home/storage xfs defaults 0 0</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-0b87886b6bc9d5609a14957a774b5688"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>]]></content:encoded><pubDate>Tue, 02 Jun 2020 06:20:27 +0000</pubDate><category>Linux</category></item><item><title>Запись ISO на USB Flash Drive</title><link>https://lib.onl/ru/posts/2020/06/5d90ef6f-f05f-5462-b8a2-28dac0bb2f48/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2020/06/5d90ef6f-f05f-5462-b8a2-28dac0bb2f48/</guid><description>Команды для &amp;ldquo;правильной&amp;rdquo; записи ISO на USB Flash Drive.</description><content:encoded><![CDATA[<p>Команды для &ldquo;правильной&rdquo; записи ISO на USB Flash Drive.</p>
<ol>
<li>Определить USB-накопитель при помощи команды <code>fdisk -l</code>.</li>
<li>Отмонтировать ВСЕ разделы с USB-накопителя командой <code>umount /dev/sdX*</code>, где <code>X</code> - буква накопителя (например, <code>umount /dev/sdc*</code>).</li>
<li>Загрузить ISO на USB-накопитель:</li>
</ol>








  <div class="d-flex mb-3 overflow-hidden shortcode-codeblock shortcode-codeblock-sh" id="codeblock-dc04eda0b98e0ca618062e3611666b16">
    <div class="flex-grow-1 rounded overflow-hidden" id="clipboard-1910fea34faa4ca01de668eb7fad92ad"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># Отмонтировать и очистить USB-накопитель.</span>
</span></span><span class="line"><span class="cl">umount /dev/sdX* <span class="o">&amp;&amp;</span> sgdisk -Z /dev/sdX
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Записать образ на USB-накопитель.</span>
</span></span><span class="line"><span class="cl">dd <span class="k">if</span><span class="o">=</span>image.iso <span class="nv">of</span><span class="o">=</span>/dev/sdX <span class="nv">bs</span><span class="o">=</span>4M <span class="nv">oflag</span><span class="o">=</span>direct <span class="nv">status</span><span class="o">=</span>progress<span class="p">;</span> sync
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Извлечь USB-накопитель.</span>
</span></span><span class="line"><span class="cl">eject /dev/sdX</span></span></code></pre></div></div>
    <div class="flex-shrink-0">
      <ul class="list-inline mb-0">
        <li class="list-inline-item" data-bs-tooltip data-bs-title='Скопировать в буфер обмена'>
          <a class="text-body" href="#"
             data-fn="clipboard preventDefault" data-clipboard-target="#clipboard-1910fea34faa4ca01de668eb7fad92ad"
             role="button">
            <i class="fas fa-copy fa-fw"></i>
          </a>
        </li>
      </ul>
    </div>
  </div>]]></content:encoded><pubDate>Tue, 02 Jun 2020 06:20:24 +0000</pubDate><category>Linux</category></item><item><title>Первая запись</title><link>https://lib.onl/ru/posts/2020/06/6a305138-a151-5439-91d8-e2feeed39991/</link><dc:creator>Kitsune Solar</dc:creator><guid isPermaLink="true">https://lib.onl/ru/posts/2020/06/6a305138-a151-5439-91d8-e2feeed39991/</guid><description>Привет!</description><content:encoded>&lt;p>Привет!&lt;/p>
&lt;p>Это первая запись для тестирования конфигурации и возможностей данного блога. Запись для тестирования функциональности и корректности шаблонов.&lt;/p></content:encoded><pubDate>Tue, 02 Jun 2020 06:20:21 +0000</pubDate><category>Meta</category></item></channel></rss>