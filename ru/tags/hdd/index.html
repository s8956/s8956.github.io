<!doctype html><html class=h-100 dir=ltr lang=ru-RU prefix="og: http://ogp.me/ns#
      article: http://ogp.me/ns/article#
      profile: http://ogp.me/ns/profile#
      fb: http://ogp.me/ns/fb#"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><title>hdd / Library Online</title>
<meta name=title content="hdd / Library Online"><meta name=description content="Заметки на тему администрирования и разработки различных систем, приложений и серверов."><meta name=keywords content="forum,powershell,ipb,ips,debian,linux,cmd,cmf,cms,vbulletin,bash,fedora,git,php,systemd,terminal,cloudflare,find,gdm,github"><link rel=preconnect href=https://fonts.googleapis.com crossorigin=anonymous><link rel=preconnect href=https://fonts.gstatic.com crossorigin=anonymous><link rel=preconnect href=https://gravatar.com crossorigin=anonymous><link rel=preconnect href=https://images.unsplash.com crossorigin=anonymous><link rel=preload href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" crossorigin=anonymous as=style onload='this.rel="stylesheet"'><noscript><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" crossorigin=anonymous></noscript><link rel=preload href="https://fonts.googleapis.com/css2?family=PT+Serif:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" crossorigin=anonymous as=style onload='this.rel="stylesheet"'><noscript><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=PT+Serif:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" crossorigin=anonymous></noscript><link rel=preload href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" crossorigin=anonymous as=style onload='this.rel="stylesheet"'><noscript><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" crossorigin=anonymous></noscript><link rel=preload href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" crossorigin=anonymous as=style onload='this.rel="stylesheet"'><noscript><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" crossorigin=anonymous></noscript><link rel=preload href=/css/vendor.bundle.css as=style><link rel=stylesheet href=/css/vendor.bundle.css><link rel=preload href=/ru/css/system.bundle.min.css as=style><link rel=stylesheet href=/ru/css/system.bundle.min.css><link rel=icon type=image/png sizes=16x16 href=https://lib.onl/favicon-16.png><link rel="shortcut icon" type=image/png sizes=16x16 href=https://lib.onl/favicon-16.png><link rel=apple-touch-icon sizes=16x16 href=https://lib.onl/favicon-16.png><link rel=icon type=image/png sizes=24x24 href=https://lib.onl/favicon-24.png><link rel="shortcut icon" type=image/png sizes=24x24 href=https://lib.onl/favicon-24.png><link rel=apple-touch-icon sizes=24x24 href=https://lib.onl/favicon-24.png><link rel=icon type=image/png sizes=32x32 href=https://lib.onl/favicon-32.png><link rel="shortcut icon" type=image/png sizes=32x32 href=https://lib.onl/favicon-32.png><link rel=apple-touch-icon sizes=32x32 href=https://lib.onl/favicon-32.png><link rel=icon type=image/png sizes=48x48 href=https://lib.onl/favicon-48.png><link rel="shortcut icon" type=image/png sizes=48x48 href=https://lib.onl/favicon-48.png><link rel=apple-touch-icon sizes=48x48 href=https://lib.onl/favicon-48.png><link rel=icon type=image/png sizes=64x64 href=https://lib.onl/favicon-64.png><link rel="shortcut icon" type=image/png sizes=64x64 href=https://lib.onl/favicon-64.png><link rel=apple-touch-icon sizes=64x64 href=https://lib.onl/favicon-64.png><link rel=icon type=image/png sizes=72x72 href=https://lib.onl/favicon-72.png><link rel="shortcut icon" type=image/png sizes=72x72 href=https://lib.onl/favicon-72.png><link rel=apple-touch-icon sizes=72x72 href=https://lib.onl/favicon-72.png><link rel=icon type=image/png sizes=80x80 href=https://lib.onl/favicon-80.png><link rel="shortcut icon" type=image/png sizes=80x80 href=https://lib.onl/favicon-80.png><link rel=apple-touch-icon sizes=80x80 href=https://lib.onl/favicon-80.png><link rel=icon type=image/png sizes=96x96 href=https://lib.onl/favicon-96.png><link rel="shortcut icon" type=image/png sizes=96x96 href=https://lib.onl/favicon-96.png><link rel=apple-touch-icon sizes=96x96 href=https://lib.onl/favicon-96.png><link rel=icon type=image/png sizes=128x128 href=https://lib.onl/favicon-128.png><link rel="shortcut icon" type=image/png sizes=128x128 href=https://lib.onl/favicon-128.png><link rel=apple-touch-icon sizes=128x128 href=https://lib.onl/favicon-128.png><link rel=icon type=image/png sizes=144x144 href=https://lib.onl/favicon-144.png><link rel="shortcut icon" type=image/png sizes=144x144 href=https://lib.onl/favicon-144.png><link rel=apple-touch-icon sizes=144x144 href=https://lib.onl/favicon-144.png><link rel=icon type=image/png sizes=152x152 href=https://lib.onl/favicon-152.png><link rel="shortcut icon" type=image/png sizes=152x152 href=https://lib.onl/favicon-152.png><link rel=apple-touch-icon sizes=152x152 href=https://lib.onl/favicon-152.png><link rel=icon type=image/png sizes=167x167 href=https://lib.onl/favicon-167.png><link rel="shortcut icon" type=image/png sizes=167x167 href=https://lib.onl/favicon-167.png><link rel=apple-touch-icon sizes=167x167 href=https://lib.onl/favicon-167.png><link rel=icon type=image/png sizes=180x180 href=https://lib.onl/favicon-180.png><link rel="shortcut icon" type=image/png sizes=180x180 href=https://lib.onl/favicon-180.png><link rel=apple-touch-icon sizes=180x180 href=https://lib.onl/favicon-180.png><link rel=icon type=image/png sizes=192x192 href=https://lib.onl/favicon-192.png><link rel="shortcut icon" type=image/png sizes=192x192 href=https://lib.onl/favicon-192.png><link rel=apple-touch-icon sizes=192x192 href=https://lib.onl/favicon-192.png><link rel=icon type=image/png sizes=196x196 href=https://lib.onl/favicon-196.png><link rel="shortcut icon" type=image/png sizes=196x196 href=https://lib.onl/favicon-196.png><link rel=apple-touch-icon sizes=196x196 href=https://lib.onl/favicon-196.png><link rel=icon type=image/png sizes=256x256 href=https://lib.onl/favicon-256.png><link rel="shortcut icon" type=image/png sizes=256x256 href=https://lib.onl/favicon-256.png><link rel=apple-touch-icon sizes=256x256 href=https://lib.onl/favicon-256.png><link rel=icon type=image/png sizes=300x300 href=https://lib.onl/favicon-300.png><link rel="shortcut icon" type=image/png sizes=300x300 href=https://lib.onl/favicon-300.png><link rel=apple-touch-icon sizes=300x300 href=https://lib.onl/favicon-300.png><link rel=icon type=image/png sizes=512x512 href=https://lib.onl/favicon-512.png><link rel="shortcut icon" type=image/png sizes=512x512 href=https://lib.onl/favicon-512.png><link rel=apple-touch-icon sizes=512x512 href=https://lib.onl/favicon-512.png><link rel=icon type=image/svg+xml sizes=any href=https://lib.onl/favicon.svg><link rel="shortcut icon" type=image/x-icon href=https://lib.onl/favicon.ico><link rel="shortcut icon" type=image/vnd.microsoft.icon href=https://lib.onl/favicon.ico><link rel=first href=https://lib.onl/ru/tags/hdd/><link rel=last href=https://lib.onl/ru/tags/hdd/><link rel=canonical href=https://lib.onl/ru/tags/hdd/><link rel=alternate href=https://lib.onl/ hreflang=x-default><link rel=alternate href=https://lib.onl/ru/tags/hdd/ hreflang=ru><link rel=manifest type=application/manifest+json href=https://lib.onl/ru/manifest.json title="Library Online"><link rel=search type=application/opensearchdescription+xml href=https://lib.onl/ru/opensearch.xml title="Library Online"><link rel=alternate type=application/rss+xml href=https://lib.onl/ru/tags/hdd/index.xml title="Library Online"><meta name=application-name content="Library Online"><meta name=theme-color content="#f8f9fa" media="(prefers-color-scheme: light)"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://lib.onl/favicon-512.png"><meta name=twitter:title content="hdd"><meta name=twitter:description content="Заметки на тему администрирования и разработки различных систем, приложений и серверов."><meta property="og:title" content="hdd"><meta property="og:description" content="Заметки на тему администрирования и разработки различных систем, приложений и серверов."><meta property="og:type" content="website"><meta property="og:url" content="https://lib.onl/ru/tags/hdd/"><meta property="og:image" content="https://lib.onl/favicon-512.png"><meta property="twitter:domain" content="lib.onl"><meta property="twitter:url" content="https://lib.onl/ru/tags/hdd/"><meta property="og:locale" content="ru_RU"><meta property="og:site_name" content="Library Online"><meta name=DC.Title content="hdd"><meta name=DC.Subject content="Заметки на тему администрирования и разработки различных систем, приложений и серверов."><meta name=DC.Description content="Заметки на тему администрирования и разработки различных систем, приложений и серверов."><meta name=DC.Type content="Text"><meta name=DC.Source content="https://lib.onl/ru/tags/hdd/"><meta name=DC.Relation content="https://lib.onl/ru/tags/hdd/"><meta name=DC.Coverage content="World"><meta name=DC.Creator content="Library Online"><meta name=DC.Publisher content="Library Online"><meta name=DC.Contributor content="Library Online"><meta name=DC.Rights content="Library Online"><meta name=DC.Format content="Digital"><meta name=DC.Identifier content="https://lib.onl/ru/tags/hdd/"><meta name=DC.Language content="ru-RU"><meta name=DC.Provenance content="Library Online"><meta name=DC.RightsHolder content="Library Online"><meta name=DC.AccrualPeriodicity content="Weekly"><meta name=DC.AccrualPolicy content="Active"><script type=application/ld+json>{"@context":"https://schema.org","@type":"WebSite","name":"Library Online","url":"https://lib.onl/"}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","address":{"@type":"PostalAddress","addressCountry":"","addressLocality":"","addressRegion":"","postalCode":"","streetAddress":""},"contactPoint":{"@type":"ContactPoint","contactType":"","email":"","telephone":""},"description":"Заметки на тему администрирования и разработки различных систем, приложений и серверов.","foundingDate":"","legalName":"Library Online","logo":"https://lib.onl/","name":"Library Online","sameAs":[],"url":"https://lib.onl/"}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"ItemList","itemListElement":[{"@type":"SiteNavigationElement","name":"Статьи","position":10,"url":"https://lib.onl/ru/articles/"},{"@type":"SiteNavigationElement","name":"Q\u0026A","position":20,"url":"https://lib.onl/ru/faq/"},{"@type":"SiteNavigationElement","name":"Архив","position":100,"url":"https://lib.onl/ru/archive/"},{"@type":"SiteNavigationElement","name":"О проекте","position":999,"url":"https://lib.onl/ru/about/"},{"@type":"SiteNavigationElement","name":"META","position":9999,"url":"https://lib.onl/ru/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://lib.onl/ru/","name":"Главная","position":1},{"@type":"ListItem","item":"https://lib.onl/ru/tags/","name":"Теги","position":2},{"@type":"ListItem","item":"https://lib.onl/ru/tags/hdd/","name":"hdd","position":3}]}</script></head><body class="d-flex flex-column h-100 is-node type-tags"><header><nav class="navbar navbar-expand-lg navbar-light fixed-top border-bottom shadow-sm text-lg-center bg-light"><div class=container-fluid><a class=navbar-brand href=/ru/><img src=https://lib.onl/img/logo.min.svg alt=Логотип width=30 height=24 class="d-inline-block align-text-top"><h1 class="d-inline-block h5 m-0 ms-1">Library Online</h1></a><button type=button class=navbar-toggler data-bs-toggle=collapse data-bs-target=#navTopBar aria-controls=navTopBar aria-expanded=false aria-label='Переключить навигацию'>
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navTopBar><ul class="navbar-nav me-auto"><li class=nav-item><a class=nav-link href=/ru/articles/><i class="fas fa-book fa-fw"></i>
<span>Статьи</span></a></li><li class=nav-item><a class=nav-link href=/ru/faq/><i class="fas fa-circle-question fa-fw"></i>
<span>Q&amp;A</span></a></li><li class=nav-item><a class=nav-link href=/ru/archive/><i class="fas fa-archive fa-fw"></i>
<span>Архив</span></a></li><li class=nav-item><a class=nav-link href=/ru/about/><i class="fas fa-info-circle fa-fw"></i>
<span>О проекте</span></a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# role=button data-bs-toggle=dropdown aria-expanded=false><i class="fas fa-list fa-fw"></i>
<span>META</span></a><div class="dropdown-menu shadow"><a class=dropdown-item href=/ru/authors/><i class="fas fa-user-circle fa-fw"></i>
<span>Авторы</span>
</a><a class=dropdown-item href=/ru/categories/><i class="fas fa-folder-open fa-fw"></i>
<span>Категории</span>
</a><a class="dropdown-item active" href=/ru/tags/><i class="fas fa-tags fa-fw"></i>
<span>Теги</span></a></div></li></ul><ul class=navbar-nav><li class=nav-item><a class="nav-link d-lg-none" href=# data-bs-toggle=modal data-bs-target=#search-modal aria-label=Поиск><i class="fas fa-search fa-fw"></i>
<span>Поиск</span>
</a><a class="nav-link d-none d-lg-block" href=# data-bs-toggle=modal data-bs-target=#search-modal data-bs-tooltip data-bs-title=Поиск aria-label=Поиск><i class="fas fa-search fa-fw"></i></a></li></ul></div></div></nav></header><main class="wrapper flex-shrink-0"><div class="section py-3"><div class=container><nav style="--bs-breadcrumb-divider:'\2f '" class=small aria-label=breadcrumb><ol class="breadcrumb bg-light p-2 rounded"><li class=breadcrumb-item><a href=/ru/ aria-label=Главная><i class="fas fa-home fa-fw"></i></a></li><li class=breadcrumb-item><a href=/ru/tags/ aria-label=Теги>Теги</a></li><li class="breadcrumb-item active">hdd</li></ol></nav><div class="row row-cols-1 row-cols-lg-2 g-3"><div class=col><div class="d-sm-block d-md-none"><article class=node-articles><header><div class="node-cover mb-3"><a title="PowerShell: Стирание диска" class=d-block href=/ru/articles/2023/10/52d75b90-0637-5ba6-91d6-b1bff40e1d67/ data-bs-toggle=modal data-bs-target=#modal-ee8e7f2d0f11fcf70b2ca33ea3f0e80d><picture><source srcset='https://images.unsplash.com/photo-1646226343350-1ee5021e342a?crop=entropy&amp;w=640&amp;h=360&amp;fit=crop&amp;auto=compress,format 640w,https://images.unsplash.com/photo-1646226343350-1ee5021e342a?crop=entropy&amp;w=768&amp;h=432&amp;fit=crop&amp;auto=compress,format 768w,https://images.unsplash.com/photo-1646226343350-1ee5021e342a?crop=entropy&amp;w=1024&amp;h=576&amp;fit=crop&amp;auto=compress,format 1024w,https://images.unsplash.com/photo-1646226343350-1ee5021e342a?crop=entropy&amp;w=1280&amp;h=720&amp;fit=crop&amp;auto=compress,format 1280w,https://images.unsplash.com/photo-1646226343350-1ee5021e342a?crop=entropy&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format 1600w' sizes="(min-width: 576px) 100vw"><img class="d-block w-100 h-100 rounded" src="https://images.unsplash.com/photo-1646226343350-1ee5021e342a?crop=entropy&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format" width=1600 height=900 alt="PowerShell: Стирание диска"></picture></a></div><div class=node-title><h2 class=h5><a href=/ru/articles/2023/10/52d75b90-0637-5ba6-91d6-b1bff40e1d67/ data-bs-toggle=modal data-bs-target=#modal-ee8e7f2d0f11fcf70b2ca33ea3f0e80d>PowerShell: Стирание диска</a></h2></div></header><div class=node-body><p>Небольшой скрипт, который обнуляет HDD/SSD и создаёт файловую систему заново.</p></div></article></div><div class="d-none d-md-block"><article class="node-articles d-flex overflow-hidden"><div class="flex-shrink-0 me-3"><div class=node-cover><a title="PowerShell: Стирание диска" class=d-block href=/ru/articles/2023/10/52d75b90-0637-5ba6-91d6-b1bff40e1d67/ data-bs-toggle=modal data-bs-target=#modal-ee8e7f2d0f11fcf70b2ca33ea3f0e80d><img class="d-block rounded" src="https://images.unsplash.com/photo-1646226343350-1ee5021e342a?crop=entropy&amp;w=160&amp;h=160&amp;fit=crop&amp;auto=compress,format" width=160 height=160 alt="PowerShell: Стирание диска"></a></div></div><div class="flex-grow-1 overflow-hidden"><header><div class=node-title><h2 class=h5><a href=/ru/articles/2023/10/52d75b90-0637-5ba6-91d6-b1bff40e1d67/ data-bs-toggle=modal data-bs-target=#modal-ee8e7f2d0f11fcf70b2ca33ea3f0e80d>PowerShell: Стирание диска</a></h2></div></header><div class=node-body><p>Небольшой скрипт, который обнуляет HDD/SSD и создаёт файловую систему заново.</p></div></div></article></div><div class="modal fade" id=modal-ee8e7f2d0f11fcf70b2ca33ea3f0e80d tabindex=-1 aria-labelledby=modal-ee8e7f2d0f11fcf70b2ca33ea3f0e80d-label aria-hidden=true><div class="modal-dialog modal-fullscreen"><div class=modal-content><div class=modal-header><h2 class="modal-title fs-5 text-truncate" id=modal-ee8e7f2d0f11fcf70b2ca33ea3f0e80d-label><a href=/ru/articles/2023/10/52d75b90-0637-5ba6-91d6-b1bff40e1d67/>PowerShell: Стирание диска</a></h2><button type=button class=btn-close data-bs-dismiss=modal aria-label=Закрыть></button></div><div class=modal-body><div class=node-body><p>Небольшой скрипт, который обнуляет HDD/SSD и создаёт файловую систему заново.</p><h2>Параметры</h2><ul><li><code>-DN</code> <code>-P_DiskNumber</code> - номер диска. Можно узнать командой <code>Get-Disk</code>. Но если не ввести номер диска в параметры скрипта при запуске, скрипт сам выведет информацию и спросит номер диска. Обязательный параметр.</li><li><code>-DL</code> <code>-P_DriveLetter</code> - буква будущего тома. При создании тома, ОС должна присвоить ему букву. Обязательный параметр.</li><li><code>-FS</code> <code>-P_FileSystem</code> - файловая система. Может принимать следующие значения:<ul><li><code>'FAT'</code> - файловая система FAT.</li><li><code>'FAT32'</code> - файловая система FAT32.</li><li><code>'exFAT'</code> - файловая система exFAT.</li><li><code>'NTFS'</code> - файловая система NTFS.</li><li><code>'ReFS'</code> - новая файловая система ReFS.</li></ul></li><li><code>-FSL</code> <code>-P_FileSystemLabel</code> - метка файловой системы.</li><li><code>-S</code> <code>-P_Sleep</code> - перерыв между командами (в секундах).</li></ul><h2>Примеры</h2><p>Скрипт, запущенный без параметров, сам спросит необходимые данные:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-0 shortcode-codeblock-terminal
shortcode-codeblock-terminal-windows
shortcode-codeblock-terminal-windows-root"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class="flex-shrink-0 text-danger"><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-6acdc934a9ca640f6c1e409a6cfb5923 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-6acdc934a9ca640f6c1e409a6cfb5923><div class=highlight><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=p>.\</span><span class=n>pwsh</span><span class=p>.</span><span class=py>disk</span><span class=p>.</span><span class=py>erase</span><span class=p>.</span><span class=n>ps1</span></span></span></code></pre></div></div></div></div><p>Обнулить диск <code>3</code>, новому разделу присвоить букву <code>E</code>, форматировать в <code>NTFS</code> и указать метку <code>USB-SSD</code>:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-1 shortcode-codeblock-terminal
shortcode-codeblock-terminal-windows
shortcode-codeblock-terminal-windows-root"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class="flex-shrink-0 text-danger"><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-977744244801dfda6ce9d94cbe2106ea role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-977744244801dfda6ce9d94cbe2106ea><div class=highlight><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=p>.\</span><span class=n>pwsh</span><span class=p>.</span><span class=py>disk</span><span class=p>.</span><span class=py>erase</span><span class=p>.</span><span class=py>ps1</span> <span class=n>-DN</span> <span class=mf>3</span> <span class=n>-DL</span> <span class=s1>&#39;E&#39;</span> <span class=n>-FS</span> <span class=s1>&#39;NTFS&#39;</span> <span class=n>-FSL</span> <span class=s1>&#39;USB-SSD&#39;</span></span></span></code></pre></div></div></div></div><h2>Скрипт</h2><div class="shortcode shortcode-file mb-3"><div class="card overflow-hidden"><div class=card-header><div class="d-flex align-items-center"><div class=flex-shrink-0><i class="far fa-file-code fa-fw"></i></div><div class="flex-grow-1 mx-2"><code>pwsh.disk.erase.ps1</code></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-9cc03b5140e57bc9ed9df11199f5b7a2 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li><li class=list-inline-item data-bs-tooltip data-bs-title=Скачать><a class=text-body href=pwsh.disk.erase.ps1 download role=button aria-label=Скачать><i class="fas fa-download fa-fw"></i></a></li><li class=list-inline-item data-bs-tooltip data-bs-title=Открыть><a class=text-body href=pwsh.disk.erase.ps1 target=_blank role=button aria-label=Открыть><i class="fas fa-arrow-up-right-from-square fa-fw"></i></a></li></ul></div></div></div><div class=card-body id=clipboard-9cc03b5140e57bc9ed9df11199f5b7a2><div class=highlight><pre tabindex=0 class=chroma><code class=language-ps1 data-lang=ps1><span class=line><span class=cl><span class=cm>&lt;#PSScriptInfo
</span></span></span><span class=line><span class=cl><span class=cm>  .VERSION      0.1.0
</span></span></span><span class=line><span class=cl><span class=cm>  .GUID         8d95f4d5-4d14-412c-9fa4-b75ebe79df09
</span></span></span><span class=line><span class=cl><span class=cm>  .AUTHOR       Kitsune Solar
</span></span></span><span class=line><span class=cl><span class=cm>  .AUTHOREMAIL  mail@kitsune.solar
</span></span></span><span class=line><span class=cl><span class=cm>  .COMPANYNAME  iHub TO
</span></span></span><span class=line><span class=cl><span class=cm>  .COPYRIGHT    2023 iHub TO. All rights reserved.
</span></span></span><span class=line><span class=cl><span class=cm>  .LICENSEURI   https://choosealicense.com/licenses/mit/
</span></span></span><span class=line><span class=cl><span class=cm>  .PROJECTURI   https://lib.onl/ru/posts/2023/10/52d75b90-0637-5ba6-91d6-b1bff40e1d67/
</span></span></span><span class=line><span class=cl><span class=cm>#&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c>#</span><span class=k>Requires</span><span class=w> </span><span class=kd>-Version</span><span class=na> 7.2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c>#</span><span class=k>Requires</span><span class=w> </span><span class=kd>-RunAsAdministrator</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=cm>&lt;#
</span></span></span><span class=line><span class=cl><span class=cm>  .</span><span class=sd>SYNOPSIS</span><span class=cm>
</span></span></span><span class=line><span class=cl><span class=cm>  Disk erase script.
</span></span></span><span class=line><span class=cl><span class=cm>
</span></span></span><span class=line><span class=cl><span class=cm>  .</span><span class=sd>DESCRIPTION</span><span class=cm>
</span></span></span><span class=line><span class=cl><span class=cm>  Disk cleanup followed by partition creation.
</span></span></span><span class=line><span class=cl><span class=cm>
</span></span></span><span class=line><span class=cl><span class=cm>  .PARAMETER P_DiskNumber
</span></span></span><span class=line><span class=cl><span class=cm>  Specifies the disk number of the disk on which to perform the clear operation. For a list of available disks, see the &#39;Get-Disk&#39; cmdlet.
</span></span></span><span class=line><span class=cl><span class=cm>
</span></span></span><span class=line><span class=cl><span class=cm>  .PARAMETER P_FileSystem
</span></span></span><span class=line><span class=cl><span class=cm>  Specifies the file system with which to format the volume.
</span></span></span><span class=line><span class=cl><span class=cm>  The acceptable values for this parameter are: &#39;NTFS&#39;, &#39;ReFS&#39;, &#39;exFAT&#39;, &#39;FAT32&#39; and &#39;FAT&#39;.
</span></span></span><span class=line><span class=cl><span class=cm>
</span></span></span><span class=line><span class=cl><span class=cm>  .PARAMETER P_Sleep
</span></span></span><span class=line><span class=cl><span class=cm>  Sleep time (in seconds).
</span></span></span><span class=line><span class=cl><span class=cm>
</span></span></span><span class=line><span class=cl><span class=cm>  .</span><span class=sd>EXAMPLE</span><span class=cm>
</span></span></span><span class=line><span class=cl><span class=cm>  .\pwsh.disk.erase.ps1 -DN 3 -DL &#39;E&#39; -FS &#39;NTFS&#39; -FSL &#39;USB-SSD&#39;
</span></span></span><span class=line><span class=cl><span class=cm>
</span></span></span><span class=line><span class=cl><span class=cm>  .</span><span class=sd>LINK</span><span class=cm>
</span></span></span><span class=line><span class=cl><span class=cm>  https://lib.onl/ru/posts/2023/10/52d75b90-0637-5ba6-91d6-b1bff40e1d67/
</span></span></span><span class=line><span class=cl><span class=cm>#&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>Param</span><span class=p>(</span>
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=nb>Parameter</span><span class=p>(</span><span class=na>HelpMessage</span><span class=p>=</span><span class=s2>&#34;Specify the disk number.&#34;</span><span class=p>)]</span>
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=nb>ValidatePattern</span><span class=p>(</span><span class=s1>&#39;^[0-9]+$&#39;</span><span class=p>)]</span>
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=nb>Alias</span><span class=p>(</span><span class=s1>&#39;DN&#39;</span><span class=p>)][</span><span class=no>int</span><span class=p>]</span><span class=nv>$P_DiskNumber</span><span class=p>,</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=nb>Parameter</span><span class=p>(</span><span class=na>HelpMessage</span><span class=p>=</span><span class=s2>&#34;Specify the file system to format the volume.&#34;</span><span class=p>)]</span>
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=nb>ValidateSet</span><span class=p>(</span><span class=s1>&#39;FAT&#39;</span><span class=p>,</span> <span class=s1>&#39;FAT32&#39;</span><span class=p>,</span> <span class=s1>&#39;exFAT&#39;</span><span class=p>,</span> <span class=s1>&#39;NTFS&#39;</span><span class=p>,</span> <span class=s1>&#39;ReFS&#39;</span><span class=p>)]</span>
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=nb>Alias</span><span class=p>(</span><span class=s1>&#39;FS&#39;</span><span class=p>)][</span><span class=no>string</span><span class=p>]</span><span class=nv>$P_FileSystem</span><span class=p>,</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=nb>Parameter</span><span class=p>(</span><span class=na>HelpMessage</span><span class=p>=</span><span class=s2>&#34;Sleep time (in seconds).&#34;</span><span class=p>)]</span>
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=nb>Alias</span><span class=p>(</span><span class=s1>&#39;S&#39;</span><span class=p>)][</span><span class=no>int</span><span class=p>]</span><span class=nv>$P_Sleep</span> <span class=p>=</span> <span class=mf>2</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c># -------------------------------------------------------------------------------------------------------------------- #</span>
</span></span><span class=line><span class=cl><span class=c># CONFIGURATION.</span>
</span></span><span class=line><span class=cl><span class=c># -------------------------------------------------------------------------------------------------------------------- #</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c># New line separator.</span>
</span></span><span class=line><span class=cl><span class=nv>$NL</span> <span class=p>=</span> <span class=s2>&#34;</span><span class=p>$([</span><span class=no>Environment</span><span class=p>]::</span><span class=n>NewLine</span><span class=p>)</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c># Random number.</span>
</span></span><span class=line><span class=cl><span class=nv>$Random</span> <span class=p>=</span> <span class=s2>&#34;</span><span class=p>$(</span><span class=nb>Get-Random</span> <span class=n>-Minimum</span> <span class=mf>1000</span> <span class=n>-Maximum</span> <span class=mf>9999</span><span class=p>)</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c># Getting free drive letter and to assign to the new partition.</span>
</span></span><span class=line><span class=cl><span class=nv>$DriveLetter</span> <span class=p>=</span> <span class=s2>&#34;</span><span class=p>$((</span><span class=mf>68</span><span class=p>.</span><span class=mf>.90</span> <span class=p>|</span> <span class=nb>ForEach-Object</span> <span class=p>{</span> <span class=nv>$L</span><span class=p>=[</span><span class=no>char</span><span class=p>]</span><span class=nv>$_</span><span class=p>;</span> <span class=k>if</span> <span class=p>((</span><span class=nb>Get-PSDrive</span><span class=p>).</span><span class=py>Name</span> <span class=o>-notContains</span> <span class=nv>$L</span><span class=p>)</span> <span class=p>{</span> <span class=nv>$L</span> <span class=p>}</span> <span class=p>})[</span><span class=mf>0</span><span class=p>])</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c># Specifying a new label to use for the volume.</span>
</span></span><span class=line><span class=cl><span class=nv>$FileSystemLabel</span> <span class=p>=</span> <span class=s2>&#34;DISK_</span><span class=nv>${Random}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c># -------------------------------------------------------------------------------------------------------------------- #</span>
</span></span><span class=line><span class=cl><span class=c># INITIALIZATION.</span>
</span></span><span class=line><span class=cl><span class=c># -------------------------------------------------------------------------------------------------------------------- #</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span><span class=w> </span><span class=nb>Start-Script</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nb>Start-DPDiskList</span>        <span class=c># Showing disk list.</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=o>-not</span> <span class=nv>$P_DiskNumber</span><span class=p>)</span> <span class=p>{</span> <span class=nv>$P_DiskNumber</span> <span class=p>=</span> <span class=p>(</span><span class=nb>Read-Host</span> <span class=n>-Prompt</span> <span class=s1>&#39;Disk number&#39;</span><span class=p>)</span> <span class=p>}</span>   <span class=c># Getting disk number.</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=o>-not</span> <span class=nv>$P_FileSystem</span><span class=p>)</span> <span class=p>{</span> <span class=nv>$P_FileSystem</span> <span class=p>=</span> <span class=p>(</span><span class=nb>Read-Host</span> <span class=n>-Prompt</span> <span class=s1>&#39;File system&#39;</span><span class=p>)</span> <span class=p>}</span>   <span class=c># Getting file system.</span>
</span></span><span class=line><span class=cl>  <span class=nb>Start-DPDiskClear</span>       <span class=c># Starting clearing disk.</span>
</span></span><span class=line><span class=cl>  <span class=nb>Start-DPDiskInit</span>        <span class=c># Initializing disk.</span>
</span></span><span class=line><span class=cl>  <span class=nb>Start-DPDiskPartition</span>   <span class=c># Creating partition.</span>
</span></span><span class=line><span class=cl>  <span class=nb>Start-DPDiskFormat</span>      <span class=c># Formatting volume.</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c># -------------------------------------------------------------------------------------------------------------------- #</span>
</span></span><span class=line><span class=cl><span class=c># DISK LIST.</span>
</span></span><span class=line><span class=cl><span class=c># -------------------------------------------------------------------------------------------------------------------- #</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span><span class=w> </span><span class=nb>Start-DPDiskList</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nb>Write-Msg</span> <span class=n>-T</span> <span class=s1>&#39;HL&#39;</span> <span class=n>-M</span> <span class=s1>&#39;Disk List&#39;</span>
</span></span><span class=line><span class=cl>  <span class=nb>Get-Disk</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c># -------------------------------------------------------------------------------------------------------------------- #</span>
</span></span><span class=line><span class=cl><span class=c># CLEAR DISK.</span>
</span></span><span class=line><span class=cl><span class=c># -------------------------------------------------------------------------------------------------------------------- #</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span><span class=w> </span><span class=nb>Start-DPDiskClear</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nb>Write-Msg</span> <span class=n>-T</span> <span class=s1>&#39;HL&#39;</span> <span class=n>-M</span> <span class=s2>&#34;[DISK #</span><span class=nv>${P_DiskNumber}</span><span class=s2>] Clear Disk&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nb>Write-Msg</span> <span class=n>-T</span> <span class=s1>&#39;W&#39;</span> <span class=n>-A</span> <span class=s1>&#39;Inquire&#39;</span> <span class=n>-M</span> <span class=p>(</span><span class=s2>&#34;You specified drive number &#39;</span><span class=nv>${P_DiskNumber}</span><span class=s2>&#39;.</span><span class=nv>${NL}</span><span class=s2>&#34;</span> <span class=p>+</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;All data will be DELETED!&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nv>$Param</span> <span class=p>=</span> <span class=vm>@</span><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Number</span> <span class=p>=</span> <span class=nv>$P_DiskNumber</span>
</span></span><span class=line><span class=cl>    <span class=n>RemoveData</span> <span class=p>=</span> <span class=vm>$true</span>
</span></span><span class=line><span class=cl>    <span class=n>RemoveOEM</span> <span class=p>=</span> <span class=vm>$true</span>
</span></span><span class=line><span class=cl>    <span class=n>Confirm</span> <span class=p>=</span> <span class=vm>$false</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nb>Clear-Disk</span> <span class=nv>@Param</span>
</span></span><span class=line><span class=cl>  <span class=nb>Start-Sleep</span> <span class=n>-s</span> <span class=nv>$P_Sleep</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c># -------------------------------------------------------------------------------------------------------------------- #</span>
</span></span><span class=line><span class=cl><span class=c># INITIALIZE DISK.</span>
</span></span><span class=line><span class=cl><span class=c># -------------------------------------------------------------------------------------------------------------------- #</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span><span class=w> </span><span class=nb>Start-DPDiskInit</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nb>Write-Msg</span> <span class=n>-T</span> <span class=s1>&#39;HL&#39;</span> <span class=n>-M</span> <span class=s2>&#34;[DISK #</span><span class=nv>${P_DiskNumber}</span><span class=s2>] Initialize Disk&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nv>$Param</span> <span class=p>=</span> <span class=vm>@</span><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Number</span> <span class=p>=</span> <span class=nv>$P_DiskNumber</span>
</span></span><span class=line><span class=cl>    <span class=n>PartitionStyle</span> <span class=p>=</span> <span class=s1>&#39;GPT&#39;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nb>Initialize-Disk</span> <span class=nv>@Param</span>
</span></span><span class=line><span class=cl>  <span class=nb>Start-Sleep</span> <span class=n>-s</span> <span class=nv>$P_Sleep</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c># -------------------------------------------------------------------------------------------------------------------- #</span>
</span></span><span class=line><span class=cl><span class=c># CREATE PARTITION.</span>
</span></span><span class=line><span class=cl><span class=c># -------------------------------------------------------------------------------------------------------------------- #</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span><span class=w> </span><span class=nb>Start-DPDiskPartition</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nb>Write-Msg</span> <span class=n>-T</span> <span class=s1>&#39;HL&#39;</span> <span class=n>-M</span> <span class=s2>&#34;[DISK #</span><span class=nv>${P_DiskNumber}</span><span class=s2>] Create Partition&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nv>$Param</span> <span class=p>=</span> <span class=vm>@</span><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>DiskNumber</span> <span class=p>=</span> <span class=nv>$P_DiskNumber</span>
</span></span><span class=line><span class=cl>    <span class=n>DriveLetter</span> <span class=p>=</span> <span class=s2>&#34;</span><span class=nv>${DriveLetter}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>UseMaximumSize</span> <span class=p>=</span> <span class=vm>$true</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nb>New-Partition</span> <span class=nv>@Param</span>
</span></span><span class=line><span class=cl>  <span class=nb>Start-Sleep</span> <span class=n>-s</span> <span class=nv>$P_Sleep</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c># -------------------------------------------------------------------------------------------------------------------- #</span>
</span></span><span class=line><span class=cl><span class=c># FORMAT DISK VOLUME.</span>
</span></span><span class=line><span class=cl><span class=c># -------------------------------------------------------------------------------------------------------------------- #</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span><span class=w> </span><span class=nb>Start-DPDiskFormat</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nb>Write-Msg</span> <span class=n>-T</span> <span class=s1>&#39;HL&#39;</span> <span class=n>-M</span> <span class=s2>&#34;[DISK #</span><span class=nv>${P_DiskNumber}</span><span class=s2>] Format Disk Volume (</span><span class=nv>${DriveLetter}</span><span class=s2> / </span><span class=nv>${P_FileSystem}</span><span class=s2>)&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=o>-not</span> <span class=nv>$P_FileSystem</span><span class=p>)</span> <span class=p>{</span> <span class=nv>$P_FileSystem</span> <span class=p>=</span> <span class=s1>&#39;NTFS&#39;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nv>$Param</span> <span class=p>=</span> <span class=vm>@</span><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>DriveLetter</span> <span class=p>=</span> <span class=s2>&#34;</span><span class=nv>${DriveLetter}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>FileSystem</span> <span class=p>=</span> <span class=s2>&#34;</span><span class=nv>${P_FileSystem}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>NewFileSystemLabel</span> <span class=p>=</span> <span class=s2>&#34;</span><span class=nv>${FileSystemLabel}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>Force</span> <span class=p>=</span> <span class=vm>$true</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nb>Format-Volume</span> <span class=nv>@Param</span>
</span></span><span class=line><span class=cl>  <span class=nb>Start-Sleep</span> <span class=n>-s</span> <span class=nv>$P_Sleep</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c># -------------------------------------------------------------------------------------------------------------------- #</span>
</span></span><span class=line><span class=cl><span class=c># ------------------------------------------------&lt; COMMON FUNCTIONS &gt;------------------------------------------------ #</span>
</span></span><span class=line><span class=cl><span class=c># -------------------------------------------------------------------------------------------------------------------- #</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c># -------------------------------------------------------------------------------------------------------------------- #</span>
</span></span><span class=line><span class=cl><span class=c># SYSTEM MESSAGES.</span>
</span></span><span class=line><span class=cl><span class=c># -------------------------------------------------------------------------------------------------------------------- #</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span><span class=w> </span><span class=nb>Write-Msg</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>param</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=p>[</span><span class=nb>Alias</span><span class=p>(</span><span class=s1>&#39;T&#39;</span><span class=p>)][</span><span class=no>string</span><span class=p>]</span><span class=nv>$Type</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>[</span><span class=nb>Alias</span><span class=p>(</span><span class=s1>&#39;M&#39;</span><span class=p>)][</span><span class=no>string</span><span class=p>]</span><span class=nv>$Message</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>[</span><span class=nb>Alias</span><span class=p>(</span><span class=s1>&#39;A&#39;</span><span class=p>)][</span><span class=no>string</span><span class=p>]</span><span class=nv>$Action</span> <span class=p>=</span> <span class=s1>&#39;Continue&#39;</span>
</span></span><span class=line><span class=cl>  <span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>switch</span> <span class=p>(</span><span class=nv>$Type</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;HL&#39;</span>    <span class=p>{</span> <span class=nb>Write-Host</span> <span class=s2>&#34;</span><span class=nv>${NL}</span><span class=s2>--- </span><span class=nv>${Message}</span><span class=s2>&#34;</span><span class=p>.</span><span class=py>ToUpper</span><span class=p>()</span> <span class=n>-ForegroundColor</span> <span class=n>Blue</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;I&#39;</span>     <span class=p>{</span> <span class=nb>Write-Information</span> <span class=n>-MessageData</span> <span class=s2>&#34;</span><span class=nv>${Message}</span><span class=s2>&#34;</span> <span class=n>-InformationAction</span> <span class=s2>&#34;</span><span class=nv>${Action}</span><span class=s2>&#34;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;W&#39;</span>     <span class=p>{</span> <span class=nb>Write-Warning</span> <span class=n>-Message</span> <span class=s2>&#34;</span><span class=nv>${Message}</span><span class=s2>&#34;</span> <span class=n>-WarningAction</span> <span class=s2>&#34;</span><span class=nv>${Action}</span><span class=s2>&#34;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;E&#39;</span>     <span class=p>{</span> <span class=nb>Write-Error</span> <span class=n>-Message</span> <span class=s2>&#34;</span><span class=nv>${Message}</span><span class=s2>&#34;</span> <span class=n>-ErrorAction</span> <span class=s2>&#34;</span><span class=nv>${Action}</span><span class=s2>&#34;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>default</span> <span class=p>{</span> <span class=nb>Write-Host</span> <span class=s2>&#34;</span><span class=nv>${Message}</span><span class=s2>&#34;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c># -------------------------------------------------------------------------------------------------------------------- #</span>
</span></span><span class=line><span class=cl><span class=c># -------------------------------------------------&lt; RUNNING SCRIPT &gt;------------------------------------------------- #</span>
</span></span><span class=line><span class=cl><span class=c># -------------------------------------------------------------------------------------------------------------------- #</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>Start-Script</span></span></span></code></pre></div></div></div></div></div></div><div class=modal-footer><ul class="list-inline text-center text-body-secondary small"><li class=list-inline-item><a href=https://lib.onl/ru/tags/powershell/>#powershell</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/hdd/>#hdd</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/ssd/>#ssd</a></li><li class=list-inline-item>&bull;</li><li class="list-inline-item text-success" data-bs-tooltip data-bs-title='Уровень сложности: Простой'><i class="far fa-face-smile fa-fw"></i></li><li class=list-inline-item>&bull;</li><li class=list-inline-item><time datetime=2023-10-23T11:03:04Z data-fn=date-local>2023/10/23 11:03:04 UTC</time></li></ul></div></div></div></div></div><div class=col><div class="d-sm-block d-md-none"><article class=node-articles><header><div class="node-cover mb-3"><a title="Дефрагментация в ОС Windows" class=d-block href=/ru/articles/2023/10/eb39e3f7-b194-53d4-8bad-01edf9fdac47/ data-bs-toggle=modal data-bs-target=#modal-7ee46f5afcb8efcf647b56ad0cfd905c><picture><source srcset='https://images.unsplash.com/photo-1591913139332-f8172ef511da?crop=entropy&amp;w=640&amp;h=360&amp;fit=crop&amp;auto=compress,format 640w,https://images.unsplash.com/photo-1591913139332-f8172ef511da?crop=entropy&amp;w=768&amp;h=432&amp;fit=crop&amp;auto=compress,format 768w,https://images.unsplash.com/photo-1591913139332-f8172ef511da?crop=entropy&amp;w=1024&amp;h=576&amp;fit=crop&amp;auto=compress,format 1024w,https://images.unsplash.com/photo-1591913139332-f8172ef511da?crop=entropy&amp;w=1280&amp;h=720&amp;fit=crop&amp;auto=compress,format 1280w,https://images.unsplash.com/photo-1591913139332-f8172ef511da?crop=entropy&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format 1600w' sizes="(min-width: 576px) 100vw"><img class="d-block w-100 h-100 rounded" src="https://images.unsplash.com/photo-1591913139332-f8172ef511da?crop=entropy&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format" width=1600 height=900 alt="Дефрагментация в ОС Windows"></picture></a></div><div class=node-title><h2 class=h5><a href=/ru/articles/2023/10/eb39e3f7-b194-53d4-8bad-01edf9fdac47/ data-bs-toggle=modal data-bs-target=#modal-7ee46f5afcb8efcf647b56ad0cfd905c>Дефрагментация в ОС Windows</a></h2></div></header><div class=node-body><p>При работе с оборудованием, мне приходится сталкиваться с довольно старыми устройствами, их их работу нужно как-нибудь оптимизировать. Одним из вариантов оптимизации является дефрагментация HDD.</p></div></article></div><div class="d-none d-md-block"><article class="node-articles d-flex overflow-hidden"><div class="flex-shrink-0 me-3"><div class=node-cover><a title="Дефрагментация в ОС Windows" class=d-block href=/ru/articles/2023/10/eb39e3f7-b194-53d4-8bad-01edf9fdac47/ data-bs-toggle=modal data-bs-target=#modal-7ee46f5afcb8efcf647b56ad0cfd905c><img class="d-block rounded" src="https://images.unsplash.com/photo-1591913139332-f8172ef511da?crop=entropy&amp;w=160&amp;h=160&amp;fit=crop&amp;auto=compress,format" width=160 height=160 alt="Дефрагментация в ОС Windows"></a></div></div><div class="flex-grow-1 overflow-hidden"><header><div class=node-title><h2 class=h5><a href=/ru/articles/2023/10/eb39e3f7-b194-53d4-8bad-01edf9fdac47/ data-bs-toggle=modal data-bs-target=#modal-7ee46f5afcb8efcf647b56ad0cfd905c>Дефрагментация в ОС Windows</a></h2></div></header><div class=node-body><p>При работе с оборудованием, мне приходится сталкиваться с довольно старыми устройствами, их их работу нужно как-нибудь оптимизировать. Одним из вариантов оптимизации является дефрагментация HDD.</p></div></div></article></div><div class="modal fade" id=modal-7ee46f5afcb8efcf647b56ad0cfd905c tabindex=-1 aria-labelledby=modal-7ee46f5afcb8efcf647b56ad0cfd905c-label aria-hidden=true><div class="modal-dialog modal-fullscreen"><div class=modal-content><div class=modal-header><h2 class="modal-title fs-5 text-truncate" id=modal-7ee46f5afcb8efcf647b56ad0cfd905c-label><a href=/ru/articles/2023/10/eb39e3f7-b194-53d4-8bad-01edf9fdac47/>Дефрагментация в ОС Windows</a></h2><button type=button class=btn-close data-bs-dismiss=modal aria-label=Закрыть></button></div><div class=modal-body><div class=node-body><p>При работе с оборудованием, мне приходится сталкиваться с довольно старыми устройствами, их их работу нужно как-нибудь оптимизировать. Одним из вариантов оптимизации является дефрагментация HDD.</p><h2>PowerShell</h2><p>Командлет по дефрагментации для PowerShell называется <code>Optimize-Volume</code> и может принимать следующие параметры:</p><ul><li><code>-Analyze</code> - выполнение анализа указанного тома.</li><li><code>-Defrag</code> - выполнение дефрагментации указанного тома.</li><li><code>-DriveLetter</code> - буква тома.</li><li><code>-NormalPriority</code> - выполнение процесса с нормальным приоритетом (по умолчанию приоритет пониженный).</li><li><code>-ReTrim</code> - выполнение TRIM-операции для SSD.</li></ul><p>Это наиболее востребованные параметры. Остальные параметры можно посмотреть в <a title href=https://learn.microsoft.com/en-us/powershell/module/storage/optimize-volume target=_blank rel="noopener noreferrer nofollow">официальной документации</a>.</p><div class="shortcode shortcode-alert"><div class="alert alert-success d-flex overflow-hidden" role=alert><div class="flex-shrink-0 align-self-center"><i class="fas fa-lightbulb fa-fw fa-2x"></i></div><div class="flex-grow-1 ms-3 overflow-hidden"><p>Для всех команд можно добавить параметр <code>-Verbose</code>, который выводит подробную информацию о происходящем процессе.</p></div></div></div><h3>Анализ тома</h3><div class="shortcode shortcode-codeblock shortcode-codeblock-0 shortcode-codeblock-powershell"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-63480de7eff3174bd6ed11276f333098><div class=highlight><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=nb>Optimize-Volume</span> <span class=n>-DriveLetter</span> <span class=n>C</span> <span class=n>-Analyze</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-63480de7eff3174bd6ed11276f333098 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Где:</p><ul><li><code>-DriveLetter C</code> - буква тома (диск C:).</li><li><code>-Analyze</code> - анализ.</li></ul><h3>Дефрагментация</h3><div class="shortcode shortcode-codeblock shortcode-codeblock-1 shortcode-codeblock-powershell"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-22467129bb3dc58bdea60e73bac916a2><div class=highlight><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=nb>Optimize-Volume</span> <span class=n>-DriveLetter</span> <span class=n>C</span> <span class=n>-Defrag</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-22467129bb3dc58bdea60e73bac916a2 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Где:</p><ul><li><code>-DriveLetter C</code> - буква тома (диск C:).</li><li><code>-Defrag</code> - дефрагментация.</li></ul><h3>TRIM-операция для SSD</h3><div class="shortcode shortcode-codeblock shortcode-codeblock-2 shortcode-codeblock-powershell"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-748357a37096118f204f1db15dcbd6e4><div class=highlight><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=nb>Optimize-Volume</span> <span class=n>-DriveLetter</span> <span class=n>C</span> <span class=n>-ReTrim</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-748357a37096118f204f1db15dcbd6e4 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Где:</p><ul><li><code>-DriveLetter C</code> - буква тома (диск C:).</li><li><code>-ReTrim</code> - на дисках SSD запускает TRIM-операцию.</li></ul><h2>CMD Defrag</h2><p>Утилита <code>defrag.exe</code> выполняет анализ и оптимизацию томов через командную строку. Утилита может принимать следующие параметры:</p><ul><li>Тома:<ul><li><code>/c</code> - выполнение операции на всех томах.</li><li><code>/e</code> - выполнение операции на всех томах, кроме указанных.</li></ul></li><li>Операции:<ul><li><code>/a</code> - анализ указанных томов.</li><li><code>/d</code> - выполнение традиционной дефрагментации (по умолчанию). На многоуровневом томе традиционная дефрагментация выполняется только на уровне ёмкости.</li><li><code>/l</code> - выполнение TRIM-операции для SSD.</li><li><code>/o</code> - выполнение правильной оптимизации для каждого типа носителя.</li><li><code>/u</code> - отображение хода операции.</li></ul></li></ul><div class="shortcode shortcode-alert"><div class="alert alert-success d-flex overflow-hidden" role=alert><div class="flex-shrink-0 align-self-center"><i class="fas fa-lightbulb fa-fw fa-2x"></i></div><div class="flex-grow-1 ms-3 overflow-hidden"><p>Для всех команд можно добавить параметр <code>/v</code>, который выводит подробную информацию о происходящем процессе.</p></div></div></div><h3>Анализ тома</h3><p>Анализ тома, с отображением хода выполнения и выводом результатов в подробном формате:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-3 shortcode-codeblock-cmd"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-f77c8f729448c054a06ebe2b5eef45eb><div class=highlight><pre tabindex=0 class=chroma><code class=language-cmd data-lang=cmd><span class=line><span class=cl>defrag c: /u /a</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-f77c8f729448c054a06ebe2b5eef45eb role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Где:</p><ul><li><code>c:</code> - буква тома (диск <code>C:</code>).</li><li><code>/u</code> - отображение хода выполнения операции.</li><li><code>/a</code> - анализ.</li></ul><h3>Параллельная дефрагментация</h3><p>Параллельная дефрагментация томов <code>C:</code> и <code>D:</code> в фоновом режиме:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-4 shortcode-codeblock-cmd"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-f060ea8d4dc3a6e2de0a49aa384c4570><div class=highlight><pre tabindex=0 class=chroma><code class=language-cmd data-lang=cmd><span class=line><span class=cl>defrag c: d: /m</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-f060ea8d4dc3a6e2de0a49aa384c4570 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Где:</p><ul><li><code>c:</code> - буква тома (диск <code>C:</code>).</li><li><code>d:</code> - буква тома (диск <code>D:</code>).</li><li><code>/m</code> - выполнение операции с каждым томом параллельно в фоновом режиме.</li></ul><h3>Дефрагментация всех томах</h3><p>Выполнить дефрагментацию на всех локальных томах с нормальным приоритетом:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-5 shortcode-codeblock-cmd"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-0afe36441d7002abc6b75a32892db65c><div class=highlight><pre tabindex=0 class=chroma><code class=language-cmd data-lang=cmd><span class=line><span class=cl>defrag /u /c /h</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-0afe36441d7002abc6b75a32892db65c role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Где:</p><ul><li><code>/u</code> - отображение хода выполнения операции.</li><li><code>/c</code> - выполнение операции на всех томах.</li><li><code>/h</code> - выполнение операции с нормальным приоритетом (по умолчанию приоритет пониженный).</li></ul><h3>TRIM-операция для SSD</h3><div class="shortcode shortcode-codeblock shortcode-codeblock-6 shortcode-codeblock-cmd"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-a1487667465c9ce34c33f1890af1ad8b><div class=highlight><pre tabindex=0 class=chroma><code class=language-cmd data-lang=cmd><span class=line><span class=cl>defrag /u /c /l</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-a1487667465c9ce34c33f1890af1ad8b role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Где:</p><ul><li><code>/u</code> - отображение хода выполнения операции.</li><li><code>/c</code> - выполнение операции на всех томах.</li><li><code>/l</code> или <code>/retrim</code> - на дисках SSD запускает TRIM-операцию.</li></ul></div></div><div class=modal-footer><ul class="list-inline text-center text-body-secondary small"><li class=list-inline-item><a href=https://lib.onl/ru/tags/hdd/>#hdd</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/ssd/>#ssd</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/powershell/>#powershell</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/cmd/>#cmd</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/defrag/>#defrag</a></li><li class=list-inline-item>&bull;</li><li class="list-inline-item text-success" data-bs-tooltip data-bs-title='Уровень сложности: Простой'><i class="far fa-face-smile fa-fw"></i></li><li class=list-inline-item>&bull;</li><li class=list-inline-item><time datetime=2023-10-20T00:46:16Z data-fn=date-local>2023/10/20 00:46:16 UTC</time></li></ul></div></div></div></div></div></div></div></div></main><footer class="mt-auto border-top bg-light"><div class="section py-5 border-bottom"><div class=container><div class="row g-3"><div class=col-lg><article><h2 class="h5 border-bottom pb-1 mb-3">О проекте</h2><div class=node-body><p>Заметки по системному администрированию и веб-разработкам.</p></div></article></div><div class=col-lg><article><h2 class="h5 border-bottom pb-1 mb-3">Ресурсы</h2><div class=node-body><ul><li><a title href=https://kitsune.solar/ target=_blank rel="noopener noreferrer nofollow">Kitsune Solar</a></li><li><a title href=https://uaik.github.io/ target=_blank rel="noopener noreferrer nofollow">UNIX AIK</a></li></ul></div></article></div><div class=col-lg><article><h2 class="h5 border-bottom pb-1 mb-3">Контакты</h2><div class=node-body><ul><li><a title href=mailto:mail@lib.onl target=_self rel>Email</a></li></ul></div></article></div></div></div></div><div class="section py-3"><div class=container><div class="row row-cols-1 row-cols-lg-2 small text-body-secondary align-items-center"><div class="col text-center text-lg-start"><ul class="list-inline mb-0"><li class=list-inline-item><div>Library Online &copy; 2023</div><div>Заметки на тему администрирования и разработки различных систем, приложений и серверов.</div></li></ul></div><div class="col text-center text-lg-end"><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=RSS><a class="btn btn-light btn-sm" href=/ru/tags/hdd/index.xml target=_blank aria-label=RSS><i class="fas fa-rss fa-fw"></i></a></li><li class="list-inline-item dropup" data-bs-tooltip data-bs-title=Языки><a class="dropdown-toggle btn btn-light btn-sm" href=# role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false aria-label=Языки><i class="fas fa-language fa-fw"></i></a><div class="dropdown-menu dropdown-menu-end shadow"><a class=dropdown-item href=/ru/ hreflang=ru>Русский
</a><a class=dropdown-item href=/en/ hreflang=en>English</a></div></li></ul></div></div></div></div></footer><div class="modal fade" id=search-modal tabindex=-1 aria-labelledby=searchModalLabel aria-hidden=true><div class="modal-dialog modal-dialog-scrollable modal-xl"><div class=modal-content><div class=modal-header><h5 class=modal-title id=searchModalLabel>Поиск</h5><button type=button class=btn-close data-bs-dismiss=modal aria-label=Закрыть></button></div><div class="modal-body node-body"><div class="row row-cols-1 g-3"><div class=col><div class="row g-3"><div class=col-lg><form action=https://google.com/search method=get class=d-flex target=_blank><input type=hidden name=domains value=lib.onl>
<input type=hidden name=sitesearch value=lib.onl><div class=input-group><span class=input-group-text><i class="fas fa-search fa-fw"></i></span>
<input type=search class=form-control name=q placeholder='Поиск Google' aria-label='Поиск Google'>
<span class=input-group-text><i class="fab fa-google fa-fw"></i></span></div></form></div><div class=col-lg><form action=https://ya.ru/search method=get class=d-flex target=_blank><input type=hidden name=site value=lib.onl><div class=input-group><span class=input-group-text><i class="fas fa-search fa-fw"></i></span>
<input type=search class=form-control name=text placeholder='Поиск Яндекс' aria-label='Поиск Яндекс'>
<span class=input-group-text><i class="fab fa-yandex fa-fw"></i></span></div></form></div></div></div><div class=col><form id=search-form method=get class=d-flex autocomplete=off><div class=input-group><span class=input-group-text><i class="fas fa-search fa-fw"></i></span>
<input id=search-input type=search class=form-control name=q placeholder='Внутренний поиск' aria-label='Внутренний поиск'>
<span class=input-group-text><i class="fas fa-brain fa-fw"></i></span></div></form></div><div class=col><div class="list-group list-group-flush d-none overflow-auto" id=search-results></div><div id=search-help><div class="alert alert-info d-flex align-items-center overflow-hidden node-body" id=alert-f92312ea93da39016eb92cede4c3d3e0 role=alert><div class=flex-shrink-0><i class="fas fa-search fa-fw fa-2x"></i></div><div class="flex-grow-1 ms-3 overflow-hidden"><p>Используется нечёткий поиск (приблизительное сопоставление строк).
Это метод поиска строк, которые приблизительно соответствуют поисковому шаблону.</p><p>Результаты поиска сортируются по точности совпадения с поисковым шаблоном.
Результаты поиска, наиболее точно соответствующие запросу, находятся сверху, приблизительные результаты - снизу.</p></div></div></div></div></div></div></div></div></div><script src=/js/vendor.bundle.min.js defer></script><script src=/ru/js/system.bundle.min.js defer></script></body></html>