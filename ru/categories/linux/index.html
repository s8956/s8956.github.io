<!doctype html><html class=h-100 dir=ltr lang=ru-RU prefix="og: http://ogp.me/ns#
      article: http://ogp.me/ns/article#
      profile: http://ogp.me/ns/profile#
      fb: http://ogp.me/ns/fb#"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><title>Linux / Library Online</title>
<meta name=title content="Linux / Library Online"><meta name=description content="Статьи по настройке и администрированию ОС на базе ядра Linux."><meta name=keywords content="powershell,forum,ipb,ips,debian,linux,cmd,cmf,cms,vbulletin,bash,cloudflare,fedora,git,php,systemd,terminal,dhcp,find,gdm"><link rel=preconnect href=https://fonts.googleapis.com crossorigin=anonymous><link rel=preconnect href=https://fonts.gstatic.com crossorigin=anonymous><link rel=preconnect href=https://gravatar.com crossorigin=anonymous><link rel=preconnect href=https://images.unsplash.com crossorigin=anonymous><link rel=preload href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" crossorigin=anonymous as=style onload='this.rel="stylesheet"'><noscript><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" crossorigin=anonymous></noscript><link rel=preload href="https://fonts.googleapis.com/css2?family=PT+Serif:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" crossorigin=anonymous as=style onload='this.rel="stylesheet"'><noscript><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=PT+Serif:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" crossorigin=anonymous></noscript><link rel=preload href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" crossorigin=anonymous as=style onload='this.rel="stylesheet"'><noscript><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" crossorigin=anonymous></noscript><link rel=preload href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" crossorigin=anonymous as=style onload='this.rel="stylesheet"'><noscript><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" crossorigin=anonymous></noscript><link rel=preload href=/css/vendor.bundle.css as=style><link rel=stylesheet href=/css/vendor.bundle.css><link rel=preload href=/ru/css/system.bundle.min.css as=style><link rel=stylesheet href=/ru/css/system.bundle.min.css><link rel=icon type=image/png sizes=16x16 href=https://lib.onl/favicon-16.png><link rel="shortcut icon" type=image/png sizes=16x16 href=https://lib.onl/favicon-16.png><link rel=apple-touch-icon sizes=16x16 href=https://lib.onl/favicon-16.png><link rel=icon type=image/png sizes=24x24 href=https://lib.onl/favicon-24.png><link rel="shortcut icon" type=image/png sizes=24x24 href=https://lib.onl/favicon-24.png><link rel=apple-touch-icon sizes=24x24 href=https://lib.onl/favicon-24.png><link rel=icon type=image/png sizes=32x32 href=https://lib.onl/favicon-32.png><link rel="shortcut icon" type=image/png sizes=32x32 href=https://lib.onl/favicon-32.png><link rel=apple-touch-icon sizes=32x32 href=https://lib.onl/favicon-32.png><link rel=icon type=image/png sizes=48x48 href=https://lib.onl/favicon-48.png><link rel="shortcut icon" type=image/png sizes=48x48 href=https://lib.onl/favicon-48.png><link rel=apple-touch-icon sizes=48x48 href=https://lib.onl/favicon-48.png><link rel=icon type=image/png sizes=64x64 href=https://lib.onl/favicon-64.png><link rel="shortcut icon" type=image/png sizes=64x64 href=https://lib.onl/favicon-64.png><link rel=apple-touch-icon sizes=64x64 href=https://lib.onl/favicon-64.png><link rel=icon type=image/png sizes=72x72 href=https://lib.onl/favicon-72.png><link rel="shortcut icon" type=image/png sizes=72x72 href=https://lib.onl/favicon-72.png><link rel=apple-touch-icon sizes=72x72 href=https://lib.onl/favicon-72.png><link rel=icon type=image/png sizes=80x80 href=https://lib.onl/favicon-80.png><link rel="shortcut icon" type=image/png sizes=80x80 href=https://lib.onl/favicon-80.png><link rel=apple-touch-icon sizes=80x80 href=https://lib.onl/favicon-80.png><link rel=icon type=image/png sizes=96x96 href=https://lib.onl/favicon-96.png><link rel="shortcut icon" type=image/png sizes=96x96 href=https://lib.onl/favicon-96.png><link rel=apple-touch-icon sizes=96x96 href=https://lib.onl/favicon-96.png><link rel=icon type=image/png sizes=128x128 href=https://lib.onl/favicon-128.png><link rel="shortcut icon" type=image/png sizes=128x128 href=https://lib.onl/favicon-128.png><link rel=apple-touch-icon sizes=128x128 href=https://lib.onl/favicon-128.png><link rel=icon type=image/png sizes=144x144 href=https://lib.onl/favicon-144.png><link rel="shortcut icon" type=image/png sizes=144x144 href=https://lib.onl/favicon-144.png><link rel=apple-touch-icon sizes=144x144 href=https://lib.onl/favicon-144.png><link rel=icon type=image/png sizes=152x152 href=https://lib.onl/favicon-152.png><link rel="shortcut icon" type=image/png sizes=152x152 href=https://lib.onl/favicon-152.png><link rel=apple-touch-icon sizes=152x152 href=https://lib.onl/favicon-152.png><link rel=icon type=image/png sizes=167x167 href=https://lib.onl/favicon-167.png><link rel="shortcut icon" type=image/png sizes=167x167 href=https://lib.onl/favicon-167.png><link rel=apple-touch-icon sizes=167x167 href=https://lib.onl/favicon-167.png><link rel=icon type=image/png sizes=180x180 href=https://lib.onl/favicon-180.png><link rel="shortcut icon" type=image/png sizes=180x180 href=https://lib.onl/favicon-180.png><link rel=apple-touch-icon sizes=180x180 href=https://lib.onl/favicon-180.png><link rel=icon type=image/png sizes=192x192 href=https://lib.onl/favicon-192.png><link rel="shortcut icon" type=image/png sizes=192x192 href=https://lib.onl/favicon-192.png><link rel=apple-touch-icon sizes=192x192 href=https://lib.onl/favicon-192.png><link rel=icon type=image/png sizes=196x196 href=https://lib.onl/favicon-196.png><link rel="shortcut icon" type=image/png sizes=196x196 href=https://lib.onl/favicon-196.png><link rel=apple-touch-icon sizes=196x196 href=https://lib.onl/favicon-196.png><link rel=icon type=image/png sizes=256x256 href=https://lib.onl/favicon-256.png><link rel="shortcut icon" type=image/png sizes=256x256 href=https://lib.onl/favicon-256.png><link rel=apple-touch-icon sizes=256x256 href=https://lib.onl/favicon-256.png><link rel=icon type=image/png sizes=300x300 href=https://lib.onl/favicon-300.png><link rel="shortcut icon" type=image/png sizes=300x300 href=https://lib.onl/favicon-300.png><link rel=apple-touch-icon sizes=300x300 href=https://lib.onl/favicon-300.png><link rel=icon type=image/png sizes=512x512 href=https://lib.onl/favicon-512.png><link rel="shortcut icon" type=image/png sizes=512x512 href=https://lib.onl/favicon-512.png><link rel=apple-touch-icon sizes=512x512 href=https://lib.onl/favicon-512.png><link rel=icon type=image/svg+xml sizes=any href=https://lib.onl/favicon.svg><link rel="shortcut icon" type=image/x-icon href=https://lib.onl/favicon.ico><link rel="shortcut icon" type=image/vnd.microsoft.icon href=https://lib.onl/favicon.ico><link rel=first href=https://lib.onl/ru/categories/linux/><link rel=last href=https://lib.onl/ru/categories/linux/><link rel=canonical href=https://lib.onl/ru/categories/linux/><link rel=alternate href=https://lib.onl/ hreflang=x-default><link rel=alternate href=https://lib.onl/ru/categories/linux/ hreflang=ru><link rel=manifest type=application/manifest+json href=https://lib.onl/ru/manifest.json title="Library Online"><link rel=search type=application/opensearchdescription+xml href=https://lib.onl/ru/opensearch.xml title="Library Online"><link rel=alternate type=application/rss+xml href=https://lib.onl/ru/categories/linux/index.xml title="Library Online"><meta name=application-name content="Library Online"><meta name=theme-color content="#f8f9fa" media="(prefers-color-scheme: light)"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://lib.onl/favicon-512.png"><meta name=twitter:title content="Linux"><meta name=twitter:description content="Заметки на тему администрирования и разработки различных систем, приложений и серверов."><meta property="og:title" content="Linux"><meta property="og:description" content="Заметки на тему администрирования и разработки различных систем, приложений и серверов."><meta property="og:type" content="website"><meta property="og:url" content="https://lib.onl/ru/categories/linux/"><meta property="og:image" content="https://lib.onl/favicon-512.png"><meta property="twitter:domain" content="lib.onl"><meta property="twitter:url" content="https://lib.onl/ru/categories/linux/"><meta property="og:locale" content="ru_RU"><meta property="og:site_name" content="Library Online"><meta name=DC.Title content="Linux"><meta name=DC.Subject content="Статьи по настройке и администрированию ОС на базе ядра Linux."><meta name=DC.Description content="Статьи по настройке и администрированию ОС на базе ядра Linux."><meta name=DC.Type content="Text"><meta name=DC.Source content="https://lib.onl/ru/categories/linux/"><meta name=DC.Relation content="https://lib.onl/ru/categories/linux/"><meta name=DC.Coverage content="World"><meta name=DC.Creator content="Library Online"><meta name=DC.Publisher content="Library Online"><meta name=DC.Contributor content="Library Online"><meta name=DC.Rights content="Library Online"><meta name=DC.Format content="Digital"><meta name=DC.Identifier content="https://lib.onl/ru/categories/linux/"><meta name=DC.Language content="ru-RU"><meta name=DC.Provenance content="Library Online"><meta name=DC.RightsHolder content="Library Online"><meta name=DC.AccrualPeriodicity content="Weekly"><meta name=DC.AccrualPolicy content="Active"></head><body class="d-flex flex-column h-100 is-node type-categories"><header id=site-header><nav class="navbar navbar-expand-lg navbar-light fixed-top border-bottom shadow-sm text-lg-center bg-light"><div class=container-fluid><a class=navbar-brand href=/ru/><img src=https://lib.onl/img/logo.min.svg alt=Логотип width=30 height=24 class="d-inline-block align-text-top"><h1 class="d-inline-block h5 m-0 ms-1">Library Online</h1></a><button type=button class=navbar-toggler data-bs-toggle=collapse data-bs-target=#navTopBar aria-controls=navTopBar aria-expanded=false aria-label='Переключить навигацию'>
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navTopBar><ul class="navbar-nav me-auto"><li class=nav-item><a class=nav-link href=/ru/articles/><i class="fas fa-book fa-fw"></i>
<span>Статьи</span></a></li><li class=nav-item><a class=nav-link href=/ru/faq/><i class="fas fa-circle-question fa-fw"></i>
<span>Q&amp;A</span></a></li><li class=nav-item><a class=nav-link href=/ru/archive/><i class="fas fa-archive fa-fw"></i>
<span>Архив</span></a></li><li class=nav-item><a class=nav-link href=/ru/about/><i class="fas fa-info-circle fa-fw"></i>
<span>О проекте</span></a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# role=button data-bs-toggle=dropdown aria-expanded=false><i class="fas fa-list fa-fw"></i>
<span>META</span></a><div class="dropdown-menu shadow"><a class=dropdown-item href=/ru/authors/><i class="fas fa-user-circle fa-fw"></i>
<span>Авторы</span>
</a><a class="dropdown-item active" href=/ru/categories/><i class="fas fa-folder-open fa-fw"></i>
<span>Категории</span>
</a><a class=dropdown-item href=/ru/tags/><i class="fas fa-tags fa-fw"></i>
<span>Теги</span>
</a><a class=dropdown-item href=/ru/drafts/><i class="fas fa-file-pen fa-fw"></i>
<span>Черновики</span></a></div></li></ul><ul class=navbar-nav><li class=nav-item><a class="nav-link d-lg-none" href=# data-bs-toggle=modal data-bs-target=#search-modal aria-label=Поиск><i class="fas fa-search fa-fw"></i>
<span>Поиск</span>
</a><a class="nav-link d-none d-lg-block" href=# data-bs-toggle=modal data-bs-target=#search-modal data-bs-tooltip data-bs-title=Поиск aria-label=Поиск><i class="fas fa-search fa-fw"></i></a></li></ul></div></div></nav></header><main class="wrapper flex-shrink-0" id=site-main><div class="section py-3"><div class=container><nav style="--bs-breadcrumb-divider:'\2f '" class=small aria-label=breadcrumb><ol class="breadcrumb bg-light p-2 rounded"><li class=breadcrumb-item><a href=/ru/ aria-label=Главная><i class="fas fa-home fa-fw"></i></a></li><li class=breadcrumb-item><a href=/ru/categories/ aria-label=Категории>Категории</a></li><li class="breadcrumb-item active">Linux</li></ol></nav><div class="row row-cols-1 row-cols-xl-2 g-3"><div class=col><div class="d-sm-block d-md-none"><article class=node-articles><header><div class="node-cover mb-3"><a title="Создание сертификатов при помощи OpenSSL" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2023/10/6733cb51-62a0-5ed9-b421-8f08c4e0cb18/ data-bs-toggle=modal data-bs-target=#modal-10c1210fd18cd5807997de1b035101f3><picture><source srcset='https://images.unsplash.com/photo-1568057373189-8bf0cf6179e6?crop=edges&amp;w=640&amp;h=360&amp;fit=crop&amp;auto=compress,format 640w,https://images.unsplash.com/photo-1568057373189-8bf0cf6179e6?crop=edges&amp;w=768&amp;h=432&amp;fit=crop&amp;auto=compress,format 768w,https://images.unsplash.com/photo-1568057373189-8bf0cf6179e6?crop=edges&amp;w=1024&amp;h=576&amp;fit=crop&amp;auto=compress,format 1024w,https://images.unsplash.com/photo-1568057373189-8bf0cf6179e6?crop=edges&amp;w=1280&amp;h=720&amp;fit=crop&amp;auto=compress,format 1280w,https://images.unsplash.com/photo-1568057373189-8bf0cf6179e6?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format 1600w' sizes="(min-width: 576px) 100vw"><img class=img-fluid src="https://images.unsplash.com/photo-1568057373189-8bf0cf6179e6?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format" width=1600 height=900 alt="Создание сертификатов при помощи OpenSSL" loading=lazy></picture></a></div><div class=node-title><h2 class=h5><a href=/ru/articles/2023/10/6733cb51-62a0-5ed9-b421-8f08c4e0cb18/ data-bs-toggle=modal data-bs-target=#modal-10c1210fd18cd5807997de1b035101f3>Создание сертификатов при помощи OpenSSL</a></h2></div></header><div class=node-body><p>OpenSSL является библиотекой по работе с криптографией, но в этой статье я затрону только часть функций этого инструмента, а именно создание само-подписанных сертификатов.</p></div></article></div><div class="d-none d-md-block"><article class="node-articles d-flex overflow-hidden"><div class="flex-shrink-0 me-3"><div class=node-cover><a title="Создание сертификатов при помощи OpenSSL" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2023/10/6733cb51-62a0-5ed9-b421-8f08c4e0cb18/ data-bs-toggle=modal data-bs-target=#modal-10c1210fd18cd5807997de1b035101f3><img class=img-fluid src="https://images.unsplash.com/photo-1568057373189-8bf0cf6179e6?crop=edges&amp;w=160&amp;h=160&amp;fit=crop&amp;auto=compress,format" width=160 height=160 alt="Создание сертификатов при помощи OpenSSL" loading=lazy></a></div></div><div class="flex-grow-1 overflow-hidden"><header><div class=node-title><h2 class=h5><a href=/ru/articles/2023/10/6733cb51-62a0-5ed9-b421-8f08c4e0cb18/ data-bs-toggle=modal data-bs-target=#modal-10c1210fd18cd5807997de1b035101f3>Создание сертификатов при помощи OpenSSL</a></h2></div></header><div class=node-body><p>OpenSSL является библиотекой по работе с криптографией, но в этой статье я затрону только часть функций этого инструмента, а именно создание само-подписанных сертификатов.</p></div></div></article></div><div class="modal fade" id=modal-10c1210fd18cd5807997de1b035101f3 tabindex=-1 aria-labelledby=modal-10c1210fd18cd5807997de1b035101f3-label aria-hidden=true><div class="modal-dialog modal-fullscreen"><div class=modal-content><div class=modal-header><h2 class="modal-title fs-5 text-truncate" id=modal-10c1210fd18cd5807997de1b035101f3-label><a href=/ru/articles/2023/10/6733cb51-62a0-5ed9-b421-8f08c4e0cb18/>Создание сертификатов при помощи OpenSSL</a></h2><button type=button class=btn-close data-bs-dismiss=modal aria-label=Закрыть></button></div><div class=modal-body><div class=node-body><p>OpenSSL является библиотекой по работе с криптографией, но в этой статье я затрону только часть функций этого инструмента, а именно создание само-подписанных сертификатов.</p><h2 id=666004036-создание-центра-сертификации><a class=link-body-emphasis href=#666004036-%d1%81%d0%be%d0%b7%d0%b4%d0%b0%d0%bd%d0%b8%d0%b5-%d1%86%d0%b5%d0%bd%d1%82%d1%80%d0%b0-%d1%81%d0%b5%d1%80%d1%82%d0%b8%d1%84%d0%b8%d0%ba%d0%b0%d1%86%d0%b8%d0%b8>Создание центра сертификации</a></h2><p>При помощи корневого сертификата, мы будем подписывать сертификаты клиентские. Создаём сертификат центра сертификации&mldr;</p><div class="shortcode shortcode-codeblock shortcode-codeblock-0 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-b015a87f86807cb5167919e27c7c9edb><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>openssl req -x509 <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  -newkey ec:&lt;<span class=o>(</span> openssl ecparam -name <span class=s1>&#39;secp384r1&#39;</span> <span class=o>)</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  -nodes -days <span class=s1>&#39;3650&#39;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  -keyform <span class=s1>&#39;PEM&#39;</span> -outform <span class=s1>&#39;PEM&#39;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  -keyout <span class=s1>&#39;ca.root.key&#39;</span> -out <span class=s1>&#39;ca.root.crt&#39;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-b015a87f86807cb5167919e27c7c9edb role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Где:</p><ul><li><code>-days '3650'</code> - количество дней, по прошествии которого сертификат центра сертификации станет недействительным.</li><li><code>-keyout 'ca.root.key'</code> - название создаваемого файла с ключом центра сертификации.</li><li><code>-out 'ca.root.crt'</code> - название создаваемого файла с сертификатом центра сертификации.</li></ul><h2 id=666004036-создание-клиентского-сертификата><a class=link-body-emphasis href=#666004036-%d1%81%d0%be%d0%b7%d0%b4%d0%b0%d0%bd%d0%b8%d0%b5-%d0%ba%d0%bb%d0%b8%d0%b5%d0%bd%d1%82%d1%81%d0%ba%d0%be%d0%b3%d0%be-%d1%81%d0%b5%d1%80%d1%82%d0%b8%d1%84%d0%b8%d0%ba%d0%b0%d1%82%d0%b0>Создание клиентского сертификата</a></h2><p>Как только будет готов корневой сертификат, можно приступать к выпуску клиентских сертификатов.</p><h3 id=666004036-создание-приватного-ключа><a class=link-body-emphasis href=#666004036-%d1%81%d0%be%d0%b7%d0%b4%d0%b0%d0%bd%d0%b8%d0%b5-%d0%bf%d1%80%d0%b8%d0%b2%d0%b0%d1%82%d0%bd%d0%be%d0%b3%d0%be-%d0%ba%d0%bb%d1%8e%d1%87%d0%b0>Создание приватного ключа</a></h3><p>Для начала создаём приватный ключ.</p><div class="shortcode shortcode-codeblock shortcode-codeblock-1 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-105d2a39654520cca7e80c2b868d888b><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>openssl ecparam -name <span class=s1>&#39;prime256v1&#39;</span> -genkey -noout -out <span class=s1>&#39;client.key.private.pem&#39;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-105d2a39654520cca7e80c2b868d888b role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Где:</p><ul><li><code>-out 'client.key.private.pem'</code> - название создаваемого файла с клиентским приватным ключом.</li></ul><h3 id=666004036-создание-публичного-ключа><a class=link-body-emphasis href=#666004036-%d1%81%d0%be%d0%b7%d0%b4%d0%b0%d0%bd%d0%b8%d0%b5-%d0%bf%d1%83%d0%b1%d0%bb%d0%b8%d1%87%d0%bd%d0%be%d0%b3%d0%be-%d0%ba%d0%bb%d1%8e%d1%87%d0%b0>Создание публичного ключа</a></h3><p>Создание публичного ключа будет не лишним.</p><div class="shortcode shortcode-codeblock shortcode-codeblock-2 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-7e6df8d4bd18dccf3d0f6d16be832f63><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>openssl ec -in <span class=s1>&#39;client.key.private.pem&#39;</span> -pubout -out <span class=s1>&#39;client.key.public.pem&#39;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-7e6df8d4bd18dccf3d0f6d16be832f63 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Где:</p><ul><li><code>-in 'client.key.private.pem'</code> - файл c клиентским приватным ключом.</li><li><code>-out 'client.key.public.pem'</code> - название создаваемого файла с клиентским публичным ключом.</li></ul><h3 id=666004036-создание-запроса-на-подпись-сертификата><a class=link-body-emphasis href=#666004036-%d1%81%d0%be%d0%b7%d0%b4%d0%b0%d0%bd%d0%b8%d0%b5-%d0%b7%d0%b0%d0%bf%d1%80%d0%be%d1%81%d0%b0-%d0%bd%d0%b0-%d0%bf%d0%be%d0%b4%d0%bf%d0%b8%d1%81%d1%8c-%d1%81%d0%b5%d1%80%d1%82%d0%b8%d1%84%d0%b8%d0%ba%d0%b0%d1%82%d0%b0>Создание запроса на подпись сертификата</a></h3><p>Выполняем запрос на сертификат.</p><div class="shortcode shortcode-codeblock shortcode-codeblock-3 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-2831026f18c6888d27c7c83c0df709e4><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>openssl req -new -key <span class=s1>&#39;client.key.private.pem&#39;</span> -out <span class=s1>&#39;client.csr&#39;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-2831026f18c6888d27c7c83c0df709e4 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Где:</p><ul><li><code>-key 'client.key.private.pem'</code> - файл с приватным ключом клиентского сертификата.</li><li><code>-out 'client.csr'</code> - название создаваемого файла с запросом на подпись клиентского сертификата.</li></ul><p>При выполнении запроса будет предложено ввести актуальные данные для будущего сертификата:</p><ul><li><code>Country Name (2 letter code)</code> - двухбуквенный код страны, в которой юридически находится ваша организация.</li><li><code>State or Province Name (full name)</code> - штат или провинция, в которой юридически находится ваша организация.</li><li><code>Locality Name (e.g., city)</code> - город, в котором юридически находится ваша организация.</li><li><code>Organization Name (e.g., company)</code> - юридически зарегистрированное название вашей организации.</li><li><code>Organizational Unit Name (e.g., section)</code> - название вашего отдела в организации (опционально).</li><li><code>Common Name (e.g., server FQDN)</code> - полное доменное имя (FQDN) (например, <a title href=https://www.example.com target=_blank rel="noopener noreferrer nofollow">www.example.com</a>).</li><li><code>Email Address</code> - ваш адрес email (опционально).</li><li><code>A challenge password</code> - пароль (опционально).</li><li><code>An optional company name</code> - необязательное название компании (опционально).</li></ul><p>Самое главное поле это <code>Common Name (e.g., server FQDN)</code> (<code>CN</code>), заполнять его необходимо очень внимательно.</p><h3 id=666004036-создание-и-подпись-сертификата><a class=link-body-emphasis href=#666004036-%d1%81%d0%be%d0%b7%d0%b4%d0%b0%d0%bd%d0%b8%d0%b5-%d0%b8-%d0%bf%d0%be%d0%b4%d0%bf%d0%b8%d1%81%d1%8c-%d1%81%d0%b5%d1%80%d1%82%d0%b8%d1%84%d0%b8%d0%ba%d0%b0%d1%82%d0%b0>Создание и подпись сертификата</a></h3><p>В заключительной части остаётся только создать сам сертификат и подписать его.</p><div class="shortcode shortcode-codeblock shortcode-codeblock-4 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-496c2808109bb6a21292ac579940e726><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>openssl x509 -req -in <span class=s1>&#39;client.csr&#39;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  -CA <span class=s1>&#39;ca.crt&#39;</span> -CAkey <span class=s1>&#39;ca.key&#39;</span> -days <span class=s1>&#39;3650&#39;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  -outform <span class=s1>&#39;PEM&#39;</span> -out <span class=s1>&#39;client.crt&#39;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-496c2808109bb6a21292ac579940e726 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Где:</p><ul><li><code>-in 'client.csr'</code> - файл с запросом клиентского сертификата.</li><li><code>-CA 'ca.crt'</code> - файл с сертификатом центра сертификации.</li><li><code>-CAkey 'ca.key'</code> - файл с ключом центра сертификации.</li><li><code>-days '3650'</code> - количество дней, по прошествии которого клиентский сертификат станет недействительным.</li><li><code>-out 'client.crt'</code> - название создаваемого файла с клиентским сертификатом.</li></ul><h3 id=666004036-экспорт-сертификата><a class=link-body-emphasis href=#666004036-%d1%8d%d0%ba%d1%81%d0%bf%d0%be%d1%80%d1%82-%d1%81%d0%b5%d1%80%d1%82%d0%b8%d1%84%d0%b8%d0%ba%d0%b0%d1%82%d0%b0>Экспорт сертификата</a></h3><p>Для того, чтобы импортировать сертификат на клиентские устройства, его необходимо экспортировать в формат <code>P12</code>. <code>P12</code> является контейнером, в котором содержится приватный ключ сертификата и сам сертификат.</p><div class="shortcode shortcode-codeblock shortcode-codeblock-5 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-261a67985aeb224e7205bf7c2fcce8ff><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>openssl pkcs12 -export <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  -inkey <span class=s1>&#39;client.key.private.pem&#39;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  -in <span class=s1>&#39;client.crt&#39;</span> -out <span class=s1>&#39;client.p12&#39;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-261a67985aeb224e7205bf7c2fcce8ff role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Где:</p><ul><li><code>-inkey 'client.key.private.pem'</code> - файл с приватным клиентским ключом.</li><li><code>-in 'client.crt'</code> - файл с клиентским сертификатом.</li><li><code>-out 'client.p12'</code> - название создаваемого файла-контейнера с приватным ключом и сертификатом.</li></ul><h3 id=666004036-верификация-сертификата><a class=link-body-emphasis href=#666004036-%d0%b2%d0%b5%d1%80%d0%b8%d1%84%d0%b8%d0%ba%d0%b0%d1%86%d0%b8%d1%8f-%d1%81%d0%b5%d1%80%d1%82%d0%b8%d1%84%d0%b8%d0%ba%d0%b0%d1%82%d0%b0>Верификация сертификата</a></h3><div class="shortcode shortcode-codeblock shortcode-codeblock-6 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-6431803b95820c12a0fead2f2eff18d3><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>openssl verify -CAfile <span class=s1>&#39;ca.crt&#39;</span> <span class=s1>&#39;client.crt&#39;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-6431803b95820c12a0fead2f2eff18d3 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ul><li><code>-CAfile 'ca.crt'</code> - файл с сертификатом центра сертификации.</li><li><code>'client.crt'</code> - файл с клиентским сертификатом.</li></ul><h3 id=666004036-просмотр-сертификата><a class=link-body-emphasis href=#666004036-%d0%bf%d1%80%d0%be%d1%81%d0%bc%d0%be%d1%82%d1%80-%d1%81%d0%b5%d1%80%d1%82%d0%b8%d1%84%d0%b8%d0%ba%d0%b0%d1%82%d0%b0>Просмотр сертификата</a></h3><div class="shortcode shortcode-codeblock shortcode-codeblock-7 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-62beab303a579d45b46cb266ff43e16b><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>openssl x509 -in <span class=s1>&#39;client.crt&#39;</span> -text</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-62beab303a579d45b46cb266ff43e16b role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Где:</p><ul><li><code>-in 'client.crt'</code> - файл с клиентским сертификатом.</li></ul><p>При выполнении команды, терминал покажет информацию со всеми основными сведениями о сертификате (пример ниже).</p><div class="shortcode shortcode-codeblock shortcode-codeblock-8 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class=flex-shrink-0><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-513701dee4069a0277cf7f3d1df69f35 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-513701dee4069a0277cf7f3d1df69f35><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>openssl x509 -in <span class=s1>&#39;client.crt&#39;</span> -text
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Certificate:
</span></span><span class=line><span class=cl>    Data:
</span></span><span class=line><span class=cl>        Version: <span class=m>1</span> <span class=o>(</span>0x0<span class=o>)</span>
</span></span><span class=line><span class=cl>        Serial Number:
</span></span><span class=line><span class=cl>            49:14:b8:78:17:a1:ca:c4:6a:41:1b:23:f3:8a:8d:36:e0:9e:69:81
</span></span><span class=line><span class=cl>        Signature Algorithm: ecdsa-with-SHA256
</span></span><span class=line><span class=cl>        Issuer: <span class=nv>C</span> <span class=o>=</span> AU, <span class=nv>ST</span> <span class=o>=</span> Some-State, <span class=nv>O</span> <span class=o>=</span> Internet Widgits Pty Ltd, <span class=nv>CN</span> <span class=o>=</span> CA
</span></span><span class=line><span class=cl>        Validity
</span></span><span class=line><span class=cl>            Not Before: Oct <span class=m>18</span> 21:31:53 <span class=m>2023</span> GMT
</span></span><span class=line><span class=cl>            Not After : Oct <span class=m>15</span> 21:31:53 <span class=m>2033</span> GMT
</span></span><span class=line><span class=cl>        Subject: <span class=nv>C</span> <span class=o>=</span> AU, <span class=nv>ST</span> <span class=o>=</span> Some-State, <span class=nv>O</span> <span class=o>=</span> Internet Widgits Pty Ltd, <span class=nv>CN</span> <span class=o>=</span> CN-FQDN, <span class=nv>emailAddress</span> <span class=o>=</span> mail@example.com
</span></span><span class=line><span class=cl>        Subject Public Key Info:
</span></span><span class=line><span class=cl>            Public Key Algorithm: id-ecPublicKey
</span></span><span class=line><span class=cl>                Public-Key: <span class=o>(</span><span class=m>256</span> bit<span class=o>)</span>
</span></span><span class=line><span class=cl>                pub:
</span></span><span class=line><span class=cl>                    04:9f:22:91:cc:14:b3:75:ad:44:cc:0d:96:0d:19:
</span></span><span class=line><span class=cl>                    04:c4:20:79:fd:b7:f5:65:64:dd:65:a1:f0:b8:2d:
</span></span><span class=line><span class=cl>                    e4:02:75:62:41:03:7c:6e:2f:48:e4:11:38:dc:ed:
</span></span><span class=line><span class=cl>                    08:1f:4c:fa:5f:2f:a2:f5:5d:51:2e:8e:de:de:70:
</span></span><span class=line><span class=cl>                    33:aa:e5:3b:95
</span></span><span class=line><span class=cl>                ASN1 OID: prime256v1
</span></span><span class=line><span class=cl>                NIST CURVE: P-256
</span></span><span class=line><span class=cl>    Signature Algorithm: ecdsa-with-SHA256
</span></span><span class=line><span class=cl>         30:64:02:30:0d:ff:b1:dc:8b:a6:c6:9c:ad:65:8a:7c:01:41:
</span></span><span class=line><span class=cl>         9f:91:ca:24:4c:0b:28:5a:5c:f6:35:2a:b2:d7:58:ca:39:da:
</span></span><span class=line><span class=cl>         6c:bf:cf:8b:23:20:ce:11:45:13:61:36:e2:23:4a:e9:02:30:
</span></span><span class=line><span class=cl>         54:dc:45:ed:ef:21:58:ea:c7:b6:63:db:a2:d9:71:fe:3d:b3:
</span></span><span class=line><span class=cl>         d6:1e:15:82:7b:c8:e8:08:33:d5:2f:d5:f2:8f:3b:41:ea:53:
</span></span><span class=line><span class=cl>         1e:2d:a9:1e:9e:25:9c:fb:a7:12:f9:ec</span></span></code></pre></div></div></div></div><h3 id=666004036-просмотр-запроса-на-подпись-сертификата><a class=link-body-emphasis href=#666004036-%d0%bf%d1%80%d0%be%d1%81%d0%bc%d0%be%d1%82%d1%80-%d0%b7%d0%b0%d0%bf%d1%80%d0%be%d1%81%d0%b0-%d0%bd%d0%b0-%d0%bf%d0%be%d0%b4%d0%bf%d0%b8%d1%81%d1%8c-%d1%81%d0%b5%d1%80%d1%82%d0%b8%d1%84%d0%b8%d0%ba%d0%b0%d1%82%d0%b0>Просмотр запроса на подпись сертификата</a></h3><div class="shortcode shortcode-codeblock shortcode-codeblock-9 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-8122badd357f63285fcb4a8e8ebbbf0c><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>openssl req -in <span class=s1>&#39;client.csr&#39;</span> -text</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-8122badd357f63285fcb4a8e8ebbbf0c role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Где:</p><ul><li><code>-in 'client.csr'</code> - файл с запросом на подпись клиентского сертификата.</li></ul><p>Команда выдаст информацию по запросу на подпись клиентского сертификата (пример ниже).</p><div class="shortcode shortcode-codeblock shortcode-codeblock-10 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class=flex-shrink-0><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-21b032ae4d69afc7995a3c2603bd0256 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-21b032ae4d69afc7995a3c2603bd0256><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>openssl req -in <span class=s1>&#39;client.csr&#39;</span> -text
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Certificate Request:
</span></span><span class=line><span class=cl>    Data:
</span></span><span class=line><span class=cl>        Version: <span class=m>1</span> <span class=o>(</span>0x0<span class=o>)</span>
</span></span><span class=line><span class=cl>        Subject: <span class=nv>C</span> <span class=o>=</span> AU, <span class=nv>ST</span> <span class=o>=</span> Some-State, <span class=nv>O</span> <span class=o>=</span> Internet Widgits Pty Ltd, <span class=nv>CN</span> <span class=o>=</span> CN-FQDN, <span class=nv>emailAddress</span> <span class=o>=</span> mail@example.com
</span></span><span class=line><span class=cl>        Subject Public Key Info:
</span></span><span class=line><span class=cl>            Public Key Algorithm: id-ecPublicKey
</span></span><span class=line><span class=cl>                Public-Key: <span class=o>(</span><span class=m>256</span> bit<span class=o>)</span>
</span></span><span class=line><span class=cl>                pub:
</span></span><span class=line><span class=cl>                    04:9f:22:91:cc:14:b3:75:ad:44:cc:0d:96:0d:19:
</span></span><span class=line><span class=cl>                    04:c4:20:79:fd:b7:f5:65:64:dd:65:a1:f0:b8:2d:
</span></span><span class=line><span class=cl>                    e4:02:75:62:41:03:7c:6e:2f:48:e4:11:38:dc:ed:
</span></span><span class=line><span class=cl>                    08:1f:4c:fa:5f:2f:a2:f5:5d:51:2e:8e:de:de:70:
</span></span><span class=line><span class=cl>                    33:aa:e5:3b:95
</span></span><span class=line><span class=cl>                ASN1 OID: prime256v1
</span></span><span class=line><span class=cl>                NIST CURVE: P-256
</span></span><span class=line><span class=cl>        Attributes:
</span></span><span class=line><span class=cl>            a0:00
</span></span><span class=line><span class=cl>        Requested Extensions:
</span></span><span class=line><span class=cl>    Signature Algorithm: ecdsa-with-SHA256
</span></span><span class=line><span class=cl>         30:45:02:20:51:9c:a0:b9:b2:61:7f:fa:64:ea:34:1f:65:15:
</span></span><span class=line><span class=cl>         37:ae:f4:89:30:47:11:89:db:c4:1b:1d:9b:82:b9:64:ea:c7:
</span></span><span class=line><span class=cl>         02:21:00:f8:00:70:4e:e6:db:99:78:cf:25:22:c0:8d:c6:b1:
</span></span><span class=line><span class=cl>         f3:f0:d8:68:3b:c2:51:21:a5:b3:fa:97:f9:85:c6:9c:49</span></span></code></pre></div></div></div></div><h2 id=666004036-автоматизация><a class=link-body-emphasis href=#666004036-%d0%b0%d0%b2%d1%82%d0%be%d0%bc%d0%b0%d1%82%d0%b8%d0%b7%d0%b0%d1%86%d0%b8%d1%8f>Автоматизация</a></h2><p>Команд много. Поэтому я как обычно, решил всё автоматизировать и загнать в скрипт.</p><div class="shortcode shortcode-file mb-3"><div class="card overflow-hidden"><div class=card-header><div class="d-flex align-items-center"><div class=flex-shrink-0><i class="far fa-file-code fa-fw"></i></div><div class="flex-grow-1 mx-2"><code>openssl.ca.sh</code></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-9664508803d7342eb6d2c8baa584b1c6 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li><li class=list-inline-item data-bs-tooltip data-bs-title=Скачать><a class=text-body href=openssl.ca.sh download role=button aria-label=Скачать><i class="fas fa-download fa-fw"></i></a></li><li class=list-inline-item data-bs-tooltip data-bs-title=Открыть><a class=text-body href=openssl.ca.sh target=_blank role=button aria-label=Открыть><i class="fas fa-arrow-up-right-from-square fa-fw"></i></a></li></ul></div></div></div><div class=card-body id=clipboard-9664508803d7342eb6d2c8baa584b1c6><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=cp>#!/usr/bin/bash -e
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=c1>#</span>
</span></span><span class=line><span class=cl><span class=c1># OpenSSL certificate generator.</span>
</span></span><span class=line><span class=cl><span class=c1>#</span>
</span></span><span class=line><span class=cl><span class=c1># @package    Bash</span>
</span></span><span class=line><span class=cl><span class=c1># @author     Kitsune Solar &lt;mail@kitsune.solar&gt;</span>
</span></span><span class=line><span class=cl><span class=c1># @copyright  2023 iHub TO</span>
</span></span><span class=line><span class=cl><span class=c1># @license    MIT</span>
</span></span><span class=line><span class=cl><span class=c1># @version    0.1.0</span>
</span></span><span class=line><span class=cl><span class=c1># @link       https://lib.onl/ru/articles/2023/10/6733cb51-62a0-5ed9-b421-8f08c4e0cb18/</span>
</span></span><span class=line><span class=cl><span class=c1># -------------------------------------------------------------------------------------------------------------------- #</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Get &#39;date&#39; command.</span>
</span></span><span class=line><span class=cl><span class=nv>date</span><span class=o>=</span><span class=s2>&#34;</span><span class=k>$(</span> <span class=nb>command</span> -v date <span class=k>)</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Get &#39;openssl&#39; command.</span>
</span></span><span class=line><span class=cl><span class=nv>ossl</span><span class=o>=</span><span class=s2>&#34;</span><span class=k>$(</span> <span class=nb>command</span> -v openssl <span class=k>)</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Get &#39;shuf&#39; command.</span>
</span></span><span class=line><span class=cl><span class=nv>shuf</span><span class=o>=</span><span class=s2>&#34;</span><span class=k>$(</span> <span class=nb>command</span> -v shuf <span class=k>)</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># CA key &amp; certificate names.</span>
</span></span><span class=line><span class=cl><span class=nv>ca_key</span><span class=o>=</span><span class=s1>&#39;ca.root.key&#39;</span>
</span></span><span class=line><span class=cl><span class=nv>ca_crt</span><span class=o>=</span><span class=s1>&#39;ca.root.crt&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Specifies the number of days to make a certificate valid for.</span>
</span></span><span class=line><span class=cl><span class=c1># Default is 30 days.</span>
</span></span><span class=line><span class=cl><span class=nv>days</span><span class=o>=</span><span class=s1>&#39;3650&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Timestamp.</span>
</span></span><span class=line><span class=cl><span class=nv>ts</span><span class=o>=</span><span class=s2>&#34;</span><span class=k>$((</span> <span class=k>$(</span> <span class=si>${</span><span class=nv>date</span><span class=si>}</span> -u <span class=s1>&#39;+%s%N&#39;</span> <span class=k>)</span> <span class=o>/</span> <span class=m>1000000</span> <span class=k>))</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Suffix.</span>
</span></span><span class=line><span class=cl><span class=nv>sfx</span><span class=o>=</span><span class=k>$(</span> <span class=si>${</span><span class=nv>shuf</span><span class=si>}</span> -i <span class=s1>&#39;1000-9999&#39;</span> -n <span class=m>1</span> --random-source<span class=o>=</span><span class=s1>&#39;/dev/random&#39;</span> <span class=k>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>ca<span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=nb>local</span> <span class=nv>ec</span><span class=o>=</span><span class=s1>&#39;secp384r1&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nb>echo</span> <span class=s2>&#34;&#34;</span> <span class=o>&amp;&amp;</span> <span class=nb>echo</span> <span class=s2>&#34;--- [CREATE] Certificate Authority&#34;</span> <span class=o>&amp;&amp;</span> <span class=nb>echo</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>  <span class=si>${</span><span class=nv>ossl</span><span class=si>}</span> req -x509 -newkey ec:&lt;<span class=o>(</span> openssl ecparam -name <span class=s2>&#34;</span><span class=si>${</span><span class=nv>ec</span><span class=si>}</span><span class=s2>&#34;</span> <span class=o>)</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    -nodes -days <span class=s2>&#34;</span><span class=si>${</span><span class=nv>days</span><span class=si>}</span><span class=s2>&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    -keyform <span class=s1>&#39;PEM&#39;</span> -outform <span class=s1>&#39;PEM&#39;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    -keyout <span class=s2>&#34;</span><span class=si>${</span><span class=nv>ca_key</span><span class=si>}</span><span class=s2>&#34;</span> -out <span class=s2>&#34;</span><span class=si>${</span><span class=nv>ca_crt</span><span class=si>}</span><span class=s2>&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    <span class=o>&amp;&amp;</span> <span class=si>${</span><span class=nv>ossl</span><span class=si>}</span> x509 -in <span class=s2>&#34;</span><span class=si>${</span><span class=nv>ca_crt</span><span class=si>}</span><span class=s2>&#34;</span> -text
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>cert<span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=nb>local</span> <span class=nv>ec</span><span class=o>=</span><span class=s1>&#39;prime256v1&#39;</span>
</span></span><span class=line><span class=cl>  <span class=nb>local</span> <span class=nv>key_pvt</span><span class=o>=</span><span class=s2>&#34;</span><span class=si>${</span><span class=nv>ts</span><span class=si>}</span><span class=s2>.</span><span class=si>${</span><span class=nv>sfx</span><span class=si>}</span><span class=s2>.key.private.pem&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nb>local</span> <span class=nv>key_pub</span><span class=o>=</span><span class=s2>&#34;</span><span class=si>${</span><span class=nv>ts</span><span class=si>}</span><span class=s2>.</span><span class=si>${</span><span class=nv>sfx</span><span class=si>}</span><span class=s2>.key.public.pem&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nb>local</span> <span class=nv>csr</span><span class=o>=</span><span class=s2>&#34;</span><span class=si>${</span><span class=nv>ts</span><span class=si>}</span><span class=s2>.</span><span class=si>${</span><span class=nv>sfx</span><span class=si>}</span><span class=s2>.csr&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nb>local</span> <span class=nv>crt</span><span class=o>=</span><span class=s2>&#34;</span><span class=si>${</span><span class=nv>ts</span><span class=si>}</span><span class=s2>.</span><span class=si>${</span><span class=nv>sfx</span><span class=si>}</span><span class=s2>.crt&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nb>local</span> <span class=nv>p12</span><span class=o>=</span><span class=s2>&#34;</span><span class=si>${</span><span class=nv>ts</span><span class=si>}</span><span class=s2>.</span><span class=si>${</span><span class=nv>sfx</span><span class=si>}</span><span class=s2>.p12&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nb>local</span> <span class=nv>srl</span><span class=o>=</span><span class=s2>&#34;</span><span class=si>${</span><span class=nv>ts</span><span class=si>}</span><span class=s2>.</span><span class=si>${</span><span class=nv>sfx</span><span class=si>}</span><span class=s2>.srl&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nb>echo</span> <span class=s2>&#34;&#34;</span> <span class=o>&amp;&amp;</span> <span class=nb>echo</span> <span class=s2>&#34;--- [CREATE] Client Certificate [</span><span class=si>${</span><span class=nv>ts</span><span class=si>}</span><span class=s2>]&#34;</span> <span class=o>&amp;&amp;</span> <span class=nb>echo</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>  <span class=si>${</span><span class=nv>ossl</span><span class=si>}</span> ecparam -name <span class=s2>&#34;</span><span class=si>${</span><span class=nv>ec</span><span class=si>}</span><span class=s2>&#34;</span> -genkey -noout -out <span class=s2>&#34;</span><span class=si>${</span><span class=nv>key_pvt</span><span class=si>}</span><span class=s2>&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    <span class=o>&amp;&amp;</span> <span class=si>${</span><span class=nv>ossl</span><span class=si>}</span> ec -in <span class=s2>&#34;</span><span class=si>${</span><span class=nv>key_pvt</span><span class=si>}</span><span class=s2>&#34;</span> -pubout -out <span class=s2>&#34;</span><span class=si>${</span><span class=nv>key_pub</span><span class=si>}</span><span class=s2>&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    <span class=o>&amp;&amp;</span> <span class=si>${</span><span class=nv>ossl</span><span class=si>}</span> req -new -key <span class=s2>&#34;</span><span class=si>${</span><span class=nv>key_pvt</span><span class=si>}</span><span class=s2>&#34;</span> -out <span class=s2>&#34;</span><span class=si>${</span><span class=nv>csr</span><span class=si>}</span><span class=s2>&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    <span class=o>&amp;&amp;</span> <span class=si>${</span><span class=nv>ossl</span><span class=si>}</span> x509 -req -in <span class=s2>&#34;</span><span class=si>${</span><span class=nv>csr</span><span class=si>}</span><span class=s2>&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>        -CA <span class=s2>&#34;</span><span class=si>${</span><span class=nv>ca_crt</span><span class=si>}</span><span class=s2>&#34;</span> -CAkey <span class=s2>&#34;</span><span class=si>${</span><span class=nv>ca_key</span><span class=si>}</span><span class=s2>&#34;</span> -days <span class=s2>&#34;</span><span class=si>${</span><span class=nv>days</span><span class=si>}</span><span class=s2>&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>        -CAcreateserial -CAserial <span class=s2>&#34;</span><span class=si>${</span><span class=nv>srl</span><span class=si>}</span><span class=s2>&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>        -outform <span class=s1>&#39;PEM&#39;</span> -out <span class=s2>&#34;</span><span class=si>${</span><span class=nv>crt</span><span class=si>}</span><span class=s2>&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    <span class=o>&amp;&amp;</span> <span class=si>${</span><span class=nv>ossl</span><span class=si>}</span> pkcs12 -export <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>        -inkey <span class=s2>&#34;</span><span class=si>${</span><span class=nv>key_pvt</span><span class=si>}</span><span class=s2>&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>        -in <span class=s2>&#34;</span><span class=si>${</span><span class=nv>crt</span><span class=si>}</span><span class=s2>&#34;</span> -out <span class=s2>&#34;</span><span class=si>${</span><span class=nv>p12</span><span class=si>}</span><span class=s2>&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    <span class=o>&amp;&amp;</span> <span class=si>${</span><span class=nv>ossl</span><span class=si>}</span> verify -CAfile <span class=s2>&#34;</span><span class=si>${</span><span class=nv>ca_crt</span><span class=si>}</span><span class=s2>&#34;</span> <span class=s2>&#34;</span><span class=si>${</span><span class=nv>crt</span><span class=si>}</span><span class=s2>&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    <span class=o>&amp;&amp;</span> <span class=si>${</span><span class=nv>ossl</span><span class=si>}</span> x509 -in <span class=s2>&#34;</span><span class=si>${</span><span class=nv>crt</span><span class=si>}</span><span class=s2>&#34;</span> -text
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=s2>&#34;</span><span class=nv>$@</span><span class=s2>&#34;</span></span></span></code></pre></div></div></div></div><p>Скрипт содержит две функции, вызывать которых можно по отдельности. Функция <code>ca()</code> позволяет сгенерировать ключ и сертификат центра сертификации, а функция <code>cert()</code>, соответственно, генерирует клиентские сертификаты.</p><h3 id=666004036-использование><a class=link-body-emphasis href=#666004036-%d0%b8%d1%81%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d0%be%d0%b2%d0%b0%d0%bd%d0%b8%d0%b5>Использование</a></h3><ol><li>Создать ключ и сертификат центра сертификации:</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-11 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class=flex-shrink-0><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-4ce8c440016530c2185721d4ec9a8dbf role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-4ce8c440016530c2185721d4ec9a8dbf><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>bash openssl.ca.sh ca</span></span></code></pre></div></div></div></div><ol start=2><li>Создать клиентские ключи и сертификаты:</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-12 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class=flex-shrink-0><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-eb4d33c7841a0412dbb224b568b1727e role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-eb4d33c7841a0412dbb224b568b1727e><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>bash openssl.ca.sh cert</span></span></code></pre></div></div></div></div><p>Немного расскажу про алгоритм генерации сертификатов.</p><ol><li>У сертификата есть поле <code>Serial Number</code>, которое содержит серийный номер сертификата. Серийный номер сертификата это уникальный номер, выданный центром сертификации. В моём скрипте при генерации клиентского сертификата указаны опции <code>-CAcreateserial</code> и <code>-CAserial "${srl}"</code>, которые позволяют OpenSSL создавать рядом с клиентскими сертификатами файлы формата <code>.slr</code>, содержащие в себе серийные номера сгенерированных сертификатов. Таким образом можно создавать небольшую локальную базу данных выданных сертификатов.</li><li>Файл каждого клиентского сертификата генерируется с названием вида <code>[TS].[SFX].[EXE]</code>, где <code>[TS]</code> - это временная метка в микросекундах, <code>[SFX]</code> - числовой суффикс, а <code>[EXE]</code> - расширение файлов.</li></ol><p>На этом всё. Не исключаю факта присутствия ошибок или неточностей. Если что, жду предложения в электронную почту. <span class="shortcode shortcode-emoji">😄</span></p></div></div><div class=modal-footer><ul class="list-inline text-center text-body-secondary small"><li class=list-inline-item><a href=https://lib.onl/ru/tags/openssl/>#openssl</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/bash/>#bash</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/%D1%81%D0%B5%D1%80%D1%82%D0%B8%D1%84%D0%B8%D0%BA%D0%B0%D1%82%D1%8B/>#сертификаты</a></li><li class=list-inline-item>&bull;</li><li class="list-inline-item text-warning" data-bs-tooltip data-bs-title='Уровень сложности: Средний'><i class="far fa-face-meh fa-fw"></i></li><li class=list-inline-item>&bull;</li><li class=list-inline-item><time datetime=2023-10-17T23:42:31Z data-fn=date-local>2023/10/17 23:42:31 UTC</time></li></ul></div></div></div></div></div><div class=col><div class="d-sm-block d-md-none"><article class=node-articles><header><div class="node-cover mb-3"><a title="Установка сертификата НУЦ Минцифры" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2023/10/75075788-9308-56b7-b531-2008cb35f7d0/ data-bs-toggle=modal data-bs-target=#modal-48ce8efb340887e56667dabda91b66a6><picture><source srcset='https://images.unsplash.com/photo-1570610159825-ec5d3823660c?crop=edges&amp;w=640&amp;h=360&amp;fit=crop&amp;auto=compress,format 640w,https://images.unsplash.com/photo-1570610159825-ec5d3823660c?crop=edges&amp;w=768&amp;h=432&amp;fit=crop&amp;auto=compress,format 768w,https://images.unsplash.com/photo-1570610159825-ec5d3823660c?crop=edges&amp;w=1024&amp;h=576&amp;fit=crop&amp;auto=compress,format 1024w,https://images.unsplash.com/photo-1570610159825-ec5d3823660c?crop=edges&amp;w=1280&amp;h=720&amp;fit=crop&amp;auto=compress,format 1280w,https://images.unsplash.com/photo-1570610159825-ec5d3823660c?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format 1600w' sizes="(min-width: 576px) 100vw"><img class=img-fluid src="https://images.unsplash.com/photo-1570610159825-ec5d3823660c?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format" width=1600 height=900 alt="Установка сертификата НУЦ Минцифры" loading=lazy></picture></a></div><div class=node-title><h2 class=h5><a href=/ru/articles/2023/10/75075788-9308-56b7-b531-2008cb35f7d0/ data-bs-toggle=modal data-bs-target=#modal-48ce8efb340887e56667dabda91b66a6>Установка сертификата НУЦ Минцифры</a></h2></div></header><div class=node-body><p>Рассказываю о нескольких способах установки сертификатов от НУЦ Минцифры. Установка производится в ОС MS Windows и Linux.</p></div></article></div><div class="d-none d-md-block"><article class="node-articles d-flex overflow-hidden"><div class="flex-shrink-0 me-3"><div class=node-cover><a title="Установка сертификата НУЦ Минцифры" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2023/10/75075788-9308-56b7-b531-2008cb35f7d0/ data-bs-toggle=modal data-bs-target=#modal-48ce8efb340887e56667dabda91b66a6><img class=img-fluid src="https://images.unsplash.com/photo-1570610159825-ec5d3823660c?crop=edges&amp;w=160&amp;h=160&amp;fit=crop&amp;auto=compress,format" width=160 height=160 alt="Установка сертификата НУЦ Минцифры" loading=lazy></a></div></div><div class="flex-grow-1 overflow-hidden"><header><div class=node-title><h2 class=h5><a href=/ru/articles/2023/10/75075788-9308-56b7-b531-2008cb35f7d0/ data-bs-toggle=modal data-bs-target=#modal-48ce8efb340887e56667dabda91b66a6>Установка сертификата НУЦ Минцифры</a></h2></div></header><div class=node-body><p>Рассказываю о нескольких способах установки сертификатов от НУЦ Минцифры. Установка производится в ОС MS Windows и Linux.</p></div></div></article></div><div class="modal fade" id=modal-48ce8efb340887e56667dabda91b66a6 tabindex=-1 aria-labelledby=modal-48ce8efb340887e56667dabda91b66a6-label aria-hidden=true><div class="modal-dialog modal-fullscreen"><div class=modal-content><div class=modal-header><h2 class="modal-title fs-5 text-truncate" id=modal-48ce8efb340887e56667dabda91b66a6-label><a href=/ru/articles/2023/10/75075788-9308-56b7-b531-2008cb35f7d0/>Установка сертификата НУЦ Минцифры</a></h2><button type=button class=btn-close data-bs-dismiss=modal aria-label=Закрыть></button></div><div class=modal-body><div class=node-body><p>Рассказываю о нескольких способах установки сертификатов от НУЦ Минцифры. Установка производится в ОС MS Windows и Linux.</p><h2 id=4022241939-ms-windows><a class=link-body-emphasis href=#4022241939-ms-windows>MS Windows</a></h2><h3 id=4022241939-установка-корневого-сертификата><a class=link-body-emphasis href=#4022241939-%d1%83%d1%81%d1%82%d0%b0%d0%bd%d0%be%d0%b2%d0%ba%d0%b0-%d0%ba%d0%be%d1%80%d0%bd%d0%b5%d0%b2%d0%be%d0%b3%d0%be-%d1%81%d0%b5%d1%80%d1%82%d0%b8%d1%84%d0%b8%d0%ba%d0%b0%d1%82%d0%b0>Установка корневого сертификата</a></h3><ul><li><a title href=https://gu-st.ru/content/Other/doc/russian_trusted_root_ca.cer target=_blank rel="noopener noreferrer nofollow">Скачать</a> корневой сертификат.</li><li>Открыть скаченный файл <code>russian_trusted_root_ca.cer</code> и нажать кнопку <span class="shortcode shortcode-key d-inline-block"><kbd>Установить сертификат...</kbd></span>.</li><li>В <strong>Мастере импорта сертификатов</strong> выбрать <em>Текущий пользователь</em>.<ul><li>Выбрать <em>Поместить все сертификаты в следующее хранилище</em>.</li><li>Нажать <span class="shortcode shortcode-key d-inline-block"><kbd>Обзор</kbd></span> и выбрать <em>Доверенные корневые центры сертификации</em>.</li><li>В окне <strong>Завершение мастера импорта сертификатов</strong> нажать <span class="shortcode shortcode-key d-inline-block"><kbd>Готово</kbd></span>.</li></ul></li></ul><h3 id=4022241939-установка-выпускающего-сертификата><a class=link-body-emphasis href=#4022241939-%d1%83%d1%81%d1%82%d0%b0%d0%bd%d0%be%d0%b2%d0%ba%d0%b0-%d0%b2%d1%8b%d0%bf%d1%83%d1%81%d0%ba%d0%b0%d1%8e%d1%89%d0%b5%d0%b3%d0%be-%d1%81%d0%b5%d1%80%d1%82%d0%b8%d1%84%d0%b8%d0%ba%d0%b0%d1%82%d0%b0>Установка выпускающего сертификата</a></h3><ul><li><a title href=https://gu-st.ru/content/Other/doc/russian_trusted_sub_ca.cer target=_blank rel="noopener noreferrer nofollow">Скачать</a> выпускающий сертификат.</li><li>Открыть скаченный файл <code>russian_trusted_sub_ca.cer</code> и нажать кнопку <span class="shortcode shortcode-key d-inline-block"><kbd>Установить сертификат...</kbd></span>.</li><li>В <strong>Мастере импорта сертификатов</strong> выбрать <em>Текущий пользователь</em>.<ul><li>Выбрать <em>Автоматически выбрать хранилище на основе типа сертификата</em>.</li><li>В окне <strong>Завершение мастера импорта сертификатов</strong> нажать <span class="shortcode shortcode-key d-inline-block"><kbd>Готово</kbd></span>.</li></ul></li></ul><h3 id=4022241939-powershell><a class=link-body-emphasis href=#4022241939-powershell>PowerShell</a></h3><p>При помощи PowerShell можно установить сертификат одной строчкой, состоящей из нескольких команд:</p><ul><li><code>Invoke-WebRequest</code> - скачивает файл с внешнего веб-ресурса.</li><li><code>Import-Certificate</code> - импортирует сертификат в указанное хранилище.</li><li><code>${DIR}</code> - переменная, определяющая директорию <code>Downloads</code> (<code>Загрузки</code>) для текущего пользователя.</li></ul><div class="shortcode shortcode-codeblock shortcode-codeblock-0 shortcode-codeblock-terminal
shortcode-codeblock-terminal-windows
shortcode-codeblock-terminal-windows"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class=flex-shrink-0><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-64be61417bb4355257041b14031a0781 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-64be61417bb4355257041b14031a0781><div class=highlight><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=p>${</span><span class=n>CERT_ROOT</span><span class=p>}</span> <span class=p>=</span> <span class=s1>&#39;russian_trusted_root_ca.cer&#39;</span><span class=p>;</span> <span class=p>${</span><span class=n>CERT_SUB</span><span class=p>}</span> <span class=p>=</span> <span class=s1>&#39;russian_trusted_sub_ca.cer&#39;</span><span class=p>;</span> <span class=p>${</span><span class=n>DIR</span><span class=p>}</span> <span class=p>=</span> <span class=p>(</span><span class=nb>New-Object</span> <span class=n>-ComObject</span> <span class=n>Shell</span><span class=p>.</span><span class=n>Application</span><span class=p>).</span><span class=py>NameSpace</span><span class=p>(</span><span class=s1>&#39;shell:Downloads&#39;</span><span class=p>).</span><span class=py>Self</span><span class=p>.</span><span class=n>Path</span><span class=p>;</span> <span class=nb>Invoke-WebRequest</span> <span class=s2>&#34;https://gu-st.ru/content/Other/doc/</span><span class=nv>${CERT_ROOT}</span><span class=s2>&#34;</span> <span class=n>-OutFile</span> <span class=s2>&#34;</span><span class=nv>${DIR}</span><span class=s2>\</span><span class=nv>${CERT_ROOT}</span><span class=s2>&#34;</span><span class=p>;</span> <span class=nb>Import-Certificate</span> <span class=n>-FilePath</span> <span class=s2>&#34;</span><span class=nv>${DIR}</span><span class=s2>\</span><span class=nv>${CERT_ROOT}</span><span class=s2>&#34;</span> <span class=n>-CertStoreLocation</span> <span class=s1>&#39;Cert:\CurrentUser\Root&#39;</span><span class=p>;</span> <span class=nb>Invoke-WebRequest</span> <span class=s2>&#34;https://gu-st.ru/content/Other/doc/</span><span class=nv>${CERT_SUB}</span><span class=s2>&#34;</span> <span class=n>-OutFile</span> <span class=s2>&#34;</span><span class=nv>${DIR}</span><span class=s2>\</span><span class=nv>${CERT_SUB}</span><span class=s2>&#34;</span><span class=p>;</span> <span class=nb>Import-Certificate</span> <span class=n>-FilePath</span> <span class=s2>&#34;</span><span class=nv>${DIR}</span><span class=s2>\</span><span class=nv>${CERT_SUB}</span><span class=s2>&#34;</span> <span class=n>-CertStoreLocation</span> <span class=s1>&#39;Cert:\CurrentUser\CA&#39;</span><span class=p>;</span></span></span></code></pre></div></div></div></div><h2 id=4022241939-linux><a class=link-body-emphasis href=#4022241939-linux>Linux</a></h2><p>Для Linux можно воспользоваться пакетом сертификатов в формате <code>.PEM</code> от <strong>MacOS</strong>. Положительным моментом подобного пакета является то, что PEM содержит в себе сразу два сертификата: корневой и выпускающий.</p><h3 id=4022241939-установка-корневого-и-выпускающего-сертификатов><a class=link-body-emphasis href=#4022241939-%d1%83%d1%81%d1%82%d0%b0%d0%bd%d0%be%d0%b2%d0%ba%d0%b0-%d0%ba%d0%be%d1%80%d0%bd%d0%b5%d0%b2%d0%be%d0%b3%d0%be-%d0%b8-%d0%b2%d1%8b%d0%bf%d1%83%d1%81%d0%ba%d0%b0%d1%8e%d1%89%d0%b5%d0%b3%d0%be-%d1%81%d0%b5%d1%80%d1%82%d0%b8%d1%84%d0%b8%d0%ba%d0%b0%d1%82%d0%be%d0%b2>Установка корневого и выпускающего сертификатов</a></h3><ul><li><a title href=https://gu-st.ru/content/Other/doc/russiantrustedca.pem target=_blank rel="noopener noreferrer nofollow">Скачать</a> файл с корневым и выпускающим сертификатами.</li><li>Добавить скаченный файл <code>russiantrustedca.pem</code> в хранилище доверенных сертификатов в зависимости от дистрибутива Linux.<ul><li>DEB-based: <code>/usr/local/share/ca-certificates/</code>.</li><li>RHEL-based: <code>/etc/pki/ca-trust/source/anchors/</code>.</li><li>Arch Linux: <code>/etc/ca-certificates/trust-source/anchors/</code>.</li></ul></li><li>Обновить хранилище сертификатов следующими командами.<ul><li>DEB-based: <code>update-ca-certificates --fresh</code>.</li><li>RHEL-based: <code>update-ca-trust force-enable</code> и <code>update-ca-trust extract</code>.</li></ul></li></ul><h3 id=4022241939-bash><a class=link-body-emphasis href=#4022241939-bash>Bash</a></h3><p>Установить сертификат можно одной командой. Команды вводится от пользователя <code>root</code>. Как выше приводилось, для DEB-based и RHEL-based дистрибутивов, пути хранилища сертификатов различаются. Поэтому, я привожу две команды под каждые версии дистрибутивов.</p><h4 id=4022241939-deb-based-дистрибутивы><a class=link-body-emphasis href=#4022241939-deb-based-%d0%b4%d0%b8%d1%81%d1%82%d1%80%d0%b8%d0%b1%d1%83%d1%82%d0%b8%d0%b2%d1%8b>DEB-based дистрибутивы</a></h4><div class="shortcode shortcode-codeblock shortcode-codeblock-1 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class=flex-shrink-0><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-4290003be6c62746ac946bae6c0827a8 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-4290003be6c62746ac946bae6c0827a8><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nv>CERT</span><span class=o>=</span><span class=s1>&#39;russiantrustedca.pem&#39;</span><span class=p>;</span> curl -o <span class=s2>&#34;/usr/local/share/ca-certificates/</span><span class=si>${</span><span class=nv>CERT</span><span class=si>}</span><span class=s2>&#34;</span> <span class=s2>&#34;https://gu-st.ru/content/Other/doc/</span><span class=si>${</span><span class=nv>CERT</span><span class=si>}</span><span class=s2>&#34;</span> <span class=o>&amp;&amp;</span> update-ca-certificates --fresh<span class=p>;</span></span></span></code></pre></div></div></div></div><h4 id=4022241939-rhel-based-дистрибутивы><a class=link-body-emphasis href=#4022241939-rhel-based-%d0%b4%d0%b8%d1%81%d1%82%d1%80%d0%b8%d0%b1%d1%83%d1%82%d0%b8%d0%b2%d1%8b>RHEL-based дистрибутивы</a></h4><div class="shortcode shortcode-codeblock shortcode-codeblock-2 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class=flex-shrink-0><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-83f6fc985f0b7575c3e1a8e33e3a87b5 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-83f6fc985f0b7575c3e1a8e33e3a87b5><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nv>CERT</span><span class=o>=</span><span class=s1>&#39;russiantrustedca.pem&#39;</span><span class=p>;</span> curl -o <span class=s2>&#34;/etc/pki/ca-trust/source/anchors/</span><span class=si>${</span><span class=nv>CERT</span><span class=si>}</span><span class=s2>&#34;</span> <span class=s2>&#34;https://gu-st.ru/content/Other/doc/</span><span class=si>${</span><span class=nv>CERT</span><span class=si>}</span><span class=s2>&#34;</span> <span class=o>&amp;&amp;</span> update-ca-trust force-enable <span class=o>&amp;&amp;</span> update-ca-trust extract<span class=p>;</span></span></span></code></pre></div></div></div></div></div></div><div class=modal-footer><ul class="list-inline text-center text-body-secondary small"><li class=list-inline-item><a href=https://lib.onl/ru/tags/linux/>#linux</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/bash/>#bash</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/powershell/>#powershell</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/%D0%BC%D0%B8%D0%BD%D1%86%D0%B8%D1%84%D1%80%D1%8B/>#минцифры</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/%D1%81%D0%B5%D1%80%D1%82%D0%B8%D1%84%D0%B8%D0%BA%D0%B0%D1%82%D1%8B/>#сертификаты</a></li><li class=list-inline-item>&bull;</li><li class="list-inline-item text-success" data-bs-tooltip data-bs-title='Уровень сложности: Простой'><i class="far fa-face-smile fa-fw"></i></li><li class=list-inline-item>&bull;</li><li class=list-inline-item><time datetime=2023-10-06T11:42:15Z data-fn=date-local>2023/10/06 11:42:15 UTC</time></li></ul></div></div></div></div></div><div class=col><div class="d-sm-block d-md-none"><article class=node-articles><header><div class="node-cover mb-3"><a title="Установка ядра XanMod в Debian" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2022/01/06ef2fab-2ae2-5356-9154-7ca1e486d27d/ data-bs-toggle=modal data-bs-target=#modal-b368e50016c8d85387e5b06640580d5a><picture><source srcset='https://images.unsplash.com/photo-1615485021362-5db597fbab1d?crop=edges&amp;w=640&amp;h=360&amp;fit=crop&amp;auto=compress,format 640w,https://images.unsplash.com/photo-1615485021362-5db597fbab1d?crop=edges&amp;w=768&amp;h=432&amp;fit=crop&amp;auto=compress,format 768w,https://images.unsplash.com/photo-1615485021362-5db597fbab1d?crop=edges&amp;w=1024&amp;h=576&amp;fit=crop&amp;auto=compress,format 1024w,https://images.unsplash.com/photo-1615485021362-5db597fbab1d?crop=edges&amp;w=1280&amp;h=720&amp;fit=crop&amp;auto=compress,format 1280w,https://images.unsplash.com/photo-1615485021362-5db597fbab1d?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format 1600w' sizes="(min-width: 576px) 100vw"><img class=img-fluid src="https://images.unsplash.com/photo-1615485021362-5db597fbab1d?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format" width=1600 height=900 alt="Установка ядра XanMod в Debian" loading=lazy></picture></a></div><div class=node-title><h2 class=h5><a href=/ru/articles/2022/01/06ef2fab-2ae2-5356-9154-7ca1e486d27d/ data-bs-toggle=modal data-bs-target=#modal-b368e50016c8d85387e5b06640580d5a>Установка ядра XanMod в Debian</a></h2></div></header><div class=node-body><p>Приветствую! В этой небольшой заметке приведу команду, при помощи которой можно добавить репозиторий ядра XanMod в Debian.</p></div></article></div><div class="d-none d-md-block"><article class="node-articles d-flex overflow-hidden"><div class="flex-shrink-0 me-3"><div class=node-cover><a title="Установка ядра XanMod в Debian" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2022/01/06ef2fab-2ae2-5356-9154-7ca1e486d27d/ data-bs-toggle=modal data-bs-target=#modal-b368e50016c8d85387e5b06640580d5a><img class=img-fluid src="https://images.unsplash.com/photo-1615485021362-5db597fbab1d?crop=edges&amp;w=160&amp;h=160&amp;fit=crop&amp;auto=compress,format" width=160 height=160 alt="Установка ядра XanMod в Debian" loading=lazy></a></div></div><div class="flex-grow-1 overflow-hidden"><header><div class=node-title><h2 class=h5><a href=/ru/articles/2022/01/06ef2fab-2ae2-5356-9154-7ca1e486d27d/ data-bs-toggle=modal data-bs-target=#modal-b368e50016c8d85387e5b06640580d5a>Установка ядра XanMod в Debian</a></h2></div></header><div class=node-body><p>Приветствую! В этой небольшой заметке приведу команду, при помощи которой можно добавить репозиторий ядра XanMod в Debian.</p></div></div></article></div><div class="modal fade" id=modal-b368e50016c8d85387e5b06640580d5a tabindex=-1 aria-labelledby=modal-b368e50016c8d85387e5b06640580d5a-label aria-hidden=true><div class="modal-dialog modal-fullscreen"><div class=modal-content><div class=modal-header><h2 class="modal-title fs-5 text-truncate" id=modal-b368e50016c8d85387e5b06640580d5a-label><a href=/ru/articles/2022/01/06ef2fab-2ae2-5356-9154-7ca1e486d27d/>Установка ядра XanMod в Debian</a></h2><button type=button class=btn-close data-bs-dismiss=modal aria-label=Закрыть></button></div><div class=modal-body><div class=node-body><p>Приветствую! В этой небольшой заметке приведу команду, при помощи которой можно добавить репозиторий ядра XanMod в Debian.</p><h2 id=734701045-что-такое-ядро-xanmod><a class=link-body-emphasis href=#734701045-%d1%87%d1%82%d0%be-%d1%82%d0%b0%d0%ba%d0%be%d0%b5-%d1%8f%d0%b4%d1%80%d0%be-xanmod>Что такое ядро XanMod?</a></h2><p>Ядро <strong>XanMod</strong> имеет ряд патчей и оптимизаций. Список изменений по сравнению с ванильным ядром, я взял с <a title href=https://xanmod.org target=_blank rel="noopener noreferrer nofollow">официального сайта</a>:</p><ul><li>Caching, Virtual Memory Manager and CPUFreq Governor improvements.</li><li>Full multi-core block layer runqueue requests for high I/O throughput.</li><li>BBRv2 TCP congestion control + FQ-PIE packet scheduling and AQM algorithm.</li><li>ORC Unwinder for kernel stack traces (debuginfo) implementation.</li><li>High responsiveness multitasking Task Type scheduler (SCHED_NORMAL) build available [5.15-tt].</li><li>Real-time Linux kernel (PREEMPT_RT) build available [5.15-rt] [5.10-rt].</li><li>Third-party patchset available: patches<ul><li>le9&rsquo;s file mappings under memory pressure protection.</li><li>Linux Random Number Generator (LRNG) framework.</li><li>TCP performance optimizations backport from linux/net-next [5.16] [5.15].</li><li>AMD&rsquo;s P-state driver for Zen2 and Zen3 processors [5.16] [5.15].</li><li>Futex waitv and legacy WAIT_MULTIPLE implementation for Wine / Proton Fsync support.</li><li>WineSync driver for fast kernel-backed Wine [5.16] [5.15] [as module: winesync].</li><li>Google&rsquo;s Multigenerational LRU framework [5.16] [5.15].</li><li>Google&rsquo;s BBRv2 TCP congestion control.</li><li>Paragon&rsquo;s Software NTFS3 driver [as module: ntfs3].</li><li>PCIe ACS Override for bypassing IOMMU groups support.</li><li>Graysky&rsquo;s additional CPU optimizations for GCC and Clang.</li><li>Clear Linux patchset [partial].</li><li>Android Ashmem and Binder IPC driver as module for Anbox.</li><li>Updated ZSTD library for bug fixes and r/w performance compression improvements on Btrfs, F2FS, SquashFS, pstore, initramfs and vmlinuz.</li></ul></li><li>Generic packages for compatibility with most Debian & Ubuntu based distributions. Builts on the latest LLVM 12.0.1, GCC 11.2 and Binutils 2.37.</li><li>GPLv2 license. Can be built for any distribution or purpose.</li></ul><p>Стоит заметить, что ядро XanMod не единственное, которое интегрирует в себя оптимизации. Есть ещё ядро <a title href=https://liquorix.net target=_blank rel="noopener noreferrer nofollow"><strong>Liquorix</strong></a>, которое занимается практически тем же самым. Но, посмотрев <a title href="https://www.phoronix.com/scan.php?page=article&amp;item=ryzen5-xanmod-liquorix" target=_blank rel="noopener noreferrer nofollow">обзор и тесты</a> на Phoronix&rsquo;е, я сделал выбор в пользу XanMod.</p><h2 id=734701045-установка-xanmod><a class=link-body-emphasis href=#734701045-%d1%83%d1%81%d1%82%d0%b0%d0%bd%d0%be%d0%b2%d0%ba%d0%b0-xanmod>Установка XanMod</a></h2><p>Однострочная команда по добавлению ядра XanMod в репозиторий Debian&rsquo;а приведена ниже. Она дробится на следующие под-команды:</p><ol><li>Добавление файла <code>xanmod-kernel.list</code> в директорию <code>/etc/apt/sources.list.d</code>.</li><li>Скачивание файла подписи <code>archive.key</code> и размещение его в директорию <code>/etc/apt/trusted.gpg.d</code> с названием <code>xanmod-kernel.gpg</code>.</li><li>Обновление информации из репозитория при помощи команды <code>apt update</code>.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-0 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class=flex-shrink-0><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-4330673c9b04fab8db2975f20df76130 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-4330673c9b04fab8db2975f20df76130><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>echo</span> <span class=s1>&#39;deb [signed-by=/etc/apt/trusted.gpg.d/xanmod-kernel.gpg] http://deb.xanmod.org releases main&#39;</span> <span class=p>|</span> tee /etc/apt/sources.list.d/xanmod-kernel.list <span class=o>&amp;&amp;</span> curl -fsSL <span class=s1>&#39;https://dl.xanmod.org/archive.key&#39;</span> <span class=p>|</span> gpg --dearmor <span class=p>|</span> tee /etc/apt/trusted.gpg.d/xanmod-kernel.gpg &gt; /dev/null <span class=o>&amp;&amp;</span> apt update</span></span></code></pre></div></div></div></div><p>После выполнения вышеприведённой команды, установка ядра XanMod происходит таким образом:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-1 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class=flex-shrink-0><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-2187bafcf9762c435331e8186fead53d role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-2187bafcf9762c435331e8186fead53d><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>apt install linux-xanmod-<span class=o>[</span>ABI<span class=o>]</span></span></span></code></pre></div></div></div></div><p>Где:</p><ul><li><code>[ABI]</code> - версия архитектуры. Список версий архитектур можно посмотреть ниже.</li></ul><h3 id=734701045-примеры><a class=link-body-emphasis href=#734701045-%d0%bf%d1%80%d0%b8%d0%bc%d0%b5%d1%80%d1%8b>Примеры</a></h3><p>Установить ядро XanMod с версией архитектуры <code>x64v1</code>:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-2 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class=flex-shrink-0><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-31630cd2d89b30fb96dd851324fa0f97 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-31630cd2d89b30fb96dd851324fa0f97><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>apt install linux-xanmod-x64v1</span></span></code></pre></div></div></div></div><p>Установить ядро XanMod с версией архитектуры <code>x64v2</code>:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-3 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class=flex-shrink-0><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-61296699a9c0ec7b5eaac706c1af47b2 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-61296699a9c0ec7b5eaac706c1af47b2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>apt install linux-xanmod-x64v2</span></span></code></pre></div></div></div></div><p>Установить ядро XanMod с версией архитектуры <code>x64v3</code>:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-4 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class=flex-shrink-0><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-b1600b4a2de8fba95cce0a4b3386fcdc role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-b1600b4a2de8fba95cce0a4b3386fcdc><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>apt install linux-xanmod-x64v3</span></span></code></pre></div></div></div></div><p>Установить ядро XanMod с версией архитектуры <code>x64v4</code>:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-5 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class=flex-shrink-0><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-f79cbc9526d6eebbb3c6e6806ee2a8c2 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-f79cbc9526d6eebbb3c6e6806ee2a8c2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>apt install linux-xanmod-x64v4</span></span></code></pre></div></div></div></div><p>Для установки Mainline-версии ядра команда будет такой:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-6 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class=flex-shrink-0><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-ef511e73783c6cb4ee413a469dc6f2f2 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-ef511e73783c6cb4ee413a469dc6f2f2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>apt install linux-xanmod-edge-x64v3</span></span></code></pre></div></div></div></div><h2 id=734701045-версии-архитектур-xanmod><a class=link-body-emphasis href=#734701045-%d0%b2%d0%b5%d1%80%d1%81%d0%b8%d0%b8-%d0%b0%d1%80%d1%85%d0%b8%d1%82%d0%b5%d0%ba%d1%82%d1%83%d1%80-xanmod>Версии архитектур XanMod</a></h2><p>Версия архитектуры зависит от ядра процессора и поддерживаемых им инструкций. Версию архитектуры можно узнать из списка ниже.</p><h3 id=734701045-x86-64-legacy><a class=link-body-emphasis href=#734701045-x86-64-legacy>x86-64 (LEGACY)</a></h3><p>Суффикс для установки ядра: <code>x64v1</code>.</p><p><strong>Поддерживаемые архитектуры:</strong></p><ul><li>AMD K8-family</li><li>AMD K10-family</li><li>AMD Family 10h (Barcelona)</li><li>Intel Pentium 4 / Xeon (Nocona)</li><li>Intel Core 2 (all variants)</li><li>All x86-64 CPUs</li></ul><h3 id=734701045-x86-64-v2><a class=link-body-emphasis href=#734701045-x86-64-v2>x86-64-v2</a></h3><p>Суффикс для установки ядра: <code>x64v2</code>.</p><p><strong>Поддерживаемые архитектуры:</strong></p><ul><li>AMD Family 14h (Bobcat)</li><li>AMD Family 16h (Jaguar)</li><li>AMD Family 15h (Bulldozer)</li><li>AMD Family 15h (Piledriver)</li><li>AMD Family 15h (Steamroller)</li><li>Intel 1st Gen Core (Nehalem)</li><li>Intel 1.5 Gen Core (Westmere)</li><li>Intel 2nd Gen Core (Sandybridge)</li><li>Intel 3rd Gen Core (Ivybridge)</li><li>Intel low-power Silvermont</li><li>Intel Goldmont (Apollo Lake)</li><li>Intel Goldmont (Denverton)</li><li>Intel Goldmont Plus (Gemini Lake)</li></ul><h3 id=734701045-x86-64-v3><a class=link-body-emphasis href=#734701045-x86-64-v3>x86-64-v3</a></h3><p>Суффикс для установки ядра: <code>x64v3</code>.</p><p><strong>Поддерживаемые архитектуры:</strong></p><ul><li>AMD Family 15h (Excavator)</li><li>AMD Family 17h (Zen)</li><li>AMD Family 17h (Zen+)</li><li>AMD Family 17h (Zen2)</li><li>AMD Family 19h (Zen3)</li><li>Intel 4th Gen Core (Haswell)</li><li>Intel 5th Gen Core (Broadwell)</li><li>Intel 6th Gen Core (Skylake)</li><li>Intel 7th Gen Core (Kaby Lake)</li><li>Intel 8/9th Gen Core (Coffee Lake)</li><li>Intel 10th Gen Core (Comet Lake)</li><li>Intel 12th Gen (Alder Lake)</li><li>Intel 13th Gen (Raptor Lake)</li><li>Intel 14th Gen (Meteor Lake)</li></ul><h3 id=734701045-x86-64-v4-avx-512><a class=link-body-emphasis href=#734701045-x86-64-v4-avx-512>x86-64-v4 (AVX-512)</a></h3><p>Суффикс для установки ядра: <code>x64v4</code>.</p><p><strong>Поддерживаемые архитектуры:</strong></p><ul><li>AMD Family 19h (Zen4)</li><li>Intel 6th Gen Core (Skylake X)</li><li>Intel 8th Gen Core i3 (Cannon Lake)</li><li>Intel Xeon / 10th Gen Core (Ice Lake)</li><li>Intel Xeon (Cascade Lake)</li><li>Intel Xeon (Cooper Lake)</li><li>Intel 3rd Gen 10nm++ (Tiger Lake)</li><li>Intel 4th Gen 10nm++ (Sapphire Rapids)</li><li>Intel 5th Gen 10nm++ (Emerald Rapids)</li><li>Intel 11th Gen (Rocket Lake)</li></ul></div></div><div class=modal-footer><ul class="list-inline text-center text-body-secondary small"><li class=list-inline-item><a href=https://lib.onl/ru/tags/debian/>#debian</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/xanmod/>#xanmod</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/kernel/>#kernel</a></li><li class=list-inline-item>&bull;</li><li class="list-inline-item text-success" data-bs-tooltip data-bs-title='Уровень сложности: Простой'><i class="far fa-face-smile fa-fw"></i></li><li class=list-inline-item>&bull;</li><li class=list-inline-item><time datetime=2022-01-13T22:44:15Z data-fn=date-local>2022/01/13 22:44:15 UTC</time></li></ul></div></div></div></div></div><div class=col><div class="d-sm-block d-md-none"><article class=node-articles><header><div class="node-cover mb-3"><a title="Установка Vivaldi в Debian" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2022/01/ddddd243-d182-5e26-a161-d2ea7812214a/ data-bs-toggle=modal data-bs-target=#modal-6497161633b56e7372bb616ffbbcea86><picture><source srcset='https://images.unsplash.com/photo-1564760290292-23341e4df6ec?crop=edges&amp;w=640&amp;h=360&amp;fit=crop&amp;auto=compress,format 640w,https://images.unsplash.com/photo-1564760290292-23341e4df6ec?crop=edges&amp;w=768&amp;h=432&amp;fit=crop&amp;auto=compress,format 768w,https://images.unsplash.com/photo-1564760290292-23341e4df6ec?crop=edges&amp;w=1024&amp;h=576&amp;fit=crop&amp;auto=compress,format 1024w,https://images.unsplash.com/photo-1564760290292-23341e4df6ec?crop=edges&amp;w=1280&amp;h=720&amp;fit=crop&amp;auto=compress,format 1280w,https://images.unsplash.com/photo-1564760290292-23341e4df6ec?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format 1600w' sizes="(min-width: 576px) 100vw"><img class=img-fluid src="https://images.unsplash.com/photo-1564760290292-23341e4df6ec?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format" width=1600 height=900 alt="Установка Vivaldi в Debian" loading=lazy></picture></a></div><div class=node-title><h2 class=h5><a href=/ru/articles/2022/01/ddddd243-d182-5e26-a161-d2ea7812214a/ data-bs-toggle=modal data-bs-target=#modal-6497161633b56e7372bb616ffbbcea86>Установка Vivaldi в Debian</a></h2></div></header><div class=node-body><p>Привет всем! В этой небольшой заметке я приведу команду, при помощи которой можно добавить репозиторий браузера <strong>Vivaldi</strong> в Debian.</p></div></article></div><div class="d-none d-md-block"><article class="node-articles d-flex overflow-hidden"><div class="flex-shrink-0 me-3"><div class=node-cover><a title="Установка Vivaldi в Debian" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2022/01/ddddd243-d182-5e26-a161-d2ea7812214a/ data-bs-toggle=modal data-bs-target=#modal-6497161633b56e7372bb616ffbbcea86><img class=img-fluid src="https://images.unsplash.com/photo-1564760290292-23341e4df6ec?crop=edges&amp;w=160&amp;h=160&amp;fit=crop&amp;auto=compress,format" width=160 height=160 alt="Установка Vivaldi в Debian" loading=lazy></a></div></div><div class="flex-grow-1 overflow-hidden"><header><div class=node-title><h2 class=h5><a href=/ru/articles/2022/01/ddddd243-d182-5e26-a161-d2ea7812214a/ data-bs-toggle=modal data-bs-target=#modal-6497161633b56e7372bb616ffbbcea86>Установка Vivaldi в Debian</a></h2></div></header><div class=node-body><p>Привет всем! В этой небольшой заметке я приведу команду, при помощи которой можно добавить репозиторий браузера <strong>Vivaldi</strong> в Debian.</p></div></div></article></div><div class="modal fade" id=modal-6497161633b56e7372bb616ffbbcea86 tabindex=-1 aria-labelledby=modal-6497161633b56e7372bb616ffbbcea86-label aria-hidden=true><div class="modal-dialog modal-fullscreen"><div class=modal-content><div class=modal-header><h2 class="modal-title fs-5 text-truncate" id=modal-6497161633b56e7372bb616ffbbcea86-label><a href=/ru/articles/2022/01/ddddd243-d182-5e26-a161-d2ea7812214a/>Установка Vivaldi в Debian</a></h2><button type=button class=btn-close data-bs-dismiss=modal aria-label=Закрыть></button></div><div class=modal-body><div class=node-body><p>Привет всем! В этой небольшой заметке я приведу команду, при помощи которой можно добавить репозиторий браузера <strong>Vivaldi</strong> в Debian.</p><p>Установочный пакет <strong>Vivaldi</strong> уже выполняет указанные действия, но для этого он задействует утилиту <code>apt-key</code>, которая в <strong>Debian 11</strong> имеет статус <code>deprecated</code>.</p><p>Однострочная команда по добавлению <strong>Vivaldi</strong> в репозиторий Debian&rsquo;а приведена ниже. Она дробится на следующие под-команды:</p><ol><li>Добавление файла <code>vivaldi-archive.list</code> в директорию <code>/etc/apt/sources.list.d</code>.</li><li>Скачивание файла подписи <code>linux_signing_key.pub</code> и размещение его в директорию <code>/etc/apt/trusted.gpg.d</code> с названием <code>vivaldi-browser.gpg</code>.</li><li>Обновление информации из репозитория при помощи команды <code>apt update</code>.</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-0 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class=flex-shrink-0><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-5e49b1e63f519a48da799859d92f0450 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-5e49b1e63f519a48da799859d92f0450><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;deb [signed-by=/etc/apt/trusted.gpg.d/vivaldi-browser.gpg arch=</span><span class=k>$(</span>dpkg --print-architecture<span class=k>)</span><span class=s2>] https://repo.vivaldi.com/archive/deb/ stable main&#34;</span> <span class=p>|</span> tee /etc/apt/sources.list.d/vivaldi-archive.list <span class=o>&amp;&amp;</span> curl -fsSL <span class=s1>&#39;https://repo.vivaldi.com/archive/linux_signing_key.pub&#39;</span> <span class=p>|</span> gpg --dearmor <span class=p>|</span> tee /etc/apt/trusted.gpg.d/vivaldi-browser.gpg &gt; /dev/null <span class=o>&amp;&amp;</span> apt update</span></span></code></pre></div></div></div></div><p>После выполнения команды, установка <strong>Vivaldi</strong> происходит таким образом:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-1 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class=flex-shrink-0><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-ce32371d62251cc84efe0fa641663848 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-ce32371d62251cc84efe0fa641663848><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>apt install vivaldi-stable</span></span></code></pre></div></div></div></div></div></div><div class=modal-footer><ul class="list-inline text-center text-body-secondary small"><li class=list-inline-item><a href=https://lib.onl/ru/tags/debian/>#debian</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/vivaldi/>#vivaldi</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/browser/>#browser</a></li><li class=list-inline-item>&bull;</li><li class="list-inline-item text-success" data-bs-tooltip data-bs-title='Уровень сложности: Простой'><i class="far fa-face-smile fa-fw"></i></li><li class=list-inline-item>&bull;</li><li class=list-inline-item><time datetime=2022-01-13T22:44:01Z data-fn=date-local>2022/01/13 22:44:01 UTC</time></li></ul></div></div></div></div></div><div class=col><div class="d-sm-block d-md-none"><article class=node-articles><header><div class="node-cover mb-3"><a title="Чёрный экран с курсором при старте GDM" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/09/581804b8-0613-52a8-a5c4-fdae90e7bc8a/ data-bs-toggle=modal data-bs-target=#modal-46334584c908587adafc12280bd2f27b><picture><source srcset='https://images.unsplash.com/photo-1542906453-02e875f65428?crop=edges&amp;w=640&amp;h=360&amp;fit=crop&amp;auto=compress,format 640w,https://images.unsplash.com/photo-1542906453-02e875f65428?crop=edges&amp;w=768&amp;h=432&amp;fit=crop&amp;auto=compress,format 768w,https://images.unsplash.com/photo-1542906453-02e875f65428?crop=edges&amp;w=1024&amp;h=576&amp;fit=crop&amp;auto=compress,format 1024w,https://images.unsplash.com/photo-1542906453-02e875f65428?crop=edges&amp;w=1280&amp;h=720&amp;fit=crop&amp;auto=compress,format 1280w,https://images.unsplash.com/photo-1542906453-02e875f65428?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format 1600w' sizes="(min-width: 576px) 100vw"><img class=img-fluid src="https://images.unsplash.com/photo-1542906453-02e875f65428?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format" width=1600 height=900 alt="Чёрный экран с курсором при старте GDM" loading=lazy></picture></a></div><div class=node-title><h2 class=h5><a href=/ru/articles/2021/09/581804b8-0613-52a8-a5c4-fdae90e7bc8a/ data-bs-toggle=modal data-bs-target=#modal-46334584c908587adafc12280bd2f27b>Чёрный экран с курсором при старте GDM</a></h2></div></header><div class=node-body><p>На днях установил <strong>Debian 11</strong> на несколько ПК. Всё было отлично, кроме как на одном из ПК почему то <strong>GDM</strong> не стал загружаться. Чёрный экран с мигающем текстовым курсором&mldr;</p></div></article></div><div class="d-none d-md-block"><article class="node-articles d-flex overflow-hidden"><div class="flex-shrink-0 me-3"><div class=node-cover><a title="Чёрный экран с курсором при старте GDM" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/09/581804b8-0613-52a8-a5c4-fdae90e7bc8a/ data-bs-toggle=modal data-bs-target=#modal-46334584c908587adafc12280bd2f27b><img class=img-fluid src="https://images.unsplash.com/photo-1542906453-02e875f65428?crop=edges&amp;w=160&amp;h=160&amp;fit=crop&amp;auto=compress,format" width=160 height=160 alt="Чёрный экран с курсором при старте GDM" loading=lazy></a></div></div><div class="flex-grow-1 overflow-hidden"><header><div class=node-title><h2 class=h5><a href=/ru/articles/2021/09/581804b8-0613-52a8-a5c4-fdae90e7bc8a/ data-bs-toggle=modal data-bs-target=#modal-46334584c908587adafc12280bd2f27b>Чёрный экран с курсором при старте GDM</a></h2></div></header><div class=node-body><p>На днях установил <strong>Debian 11</strong> на несколько ПК. Всё было отлично, кроме как на одном из ПК почему то <strong>GDM</strong> не стал загружаться. Чёрный экран с мигающем текстовым курсором&mldr;</p></div></div></article></div><div class="modal fade" id=modal-46334584c908587adafc12280bd2f27b tabindex=-1 aria-labelledby=modal-46334584c908587adafc12280bd2f27b-label aria-hidden=true><div class="modal-dialog modal-fullscreen"><div class=modal-content><div class=modal-header><h2 class="modal-title fs-5 text-truncate" id=modal-46334584c908587adafc12280bd2f27b-label><a href=/ru/articles/2021/09/581804b8-0613-52a8-a5c4-fdae90e7bc8a/>Чёрный экран с курсором при старте GDM</a></h2><button type=button class=btn-close data-bs-dismiss=modal aria-label=Закрыть></button></div><div class=modal-body><div class=node-body><p>На днях установил <strong>Debian 11</strong> на несколько ПК. Всё было отлично, кроме как на одном из ПК почему то <strong>GDM</strong> не стал загружаться. Чёрный экран с мигающем текстовым курсором&mldr;</p><p>На других ПК всё было нормально. Отличие проблемного ПК от остальных заключалось в том, что на проблемном ПК система была установлена на <strong>SSD</strong>. Может быть дело в этом. В интернете я нашёл похожую проблему. По сути, проблема заключается в том, что сам GDM запускается чуть раньше, чем начинается инициализация графической подсистемы. И на кой чёрт его несёт вперёд&mldr;</p><p>В общем, предлагают несколько решений.</p><h2 id=2038044481-настройка-сервиса-gdm><a class=link-body-emphasis href=#2038044481-%d0%bd%d0%b0%d1%81%d1%82%d1%80%d0%be%d0%b9%d0%ba%d0%b0-%d1%81%d0%b5%d1%80%d0%b2%d0%b8%d1%81%d0%b0-gdm>Настройка сервиса GDM</a></h2><p>Данный вариант решения проблемы предлагает отредактировать стартовые параметры сервиса GDM, чтобы тот запускался с небольшой задержкой и не лез вперёд остальной графической подсистемы.</p><p>В терминале нужно ввести от root&rsquo;а команду <code>systemctl edit gdm.service</code>, откроется редактор сервиса GDM. В нем необходимо добавить строку <code>ExecStartPre=/bin/sleep 2</code>, которая создаёт задержку перед запуском самого GDM. Примерно вот так:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-0 shortcode-codeblock-ini"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-08632b3fff0bc8033f4cff9501397fc2><div class=highlight><pre tabindex=0 class=chroma><code class=language-ini data-lang=ini><span class=line><span class=cl><span class=c1>### Anything between here and the comment below will become the new contents of the file</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>[Service]</span>
</span></span><span class=line><span class=cl><span class=na>ExecStartPre</span><span class=o>=</span><span class=s>/bin/sleep 2</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>### Lines below this comment will be discarded</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-08632b3fff0bc8033f4cff9501397fc2 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Таким образом GDM начинает запускаться после того, как инициализируется графическая подсистема.</p><p>Ещё одно исправление <a title href=https://gitlab.gnome.org/GNOME/gdm/-/issues/662#note_993169 target=_blank rel="noopener noreferrer nofollow">предложили</a> в баг-трекере GNOME/GDM. Вместо торможения загрузки GDM, необходимо добавить следующие строки:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-1 shortcode-codeblock-ini"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-40c51913286ce761e50a0757f10bcf25><div class=highlight><pre tabindex=0 class=chroma><code class=language-ini data-lang=ini><span class=line><span class=cl><span class=k>[Unit]</span>
</span></span><span class=line><span class=cl><span class=na>Wants</span><span class=o>=</span><span class=s>systemd-udev-trigger.service systemd-udev-settle.service</span>
</span></span><span class=line><span class=cl><span class=na>After</span><span class=o>=</span><span class=s>systemd-udev-trigger.service systemd-udev-settle.service</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-40c51913286ce761e50a0757f10bcf25 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Но это не совсем корректное исправление (хотя исправление, изложенное выше, тоже трудно назвать правильным), так как после применения этих строк, появляется ошибка:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-2 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class=flex-shrink-0><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-2d3da924cc0dc24d47db3df4a103e3fa role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-2d3da924cc0dc24d47db3df4a103e3fa><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>Dec <span class=m>27</span> 22:23:48 oleksandr-xps15 udevadm<span class=o>[</span>260<span class=o>]</span>: systemd-udev-settle.service is deprecated. Please fix gdm.service not to pull it in.</span></span></code></pre></div></div></div></div><h2 id=2038044481-указание-порядка-инициализации-графической-подсистемы><a class=link-body-emphasis href=#2038044481-%d1%83%d0%ba%d0%b0%d0%b7%d0%b0%d0%bd%d0%b8%d0%b5-%d0%bf%d0%be%d1%80%d1%8f%d0%b4%d0%ba%d0%b0-%d0%b8%d0%bd%d0%b8%d1%86%d0%b8%d0%b0%d0%bb%d0%b8%d0%b7%d0%b0%d1%86%d0%b8%d0%b8-%d0%b3%d1%80%d0%b0%d1%84%d0%b8%d1%87%d0%b5%d1%81%d0%ba%d0%be%d0%b9-%d0%bf%d0%be%d0%b4%d1%81%d0%b8%d1%81%d1%82%d0%b5%d0%bc%d1%8b>Указание порядка инициализации графической подсистемы</a></h2><p>Этот вариант решения проблемы подходит для <strong>Arch Linux</strong>. Необходимо в файле <code>/etc/mkinitcpio.conf</code> добавить в массив <code>MODULES</code> свою графическую подсистему, чтобы та запускалась раньше, чем GDM. Например:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-3 shortcode-codeblock-text"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-dbed6dfe2b0ff1872633b00ecf578852><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>MODULES=(amdgpu)</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-dbed6dfe2b0ff1872633b00ecf578852 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Можно указать другие графические подсистемы, всё зависит от видеокарты, установленной в ПК:</p><ul><li><code>amdgpu</code> - для современных видеокарт AMD.</li><li><code>radeon</code> - для устаревших видеокарт AMD.</li><li><code>nouveau</code> - для Nvidia Nouveau.</li><li><code>i915</code> - для Intel.</li><li><code>mgag200</code> - для видеокарт Matrox.</li></ul><p>Если в системе используется Intel в качестве графики и в модулях прописан <code>i915</code>, то могут появится ошибки ACPI. Для исправления этих ошибок необходимо добавить <code>intel_agp</code> перед <code>i915</code>. Чтобы проверить корректность загрузки модуля, можно ввести команду <code>lsmod | grep intel_agp</code>.</p></div></div><div class=modal-footer><ul class="list-inline text-center text-body-secondary small"><li class=list-inline-item><a href=https://lib.onl/ru/tags/debian/>#debian</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/gnome/>#gnome</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/gdm/>#gdm</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/systemd/>#systemd</a></li><li class=list-inline-item>&bull;</li><li class="list-inline-item text-success" data-bs-tooltip data-bs-title='Уровень сложности: Простой'><i class="far fa-face-smile fa-fw"></i></li><li class=list-inline-item>&bull;</li><li class=list-inline-item><time datetime=2021-09-30T08:10:19Z data-fn=date-local>2021/09/30 08:10:19 UTC</time></li></ul></div></div></div></div></div><div class=col><div class="d-sm-block d-md-none"><article class=node-articles><header><div class="node-cover mb-3"><a title="Отключение режима Wayland в GDM" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/09/0d11ecc0-2714-5c5c-9b48-804f50419590/ data-bs-toggle=modal data-bs-target=#modal-7fd40499c33c1b2e333c385a02dbde1c><picture><source srcset='https://images.unsplash.com/photo-1590140409417-8fc288725f77?crop=edges&amp;w=640&amp;h=360&amp;fit=crop&amp;auto=compress,format 640w,https://images.unsplash.com/photo-1590140409417-8fc288725f77?crop=edges&amp;w=768&amp;h=432&amp;fit=crop&amp;auto=compress,format 768w,https://images.unsplash.com/photo-1590140409417-8fc288725f77?crop=edges&amp;w=1024&amp;h=576&amp;fit=crop&amp;auto=compress,format 1024w,https://images.unsplash.com/photo-1590140409417-8fc288725f77?crop=edges&amp;w=1280&amp;h=720&amp;fit=crop&amp;auto=compress,format 1280w,https://images.unsplash.com/photo-1590140409417-8fc288725f77?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format 1600w' sizes="(min-width: 576px) 100vw"><img class=img-fluid src="https://images.unsplash.com/photo-1590140409417-8fc288725f77?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format" width=1600 height=900 alt="Отключение режима Wayland в GDM" loading=lazy></picture></a></div><div class=node-title><h2 class=h5><a href=/ru/articles/2021/09/0d11ecc0-2714-5c5c-9b48-804f50419590/ data-bs-toggle=modal data-bs-target=#modal-7fd40499c33c1b2e333c385a02dbde1c>Отключение режима Wayland в GDM</a></h2></div></header><div class=node-body><p>Использовать <strong>Wayland</strong> мне, пока что, нет необходимости. Поэтому, я решил его отключить в <strong>GDM</strong>.</p></div></article></div><div class="d-none d-md-block"><article class="node-articles d-flex overflow-hidden"><div class="flex-shrink-0 me-3"><div class=node-cover><a title="Отключение режима Wayland в GDM" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/09/0d11ecc0-2714-5c5c-9b48-804f50419590/ data-bs-toggle=modal data-bs-target=#modal-7fd40499c33c1b2e333c385a02dbde1c><img class=img-fluid src="https://images.unsplash.com/photo-1590140409417-8fc288725f77?crop=edges&amp;w=160&amp;h=160&amp;fit=crop&amp;auto=compress,format" width=160 height=160 alt="Отключение режима Wayland в GDM" loading=lazy></a></div></div><div class="flex-grow-1 overflow-hidden"><header><div class=node-title><h2 class=h5><a href=/ru/articles/2021/09/0d11ecc0-2714-5c5c-9b48-804f50419590/ data-bs-toggle=modal data-bs-target=#modal-7fd40499c33c1b2e333c385a02dbde1c>Отключение режима Wayland в GDM</a></h2></div></header><div class=node-body><p>Использовать <strong>Wayland</strong> мне, пока что, нет необходимости. Поэтому, я решил его отключить в <strong>GDM</strong>.</p></div></div></article></div><div class="modal fade" id=modal-7fd40499c33c1b2e333c385a02dbde1c tabindex=-1 aria-labelledby=modal-7fd40499c33c1b2e333c385a02dbde1c-label aria-hidden=true><div class="modal-dialog modal-fullscreen"><div class=modal-content><div class=modal-header><h2 class="modal-title fs-5 text-truncate" id=modal-7fd40499c33c1b2e333c385a02dbde1c-label><a href=/ru/articles/2021/09/0d11ecc0-2714-5c5c-9b48-804f50419590/>Отключение режима Wayland в GDM</a></h2><button type=button class=btn-close data-bs-dismiss=modal aria-label=Закрыть></button></div><div class=modal-body><div class=node-body><p>Использовать <strong>Wayland</strong> мне, пока что, нет необходимости. Поэтому, я решил его отключить в <strong>GDM</strong>.</p><p>Для того, чтобы отключить выбор режима Wayland в GDM, необходимо в файле <code>/etc/gdm3/daemon.conf</code> раскомментировать строку:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-0 shortcode-codeblock-ini"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-455c74ae0cfe0a6fd17073710e04e371><div class=highlight><pre tabindex=0 class=chroma><code class=language-ini data-lang=ini><span class=line><span class=cl><span class=c1># WaylandEnable=false</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-455c74ae0cfe0a6fd17073710e04e371 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Должно получится так:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-1 shortcode-codeblock-ini"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-b5c5b68be1aec3a9daedbff4365a4316><div class=highlight><pre tabindex=0 class=chroma><code class=language-ini data-lang=ini><span class=line><span class=cl><span class=na>WaylandEnable</span><span class=o>=</span><span class=s>false</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-b5c5b68be1aec3a9daedbff4365a4316 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Таким образом даём понять GDM, что мы не желаем использовать Wayland.</p></div></div><div class=modal-footer><ul class="list-inline text-center text-body-secondary small"><li class=list-inline-item><a href=https://lib.onl/ru/tags/wayland/>#wayland</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/gdm/>#gdm</a></li><li class=list-inline-item>&bull;</li><li class="list-inline-item text-success" data-bs-tooltip data-bs-title='Уровень сложности: Простой'><i class="far fa-face-smile fa-fw"></i></li><li class=list-inline-item>&bull;</li><li class=list-inline-item><time datetime=2021-09-30T07:51:30Z data-fn=date-local>2021/09/30 07:51:30 UTC</time></li></ul></div></div></div></div></div><div class=col><div class="d-sm-block d-md-none"><article class=node-articles><header><div class="node-cover mb-3"><a title="Установка Proxmox VE на Debian 11 (Bullseye)" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/09/1cf305cd-85d0-5e02-aabb-e01346bfee0f/ data-bs-toggle=modal data-bs-target=#modal-3ac1a989a84cf2e8442fe696e5b4698b><picture><source srcset='https://images.unsplash.com/photo-1566443280617-35db331c54fb?crop=edges&amp;w=640&amp;h=360&amp;fit=crop&amp;auto=compress,format 640w,https://images.unsplash.com/photo-1566443280617-35db331c54fb?crop=edges&amp;w=768&amp;h=432&amp;fit=crop&amp;auto=compress,format 768w,https://images.unsplash.com/photo-1566443280617-35db331c54fb?crop=edges&amp;w=1024&amp;h=576&amp;fit=crop&amp;auto=compress,format 1024w,https://images.unsplash.com/photo-1566443280617-35db331c54fb?crop=edges&amp;w=1280&amp;h=720&amp;fit=crop&amp;auto=compress,format 1280w,https://images.unsplash.com/photo-1566443280617-35db331c54fb?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format 1600w' sizes="(min-width: 576px) 100vw"><img class=img-fluid src="https://images.unsplash.com/photo-1566443280617-35db331c54fb?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format" width=1600 height=900 alt="Установка Proxmox VE на Debian 11 (Bullseye)" loading=lazy></picture></a></div><div class=node-title><h2 class=h5><a href=/ru/articles/2021/09/1cf305cd-85d0-5e02-aabb-e01346bfee0f/ data-bs-toggle=modal data-bs-target=#modal-3ac1a989a84cf2e8442fe696e5b4698b>Установка Proxmox VE на Debian 11 (Bullseye)</a></h2></div></header><div class=node-body><p>В этой небольшой заметке, я расскажу как установить <strong>Proxmox VE</strong> на чистый <strong>Debian 11 (Bullseye)</strong>.</p></div></article></div><div class="d-none d-md-block"><article class="node-articles d-flex overflow-hidden"><div class="flex-shrink-0 me-3"><div class=node-cover><a title="Установка Proxmox VE на Debian 11 (Bullseye)" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/09/1cf305cd-85d0-5e02-aabb-e01346bfee0f/ data-bs-toggle=modal data-bs-target=#modal-3ac1a989a84cf2e8442fe696e5b4698b><img class=img-fluid src="https://images.unsplash.com/photo-1566443280617-35db331c54fb?crop=edges&amp;w=160&amp;h=160&amp;fit=crop&amp;auto=compress,format" width=160 height=160 alt="Установка Proxmox VE на Debian 11 (Bullseye)" loading=lazy></a></div></div><div class="flex-grow-1 overflow-hidden"><header><div class=node-title><h2 class=h5><a href=/ru/articles/2021/09/1cf305cd-85d0-5e02-aabb-e01346bfee0f/ data-bs-toggle=modal data-bs-target=#modal-3ac1a989a84cf2e8442fe696e5b4698b>Установка Proxmox VE на Debian 11 (Bullseye)</a></h2></div></header><div class=node-body><p>В этой небольшой заметке, я расскажу как установить <strong>Proxmox VE</strong> на чистый <strong>Debian 11 (Bullseye)</strong>.</p></div></div></article></div><div class="modal fade" id=modal-3ac1a989a84cf2e8442fe696e5b4698b tabindex=-1 aria-labelledby=modal-3ac1a989a84cf2e8442fe696e5b4698b-label aria-hidden=true><div class="modal-dialog modal-fullscreen"><div class=modal-content><div class=modal-header><h2 class="modal-title fs-5 text-truncate" id=modal-3ac1a989a84cf2e8442fe696e5b4698b-label><a href=/ru/articles/2021/09/1cf305cd-85d0-5e02-aabb-e01346bfee0f/>Установка Proxmox VE на Debian 11 (Bullseye)</a></h2><button type=button class=btn-close data-bs-dismiss=modal aria-label=Закрыть></button></div><div class=modal-body><div class=node-body><p>В этой небольшой заметке, я расскажу как установить <strong>Proxmox VE</strong> на чистый <strong>Debian 11 (Bullseye)</strong>.</p><h2 id=1585486462-подготовка><a class=link-body-emphasis href=#1585486462-%d0%bf%d0%be%d0%b4%d0%b3%d0%be%d1%82%d0%be%d0%b2%d0%ba%d0%b0>Подготовка</a></h2><p>Для начала необходимо отредактировать файл <code>/etc/hosts</code>, прописав туда IP сервера, на который будет устанавливаться наш Proxmox VE:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-0 shortcode-codeblock-text"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-cef6ea9845b99772ed7e314fd13a5af2><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>127.0.0.1   localhost
</span></span><span class=line><span class=cl>127.0.1.1   localhost.localdomain     localhost
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl># Proxmox
</span></span><span class=line><span class=cl>10.0.1.1    srv-vm.home.local         srv-vm</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-cef6ea9845b99772ed7e314fd13a5af2 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Для проверки, можно выполнить команду <code>hostname --ip-address</code>, которая вернёт IP сервера, указанного в <code>/etc/hosts</code> выше.</p><h2 id=1585486462-добавление-репозиториев><a class=link-body-emphasis href=#1585486462-%d0%b4%d0%be%d0%b1%d0%b0%d0%b2%d0%bb%d0%b5%d0%bd%d0%b8%d0%b5-%d1%80%d0%b5%d0%bf%d0%be%d0%b7%d0%b8%d1%82%d0%be%d1%80%d0%b8%d0%b5%d0%b2>Добавление репозиториев</a></h2><p>Добавим репозиторий Proxmox VE:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-1 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-506c8d06d8db7e2f6480e075c175bf62><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;deb [arch=amd64] http://download.proxmox.com/debian/pve bullseye pve-no-subscription&#34;</span> &gt; /etc/apt/sources.list.d/pve.list</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-506c8d06d8db7e2f6480e075c175bf62 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Скачаем и установим ключ репозитория:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-2 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-9aa835904f641685073ba9c0a21ac799><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>curl <span class=s1>&#39;https://enterprise.proxmox.com/debian/proxmox-release-bullseye.gpg&#39;</span> -o /etc/apt/trusted.gpg.d/pve.gpg</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-9aa835904f641685073ba9c0a21ac799 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Обновим базу пакетов APT и саму систему:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-3 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-9e279d9e2414d6a7cb7bb8e26fe51a9f><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>apt update <span class=o>&amp;&amp;</span> apt full-upgrade</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-9e279d9e2414d6a7cb7bb8e26fe51a9f role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><h2 id=1585486462-установка-пакетов><a class=link-body-emphasis href=#1585486462-%d1%83%d1%81%d1%82%d0%b0%d0%bd%d0%be%d0%b2%d0%ba%d0%b0-%d0%bf%d0%b0%d0%ba%d0%b5%d1%82%d0%be%d0%b2>Установка пакетов</a></h2><p>Начнём установку пакетов командой:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-4 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-15119de635761715b874bbaddee3e91f><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>apt install proxmox-ve postfix open-iscsi</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-15119de635761715b874bbaddee3e91f role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Стоит заметить, что устанавливается Postfix, он необходим для отправки писем от Proxmox VE. Но мне в локальной сети такая функция не нужна. При установке, Postfix спросит в каком режиме ему необходимо будет работать. Я выбираю <strong>local only</strong>.</p><h2 id=1585486462-исправление-ошибок><a class=link-body-emphasis href=#1585486462-%d0%b8%d1%81%d0%bf%d1%80%d0%b0%d0%b2%d0%bb%d0%b5%d0%bd%d0%b8%d0%b5-%d0%be%d1%88%d0%b8%d0%b1%d0%be%d0%ba>Исправление ошибок</a></h2><p>После установки Proxmox VE через пакетны менеджер APT, я столкнулся с некоторыми проблемами. Не знаю, может быть они будут отсутствовать, если устанавливать Proxmox VE при помощи его отдельного ISO-файла&mldr;</p><h3 id=1585486462-lvm2-activation-generator-lvmconfig-failed><a class=link-body-emphasis href=#1585486462-lvm2-activation-generator-lvmconfig-failed>lvm2-activation-generator: lvmconfig failed</a></h3><p>Для исправления ошибки <code>lvm2-activation-generator: lvmconfig failed</code>, необходимо в файле <code>/etc/lvm/lvm.conf</code> изменить параметр <code>event_activation</code>, а именно раскомментировать и установить в <code>0</code>:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-5 shortcode-codeblock-text"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-ce866bc33bcd3726657152a28118fe86><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>global {
</span></span><span class=line><span class=cl>  &lt;...&gt;
</span></span><span class=line><span class=cl>  # Configuration option global/event_activation.
</span></span><span class=line><span class=cl>  # Activate LVs based on system-generated device events.
</span></span><span class=line><span class=cl>  # When a device appears on the system, a system-generated event runs
</span></span><span class=line><span class=cl>  # the pvscan command to activate LVs if the new PV completes the VG.
</span></span><span class=line><span class=cl>  # Use auto_activation_volume_list to select which LVs should be
</span></span><span class=line><span class=cl>  # activated from these events (the default is all.)
</span></span><span class=line><span class=cl>  # When event_activation is disabled, the system will generally run
</span></span><span class=line><span class=cl>  # a direct activation command to activate LVs in complete VGs.
</span></span><span class=line><span class=cl>  # This configuration option has an automatic default value.
</span></span><span class=line><span class=cl>  # event_activation = 1
</span></span><span class=line><span class=cl>  &lt;...&gt;
</span></span><span class=line><span class=cl>}</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-ce866bc33bcd3726657152a28118fe86 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="shortcode shortcode-codeblock shortcode-codeblock-6 shortcode-codeblock-text"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-165609dd16d875333634c3b0652f6aa9><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>global {
</span></span><span class=line><span class=cl>  &lt;...&gt;
</span></span><span class=line><span class=cl>  # Configuration option global/event_activation.
</span></span><span class=line><span class=cl>  # Activate LVs based on system-generated device events.
</span></span><span class=line><span class=cl>  # When a device appears on the system, a system-generated event runs
</span></span><span class=line><span class=cl>  # the pvscan command to activate LVs if the new PV completes the VG.
</span></span><span class=line><span class=cl>  # Use auto_activation_volume_list to select which LVs should be
</span></span><span class=line><span class=cl>  # activated from these events (the default is all.)
</span></span><span class=line><span class=cl>  # When event_activation is disabled, the system will generally run
</span></span><span class=line><span class=cl>  # a direct activation command to activate LVs in complete VGs.
</span></span><span class=line><span class=cl>  # This configuration option has an automatic default value.
</span></span><span class=line><span class=cl>  event_activation = 0
</span></span><span class=line><span class=cl>  &lt;...&gt;
</span></span><span class=line><span class=cl>}</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-165609dd16d875333634c3b0652f6aa9 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><h3 id=1585486462-не-поднимается--интерфейс><a class=link-body-emphasis href=#1585486462-%d0%bd%d0%b5-%d0%bf%d0%be%d0%b4%d0%bd%d0%b8%d0%bc%d0%b0%d0%b5%d1%82%d1%81%d1%8f--%d0%b8%d0%bd%d1%82%d0%b5%d1%80%d1%84%d0%b5%d0%b9%d1%81>Не поднимается интерфейс</a></h3><p>После установки, у меня перестал автоматически подниматься сетевой интерфейс. Может быть, в отдельном ISO-образе Proxmox VE такой проблемы нет, потому что при установке с отдельного ISO-образа, он запрашивает у администратора параметры сети. Но если устанавливать Proxmox VE через пакетную систему Debian, то никаких запросов не появляется. В общем, я сделал так (<code>/etc/network/interfaces</code>):</p><div class="shortcode shortcode-codeblock shortcode-codeblock-7 shortcode-codeblock-text"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-9049593e5a5f0220e77c07cd24bb3bd9><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>auto lo
</span></span><span class=line><span class=cl>iface lo inet loopback
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>iface enp3s0 inet manual
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>auto vmbr0
</span></span><span class=line><span class=cl>iface vmbr0 inet static
</span></span><span class=line><span class=cl>  address 10.0.1.1/16
</span></span><span class=line><span class=cl>  gateway 10.0.0.1
</span></span><span class=line><span class=cl>  bridge-ports enp3s0
</span></span><span class=line><span class=cl>  bridge-stp off
</span></span><span class=line><span class=cl>  bridge-fd 0</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-9049593e5a5f0220e77c07cd24bb3bd9 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Конкретно, тут я добавил блок виртуального соединения:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-8 shortcode-codeblock-text"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-7fdd619322e5de90ab615f445bcad884><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>auto vmbr0
</span></span><span class=line><span class=cl>iface vmbr0 inet static
</span></span><span class=line><span class=cl>  address 10.0.1.1/16
</span></span><span class=line><span class=cl>  gateway 10.0.0.1
</span></span><span class=line><span class=cl>  bridge-ports enp3s0
</span></span><span class=line><span class=cl>  bridge-stp off
</span></span><span class=line><span class=cl>  bridge-fd 0</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-7fdd619322e5de90ab615f445bcad884 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Где указал мост с физической картой <code>enp3s0</code>. Саму же карту <code>enp3s0</code> я перевёл в режим <code>manual</code>. После этого, сетевой интерфейс на сервере заработал в штатном режиме.</p><p>На этом консольная настройка сервера виртуализации закончена. Настройка самого Proxmox&rsquo;а можно выполнять уже в удобном web-интерфейсе.</p></div></div><div class=modal-footer><ul class="list-inline text-center text-body-secondary small"><li class=list-inline-item><a href=https://lib.onl/ru/tags/proxmox/>#proxmox</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/debian/>#debian</a></li><li class=list-inline-item>&bull;</li><li class="list-inline-item text-warning" data-bs-tooltip data-bs-title='Уровень сложности: Средний'><i class="far fa-face-meh fa-fw"></i></li><li class=list-inline-item>&bull;</li><li class=list-inline-item><time datetime=2021-09-12T21:36:02Z data-fn=date-local>2021/09/12 21:36:02 UTC</time></li></ul></div></div></div></div></div><div class=col><div class="d-sm-block d-md-none"><article class=node-articles><header><div class="node-cover mb-3"><a title="Debian: Wired Networks are Unmanaged" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/09/ff829d15-4a19-52e3-a3aa-ad70aa38854a/ data-bs-toggle=modal data-bs-target=#modal-0d5bd620a756a99b7283a2129d748c77><picture><source srcset='https://images.unsplash.com/photo-1554098415-4052459dc340?crop=bottom&amp;w=640&amp;h=360&amp;fit=crop&amp;auto=compress,format 640w,https://images.unsplash.com/photo-1554098415-4052459dc340?crop=bottom&amp;w=768&amp;h=432&amp;fit=crop&amp;auto=compress,format 768w,https://images.unsplash.com/photo-1554098415-4052459dc340?crop=bottom&amp;w=1024&amp;h=576&amp;fit=crop&amp;auto=compress,format 1024w,https://images.unsplash.com/photo-1554098415-4052459dc340?crop=bottom&amp;w=1280&amp;h=720&amp;fit=crop&amp;auto=compress,format 1280w,https://images.unsplash.com/photo-1554098415-4052459dc340?crop=bottom&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format 1600w' sizes="(min-width: 576px) 100vw"><img class=img-fluid src="https://images.unsplash.com/photo-1554098415-4052459dc340?crop=bottom&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format" width=1600 height=900 alt="Debian: Wired Networks are Unmanaged" loading=lazy></picture></a></div><div class=node-title><h2 class=h5><a href=/ru/articles/2021/09/ff829d15-4a19-52e3-a3aa-ad70aa38854a/ data-bs-toggle=modal data-bs-target=#modal-0d5bd620a756a99b7283a2129d748c77>Debian: Wired Networks are Unmanaged</a></h2></div></header><div class=node-body><p>При базовой установке Debian, Network Manager не устанавливается и, соответственно, он не управляет сетевой конфигурацией. Исправим данную ситуацию&mldr;</p></div></article></div><div class="d-none d-md-block"><article class="node-articles d-flex overflow-hidden"><div class="flex-shrink-0 me-3"><div class=node-cover><a title="Debian: Wired Networks are Unmanaged" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/09/ff829d15-4a19-52e3-a3aa-ad70aa38854a/ data-bs-toggle=modal data-bs-target=#modal-0d5bd620a756a99b7283a2129d748c77><img class=img-fluid src="https://images.unsplash.com/photo-1554098415-4052459dc340?crop=bottom&amp;w=160&amp;h=160&amp;fit=crop&amp;auto=compress,format" width=160 height=160 alt="Debian: Wired Networks are Unmanaged" loading=lazy></a></div></div><div class="flex-grow-1 overflow-hidden"><header><div class=node-title><h2 class=h5><a href=/ru/articles/2021/09/ff829d15-4a19-52e3-a3aa-ad70aa38854a/ data-bs-toggle=modal data-bs-target=#modal-0d5bd620a756a99b7283a2129d748c77>Debian: Wired Networks are Unmanaged</a></h2></div></header><div class=node-body><p>При базовой установке Debian, Network Manager не устанавливается и, соответственно, он не управляет сетевой конфигурацией. Исправим данную ситуацию&mldr;</p></div></div></article></div><div class="modal fade" id=modal-0d5bd620a756a99b7283a2129d748c77 tabindex=-1 aria-labelledby=modal-0d5bd620a756a99b7283a2129d748c77-label aria-hidden=true><div class="modal-dialog modal-fullscreen"><div class=modal-content><div class=modal-header><h2 class="modal-title fs-5 text-truncate" id=modal-0d5bd620a756a99b7283a2129d748c77-label><a href=/ru/articles/2021/09/ff829d15-4a19-52e3-a3aa-ad70aa38854a/>Debian: Wired Networks are Unmanaged</a></h2><button type=button class=btn-close data-bs-dismiss=modal aria-label=Закрыть></button></div><div class=modal-body><div class=node-body><p>При базовой установке Debian, Network Manager не устанавливается и, соответственно, он не управляет сетевой конфигурацией. Исправим данную ситуацию&mldr;</p><p>Лично я люблю ставить систему в минимальной комплектации. У меня есть <a title href=https://uaik.github.io/ target=_blank rel="noopener noreferrer nofollow">отдельный ресурс</a> со сценариями автоматической установки. Это шаблоны, которые позволяют поставить систему в автоматическом режиме и с минимальным набором компонентов. В основном, такие шаблоны полезны для серверов. Однако, для домашнего компьютера тоже вполне подойдут. Но после установки домашней системы через такой шаблон, потребуется небольшая корректировка.</p><p>Итак, установим Network Manager при помощи пакетного менеджера <strong>APT</strong>:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-0 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-c3e561c75c22730b507783bc3fc51401><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>apt install network-manager</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-c3e561c75c22730b507783bc3fc51401 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Но этого недостаточно. Система будет говорить, что &ldquo;Wired Networks are Unmanaged&rdquo;, потому что всё ещё сетевой конфигурацией управляет не Network Manager. Для исправления этой ситуации, необходимо в <code>/etc/NetworkManager/NetworkManager.conf</code> изменить <code>managed=false</code> на <code>managed=true</code>.</p><p>Далее, перезапустить службу:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-1 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-ab64cbc35919961ae86eeda2ce8c942c><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>service NetworkManager restart</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-ab64cbc35919961ae86eeda2ce8c942c role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>На этом всё. Теперь сетевой конфигурацией управляет Network Manager.</p></div></div><div class=modal-footer><ul class="list-inline text-center text-body-secondary small"><li class=list-inline-item><a href=https://lib.onl/ru/tags/debian/>#debian</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/systemd/>#systemd</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/network/>#network</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/network-manager/>#network-manager</a></li><li class=list-inline-item>&bull;</li><li class="list-inline-item text-success" data-bs-tooltip data-bs-title='Уровень сложности: Простой'><i class="far fa-face-smile fa-fw"></i></li><li class=list-inline-item>&bull;</li><li class=list-inline-item><time datetime=2021-09-09T19:14:12Z data-fn=date-local>2021/09/09 19:14:12 UTC</time></li></ul></div></div></div></div></div><div class=col><div class="d-sm-block d-md-none"><article class=node-articles><header><div class="node-cover mb-3"><a title="Распаковка пакетов DEB / RPM" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/09/b2caccc7-92bf-57ed-970f-136c546f18e2/ data-bs-toggle=modal data-bs-target=#modal-eaca63380a58f9edb6b59cb7e3edca81><picture><source srcset='https://images.unsplash.com/photo-1577705998148-6da4f3963bc8?crop=center&amp;w=640&amp;h=360&amp;fit=crop&amp;auto=compress,format 640w,https://images.unsplash.com/photo-1577705998148-6da4f3963bc8?crop=center&amp;w=768&amp;h=432&amp;fit=crop&amp;auto=compress,format 768w,https://images.unsplash.com/photo-1577705998148-6da4f3963bc8?crop=center&amp;w=1024&amp;h=576&amp;fit=crop&amp;auto=compress,format 1024w,https://images.unsplash.com/photo-1577705998148-6da4f3963bc8?crop=center&amp;w=1280&amp;h=720&amp;fit=crop&amp;auto=compress,format 1280w,https://images.unsplash.com/photo-1577705998148-6da4f3963bc8?crop=center&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format 1600w' sizes="(min-width: 576px) 100vw"><img class=img-fluid src="https://images.unsplash.com/photo-1577705998148-6da4f3963bc8?crop=center&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format" width=1600 height=900 alt="Распаковка пакетов DEB / RPM" loading=lazy></picture></a></div><div class=node-title><h2 class=h5><a href=/ru/articles/2021/09/b2caccc7-92bf-57ed-970f-136c546f18e2/ data-bs-toggle=modal data-bs-target=#modal-eaca63380a58f9edb6b59cb7e3edca81>Распаковка пакетов DEB / RPM</a></h2></div></header><div class=node-body><p>Я собираю пакеты для Debian и RHEL. И зачастую, мне необходимо посмотреть содержимое собранного пакета, чтобы удостоверится в правильности сборки и корректности расположения файлов внутри пакета. В …</p></div></article></div><div class="d-none d-md-block"><article class="node-articles d-flex overflow-hidden"><div class="flex-shrink-0 me-3"><div class=node-cover><a title="Распаковка пакетов DEB / RPM" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/09/b2caccc7-92bf-57ed-970f-136c546f18e2/ data-bs-toggle=modal data-bs-target=#modal-eaca63380a58f9edb6b59cb7e3edca81><img class=img-fluid src="https://images.unsplash.com/photo-1577705998148-6da4f3963bc8?crop=center&amp;w=160&amp;h=160&amp;fit=crop&amp;auto=compress,format" width=160 height=160 alt="Распаковка пакетов DEB / RPM" loading=lazy></a></div></div><div class="flex-grow-1 overflow-hidden"><header><div class=node-title><h2 class=h5><a href=/ru/articles/2021/09/b2caccc7-92bf-57ed-970f-136c546f18e2/ data-bs-toggle=modal data-bs-target=#modal-eaca63380a58f9edb6b59cb7e3edca81>Распаковка пакетов DEB / RPM</a></h2></div></header><div class=node-body><p>Я собираю пакеты для Debian и RHEL. И зачастую, мне необходимо посмотреть содержимое собранного пакета, чтобы удостоверится в правильности сборки и корректности расположения файлов внутри пакета. В …</p></div></div></article></div><div class="modal fade" id=modal-eaca63380a58f9edb6b59cb7e3edca81 tabindex=-1 aria-labelledby=modal-eaca63380a58f9edb6b59cb7e3edca81-label aria-hidden=true><div class="modal-dialog modal-fullscreen"><div class=modal-content><div class=modal-header><h2 class="modal-title fs-5 text-truncate" id=modal-eaca63380a58f9edb6b59cb7e3edca81-label><a href=/ru/articles/2021/09/b2caccc7-92bf-57ed-970f-136c546f18e2/>Распаковка пакетов DEB / RPM</a></h2><button type=button class=btn-close data-bs-dismiss=modal aria-label=Закрыть></button></div><div class=modal-body><div class=node-body><p>Я собираю пакеты для Debian и RHEL. И зачастую, мне необходимо посмотреть содержимое собранного пакета, чтобы удостоверится в правильности сборки и корректности расположения файлов внутри пакета. В этой статье кратно расскажу, как и при помощи чего можно посмотреть собранные пакеты.</p><h2 id=3467092071-deb><a class=link-body-emphasis href=#3467092071-deb>DEB</a></h2><p>Пакет <code>.deb</code> архивируется при помощи <a title href=https://en.wikipedia.org/wiki/Ar_%28Unix%29 target=_blank rel="noopener noreferrer nofollow">ar</a>. Соответственно, распаковать пакет тоже следует через данный архиватор:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-0 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-13b847a26c6628a5fab4da4781f4f085><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>ar x example.deb</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-13b847a26c6628a5fab4da4781f4f085 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ul><li><code>debian-binary</code> – файл, содержащий версию формата <code>.deb</code>.</li><li><code>control.tar.xz</code> – файл, содержащий md5sums и директорию для сборки пакета.</li><li><code>data.tar.xz</code> – архив, содержащий все файлы, которые должны быть установлены в системе при установке пакета.</li></ul><h2 id=3467092071-rpm><a class=link-body-emphasis href=#3467092071-rpm>RPM</a></h2><p>Пакет <code>.rpm</code> содержит архив <code>cpio</code>. Имеется удобная утилита <code>rpm2cpio</code>, которая преобразует <code>.rpm</code> в архив <code>cpio</code>.</p><div class="shortcode shortcode-codeblock shortcode-codeblock-1 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-6e22f0f02935f130982b277cd4a1fba3><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>rpm2cpio myrpmfile.rpm
</span></span><span class=line><span class=cl>rpm2cpio - &lt; myrpmfile.rpm
</span></span><span class=line><span class=cl>rpm2cpio myrpmfile.rpm <span class=p>|</span> cpio -idmv</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-6e22f0f02935f130982b277cd4a1fba3 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Опции <code>rpm2cpio</code>:</p><ul><li><code>-i</code> - восстановить архив.</li><li><code>-d</code> - создать необходимые каталоги.</li><li><code>-m</code> - сохранить время модификации файлов.</li><li><code>-v</code> - подробный вывод процесса преобразования.</li></ul><p>Также, просматривать <code>.rpm</code> можно при помощи файлового менеджера Midnight Commander (<code>mc</code>).</p></div></div><div class=modal-footer><ul class="list-inline text-center text-body-secondary small"><li class=list-inline-item><a href=https://lib.onl/ru/tags/debian/>#debian</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/fedora/>#fedora</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/deb/>#deb</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/rpm/>#rpm</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/ar/>#ar</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/cpio/>#cpio</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/rpm2cpio/>#rpm2cpio</a></li><li class=list-inline-item>&bull;</li><li class="list-inline-item text-success" data-bs-tooltip data-bs-title='Уровень сложности: Простой'><i class="far fa-face-smile fa-fw"></i></li><li class=list-inline-item>&bull;</li><li class=list-inline-item><time datetime=2021-09-08T09:39:36Z data-fn=date-local>2021/09/08 09:39:36 UTC</time></li></ul></div></div></div></div></div><div class=col><div class="d-sm-block d-md-none"><article class=node-articles><header><div class="node-cover mb-3"><a title="Отключение установки дополнительных пакетов в Debian APT" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/09/43b40b92-c29a-504b-87fa-5eac368dcf95/ data-bs-toggle=modal data-bs-target=#modal-cf6fa93b8912675f7ee1785dc4b51394><picture><source srcset='https://images.unsplash.com/photo-1583078379333-e34d6569c406?crop=center&amp;w=640&amp;h=360&amp;fit=crop&amp;auto=compress,format 640w,https://images.unsplash.com/photo-1583078379333-e34d6569c406?crop=center&amp;w=768&amp;h=432&amp;fit=crop&amp;auto=compress,format 768w,https://images.unsplash.com/photo-1583078379333-e34d6569c406?crop=center&amp;w=1024&amp;h=576&amp;fit=crop&amp;auto=compress,format 1024w,https://images.unsplash.com/photo-1583078379333-e34d6569c406?crop=center&amp;w=1280&amp;h=720&amp;fit=crop&amp;auto=compress,format 1280w,https://images.unsplash.com/photo-1583078379333-e34d6569c406?crop=center&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format 1600w' sizes="(min-width: 576px) 100vw"><img class=img-fluid src="https://images.unsplash.com/photo-1583078379333-e34d6569c406?crop=center&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format" width=1600 height=900 alt="Отключение установки дополнительных пакетов в Debian APT" loading=lazy></picture></a></div><div class=node-title><h2 class=h5><a href=/ru/articles/2021/09/43b40b92-c29a-504b-87fa-5eac368dcf95/ data-bs-toggle=modal data-bs-target=#modal-cf6fa93b8912675f7ee1785dc4b51394>Отключение установки дополнительных пакетов в Debian APT</a></h2></div></header><div class=node-body><p>Стандартное действие APT при установке пакета, это установить дополнительные рекомендуемые пакеты. Но, к примеру, мне рекомендуемые пакеты не нужны. Они занимают место и, если я захочу поставить …</p></div></article></div><div class="d-none d-md-block"><article class="node-articles d-flex overflow-hidden"><div class="flex-shrink-0 me-3"><div class=node-cover><a title="Отключение установки дополнительных пакетов в Debian APT" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/09/43b40b92-c29a-504b-87fa-5eac368dcf95/ data-bs-toggle=modal data-bs-target=#modal-cf6fa93b8912675f7ee1785dc4b51394><img class=img-fluid src="https://images.unsplash.com/photo-1583078379333-e34d6569c406?crop=center&amp;w=160&amp;h=160&amp;fit=crop&amp;auto=compress,format" width=160 height=160 alt="Отключение установки дополнительных пакетов в Debian APT" loading=lazy></a></div></div><div class="flex-grow-1 overflow-hidden"><header><div class=node-title><h2 class=h5><a href=/ru/articles/2021/09/43b40b92-c29a-504b-87fa-5eac368dcf95/ data-bs-toggle=modal data-bs-target=#modal-cf6fa93b8912675f7ee1785dc4b51394>Отключение установки дополнительных пакетов в Debian APT</a></h2></div></header><div class=node-body><p>Стандартное действие APT при установке пакета, это установить дополнительные рекомендуемые пакеты. Но, к примеру, мне рекомендуемые пакеты не нужны. Они занимают место и, если я захочу поставить …</p></div></div></article></div><div class="modal fade" id=modal-cf6fa93b8912675f7ee1785dc4b51394 tabindex=-1 aria-labelledby=modal-cf6fa93b8912675f7ee1785dc4b51394-label aria-hidden=true><div class="modal-dialog modal-fullscreen"><div class=modal-content><div class=modal-header><h2 class="modal-title fs-5 text-truncate" id=modal-cf6fa93b8912675f7ee1785dc4b51394-label><a href=/ru/articles/2021/09/43b40b92-c29a-504b-87fa-5eac368dcf95/>Отключение установки дополнительных пакетов в Debian APT</a></h2><button type=button class=btn-close data-bs-dismiss=modal aria-label=Закрыть></button></div><div class=modal-body><div class=node-body><p>Стандартное действие APT при установке пакета, это установить дополнительные рекомендуемые пакеты. Но, к примеру, мне рекомендуемые пакеты не нужны. Они занимают место и, если я захочу поставить что-то дополнительно, я поставлю это сам.</p><p>Ниже приведены две команды, которые позволяют отключить установку рекомендуемых (Recommends) и дополнительных (Suggests)пакетов.</p><div class="shortcode shortcode-codeblock shortcode-codeblock-0 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-42cf93fdb0643dcb4889977e1a6f5f1a><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=nb>echo</span> <span class=s1>&#39;APT::Install-Recommends &#34;false&#34;;&#39;</span> &gt; /etc/apt/apt.conf.d/00InstallRecommends</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-42cf93fdb0643dcb4889977e1a6f5f1a role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="shortcode shortcode-codeblock shortcode-codeblock-1 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-5f24923f68ab8cf8b2ade175d1b19e3e><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=nb>echo</span> <span class=s1>&#39;APT::Install-Suggests &#34;false&#34;;&#39;</span> &gt; /etc/apt/apt.conf.d/00InstallSuggests</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-5f24923f68ab8cf8b2ade175d1b19e3e role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Стоит заметить, что при установке Debian на завершающем этапе можно отключить рекомендуемые пакеты (в preseed этот параметр именуется как <code>d-i base-installer/install-recommends boolean false</code>). При этом, после установки, Debian сам создаст файл <code>00InstallRecommends</code> в <code>/etc/apt/apt.conf.d</code> с соответствующим содержанием.</p></div></div><div class=modal-footer><ul class="list-inline text-center text-body-secondary small"><li class=list-inline-item><a href=https://lib.onl/ru/tags/debian/>#debian</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/apt/>#apt</a></li><li class=list-inline-item>&bull;</li><li class="list-inline-item text-success" data-bs-tooltip data-bs-title='Уровень сложности: Простой'><i class="far fa-face-smile fa-fw"></i></li><li class=list-inline-item>&bull;</li><li class=list-inline-item><time datetime=2021-09-07T13:07:46Z data-fn=date-local>2021/09/07 13:07:46 UTC</time></li></ul></div></div></div></div></div><div class=col><div class="d-sm-block d-md-none"><article class=node-articles><header><div class="node-cover mb-3"><a title="dhclient отправляет 36-значный идентификатор вместо MAC" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/09/aeed7c90-003a-532a-b2c4-3807aaee88fa/ data-bs-toggle=modal data-bs-target=#modal-0a83682bfaea03cf6caf297951fe19cb><picture><source srcset='https://images.unsplash.com/photo-1544197150-b99a580bb7a8?crop=edges&amp;w=640&amp;h=360&amp;fit=crop&amp;auto=compress,format 640w,https://images.unsplash.com/photo-1544197150-b99a580bb7a8?crop=edges&amp;w=768&amp;h=432&amp;fit=crop&amp;auto=compress,format 768w,https://images.unsplash.com/photo-1544197150-b99a580bb7a8?crop=edges&amp;w=1024&amp;h=576&amp;fit=crop&amp;auto=compress,format 1024w,https://images.unsplash.com/photo-1544197150-b99a580bb7a8?crop=edges&amp;w=1280&amp;h=720&amp;fit=crop&amp;auto=compress,format 1280w,https://images.unsplash.com/photo-1544197150-b99a580bb7a8?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format 1600w' sizes="(min-width: 576px) 100vw"><img class=img-fluid src="https://images.unsplash.com/photo-1544197150-b99a580bb7a8?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format" width=1600 height=900 alt="dhclient отправляет 36-значный идентификатор вместо MAC" loading=lazy></picture></a></div><div class=node-title><h2 class=h5><a href=/ru/articles/2021/09/aeed7c90-003a-532a-b2c4-3807aaee88fa/ data-bs-toggle=modal data-bs-target=#modal-0a83682bfaea03cf6caf297951fe19cb>dhclient отправляет 36-значный идентификатор вместо MAC</a></h2></div></header><div class=node-body><p>Начиная с <strong>Debian 10</strong> в составе дистрибутива поставляется новая версия <strong>dhclient</strong>, которая стала более совместимой с RFC. Поэтому, dhclient теперь отправляет не прямой MAC, а 36-значный идентификатор.</p></div></article></div><div class="d-none d-md-block"><article class="node-articles d-flex overflow-hidden"><div class="flex-shrink-0 me-3"><div class=node-cover><a title="dhclient отправляет 36-значный идентификатор вместо MAC" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/09/aeed7c90-003a-532a-b2c4-3807aaee88fa/ data-bs-toggle=modal data-bs-target=#modal-0a83682bfaea03cf6caf297951fe19cb><img class=img-fluid src="https://images.unsplash.com/photo-1544197150-b99a580bb7a8?crop=edges&amp;w=160&amp;h=160&amp;fit=crop&amp;auto=compress,format" width=160 height=160 alt="dhclient отправляет 36-значный идентификатор вместо MAC" loading=lazy></a></div></div><div class="flex-grow-1 overflow-hidden"><header><div class=node-title><h2 class=h5><a href=/ru/articles/2021/09/aeed7c90-003a-532a-b2c4-3807aaee88fa/ data-bs-toggle=modal data-bs-target=#modal-0a83682bfaea03cf6caf297951fe19cb>dhclient отправляет 36-значный идентификатор вместо MAC</a></h2></div></header><div class=node-body><p>Начиная с <strong>Debian 10</strong> в составе дистрибутива поставляется новая версия <strong>dhclient</strong>, которая стала более совместимой с RFC. Поэтому, dhclient теперь отправляет не прямой MAC, а 36-значный идентификатор.</p></div></div></article></div><div class="modal fade" id=modal-0a83682bfaea03cf6caf297951fe19cb tabindex=-1 aria-labelledby=modal-0a83682bfaea03cf6caf297951fe19cb-label aria-hidden=true><div class="modal-dialog modal-fullscreen"><div class=modal-content><div class=modal-header><h2 class="modal-title fs-5 text-truncate" id=modal-0a83682bfaea03cf6caf297951fe19cb-label><a href=/ru/articles/2021/09/aeed7c90-003a-532a-b2c4-3807aaee88fa/>dhclient отправляет 36-значный идентификатор вместо MAC</a></h2><button type=button class=btn-close data-bs-dismiss=modal aria-label=Закрыть></button></div><div class=modal-body><div class=node-body><p>Начиная с <strong>Debian 10</strong> в составе дистрибутива поставляется новая версия <strong>dhclient</strong>, которая стала более совместимой с RFC. Поэтому, dhclient теперь отправляет не прямой MAC, а 36-значный идентификатор.</p><p>Чтобы указать dhclient&rsquo;у отправлять обычный MAC, необходимо в <code>/etc/dhcp/dhclient.conf</code> прописать строку:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-0 shortcode-codeblock-ini"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-830c4b49b9bc93aeba5743b5cecbf44d><div class=highlight><pre tabindex=0 class=chroma><code class=language-ini data-lang=ini><span class=line><span class=cl><span class=na>send dhcp-client-identifier</span> <span class=o>=</span> <span class=s>hardware;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-830c4b49b9bc93aeba5743b5cecbf44d role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Тоже самое при помощи команды:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-1 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-7e090d0c15351a3e7e6cceac7cb6de6c><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=nb>echo</span> <span class=s1>&#39;send dhcp-client-identifier = hardware;&#39;</span> &gt;&gt; /etc/dhcp/dhclient.conf</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-7e090d0c15351a3e7e6cceac7cb6de6c role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div></div></div><div class=modal-footer><ul class="list-inline text-center text-body-secondary small"><li class=list-inline-item><a href=https://lib.onl/ru/tags/debian/>#debian</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/dhcp/>#dhcp</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/dhclient/>#dhclient</a></li><li class=list-inline-item>&bull;</li><li class="list-inline-item text-success" data-bs-tooltip data-bs-title='Уровень сложности: Простой'><i class="far fa-face-smile fa-fw"></i></li><li class=list-inline-item>&bull;</li><li class=list-inline-item><time datetime=2021-09-07T08:38:24Z data-fn=date-local>2021/09/07 08:38:24 UTC</time></li></ul></div></div></div></div></div><div class=col><div class="d-sm-block d-md-none"><article class=node-articles><header><div class="node-cover mb-3"><a title="Настройка и использование Git" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/08/c35f395f-5921-55eb-afcf-1ad812a1a9d9/ data-bs-toggle=modal data-bs-target=#modal-0110dd716708232031f205e093b615ce><picture><source srcset='https://images.unsplash.com/photo-1556075798-4825dfaaf498?crop=edges&amp;w=640&amp;h=360&amp;fit=crop&amp;auto=compress,format 640w,https://images.unsplash.com/photo-1556075798-4825dfaaf498?crop=edges&amp;w=768&amp;h=432&amp;fit=crop&amp;auto=compress,format 768w,https://images.unsplash.com/photo-1556075798-4825dfaaf498?crop=edges&amp;w=1024&amp;h=576&amp;fit=crop&amp;auto=compress,format 1024w,https://images.unsplash.com/photo-1556075798-4825dfaaf498?crop=edges&amp;w=1280&amp;h=720&amp;fit=crop&amp;auto=compress,format 1280w,https://images.unsplash.com/photo-1556075798-4825dfaaf498?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format 1600w' sizes="(min-width: 576px) 100vw"><img class=img-fluid src="https://images.unsplash.com/photo-1556075798-4825dfaaf498?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format" width=1600 height=900 alt="Настройка и использование Git" loading=lazy></picture></a></div><div class=node-title><h2 class=h5><a href=/ru/articles/2021/08/c35f395f-5921-55eb-afcf-1ad812a1a9d9/ data-bs-toggle=modal data-bs-target=#modal-0110dd716708232031f205e093b615ce>Настройка и использование Git</a></h2></div></header><div class=node-body><p>В этой заметке я приведу параметры Git, которые сам использую при работе с репозиториями.</p></div></article></div><div class="d-none d-md-block"><article class="node-articles d-flex overflow-hidden"><div class="flex-shrink-0 me-3"><div class=node-cover><a title="Настройка и использование Git" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/08/c35f395f-5921-55eb-afcf-1ad812a1a9d9/ data-bs-toggle=modal data-bs-target=#modal-0110dd716708232031f205e093b615ce><img class=img-fluid src="https://images.unsplash.com/photo-1556075798-4825dfaaf498?crop=edges&amp;w=160&amp;h=160&amp;fit=crop&amp;auto=compress,format" width=160 height=160 alt="Настройка и использование Git" loading=lazy></a></div></div><div class="flex-grow-1 overflow-hidden"><header><div class=node-title><h2 class=h5><a href=/ru/articles/2021/08/c35f395f-5921-55eb-afcf-1ad812a1a9d9/ data-bs-toggle=modal data-bs-target=#modal-0110dd716708232031f205e093b615ce>Настройка и использование Git</a></h2></div></header><div class=node-body><p>В этой заметке я приведу параметры Git, которые сам использую при работе с репозиториями.</p></div></div></article></div><div class="modal fade" id=modal-0110dd716708232031f205e093b615ce tabindex=-1 aria-labelledby=modal-0110dd716708232031f205e093b615ce-label aria-hidden=true><div class="modal-dialog modal-fullscreen"><div class=modal-content><div class=modal-header><h2 class="modal-title fs-5 text-truncate" id=modal-0110dd716708232031f205e093b615ce-label><a href=/ru/articles/2021/08/c35f395f-5921-55eb-afcf-1ad812a1a9d9/>Настройка и использование Git</a></h2><button type=button class=btn-close data-bs-dismiss=modal aria-label=Закрыть></button></div><div class=modal-body><div class=node-body><p>В этой заметке я приведу параметры Git, которые сам использую при работе с репозиториями.</p><h2 id=3515797303-первичная-настройка><a class=link-body-emphasis href=#3515797303-%d0%bf%d0%b5%d1%80%d0%b2%d0%b8%d1%87%d0%bd%d0%b0%d1%8f-%d0%bd%d0%b0%d1%81%d1%82%d1%80%d0%be%d0%b9%d0%ba%d0%b0>Первичная настройка</a></h2><p>Для начала работы с Git&rsquo;ом, его необходимо хотя бы минимально настроить.</p><ol><li>Указать своё имя:</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-0 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-91219fa6cc4e3bff8403977fc4e41e0b><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git config --global user.name <span class=s2>&#34;John Doe&#34;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-91219fa6cc4e3bff8403977fc4e41e0b role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=2><li>Указать свой адрес e-mail:</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-1 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-dac096a81e40aaa4435a141fd89e81ed><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git config --global user.email <span class=s2>&#34;johndoe@example.com&#34;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-dac096a81e40aaa4435a141fd89e81ed role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><h2 id=3515797303-настройка-подписи><a class=link-body-emphasis href=#3515797303-%d0%bd%d0%b0%d1%81%d1%82%d1%80%d0%be%d0%b9%d0%ba%d0%b0-%d0%bf%d0%be%d0%b4%d0%bf%d0%b8%d1%81%d0%b8>Настройка подписи</a></h2><p>Хорошим тоном будет считаться подпись каждого своего коммита.</p><ol><li>Выяснить какие ключи установлены в системе (о создании ключей я публиковал заметку <span class="shortcode shortcode-uuid"><a href=/ru/articles/2020/07/7a204545-daa8-58ce-ba35-75e732e1bcc0/>GnuPG: Создание и работа с ключами шифрования</a></span>):</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-2 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-4dc241a00d4b50ffb73d2b8f6e0203a1><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>gpg --list-secret-keys --keyid-format<span class=o>=</span>long</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-4dc241a00d4b50ffb73d2b8f6e0203a1 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=2><li>Указать Git&rsquo;у всегда подписывать каждый коммит:</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-3 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-5954dd7d3f64306fdb165fc788ddaa30><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git config --global commit.gpgsign true</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-5954dd7d3f64306fdb165fc788ddaa30 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ol start=3><li>Указать Git&rsquo;у идентификатор ключа для подписи коммита:</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-4 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-f25a0660274e754bfcf5b4f32b2be944><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git config --global user.signingkey 3AA5C34371567BD2</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-f25a0660274e754bfcf5b4f32b2be944 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><h2 id=3515797303-хранилище-паролей><a class=link-body-emphasis href=#3515797303-%d1%85%d1%80%d0%b0%d0%bd%d0%b8%d0%bb%d0%b8%d1%89%d0%b5-%d0%bf%d0%b0%d1%80%d0%be%d0%bb%d0%b5%d0%b9>Хранилище паролей</a></h2><p>Git по умолчанию не сохраняет регистрационные данные для репозиториев. Эта настройка позволяет указать Git&rsquo;у использовать для хранения регистрационных данных текстовый файл <code>~/.git-credentials</code>:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-5 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-4b0d88ab3e966ad6a7f8337bbd189c30><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git config --global credential.helper store</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-4b0d88ab3e966ad6a7f8337bbd189c30 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><h2 id=3515797303-отмена-изменений><a class=link-body-emphasis href=#3515797303-%d0%be%d1%82%d0%bc%d0%b5%d0%bd%d0%b0-%d0%b8%d0%b7%d0%bc%d0%b5%d0%bd%d0%b5%d0%bd%d0%b8%d0%b9>Отмена изменений</a></h2><p>Отмена конкретного коммита:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-6 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-3a973ab06cf193035aab63b8e7a7ae91><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git revert <span class=o>[</span>commit<span class=o>]</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-3a973ab06cf193035aab63b8e7a7ae91 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Отмена 2-х коммитов подряд:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-7 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-4852368c5e4a237f10054bab7e1d5c5f><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git revert HEAD~2</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-4852368c5e4a237f10054bab7e1d5c5f role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><h2 id=3515797303-модули><a class=link-body-emphasis href=#3515797303-%d0%bc%d0%be%d0%b4%d1%83%d0%bb%d0%b8>Модули</a></h2><p>Добавление модуля:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-8 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-3f7ba105f35bcdb66134c519004748f1><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git submodule add https://github.com/<span class=o>[</span>MODULE<span class=o>]</span> <span class=o>[</span>MODULE<span class=o>]</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-3f7ba105f35bcdb66134c519004748f1 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Рекурсивное обновление всех модулей:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-9 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-49943a37c19e1aabb31b38a46e4b56af><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git submodule update --recursive --remote --merge</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-49943a37c19e1aabb31b38a46e4b56af role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Удаление модуля:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-10 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-82406c8e2d5f6270196ac4953da03ad2><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git submodule deinit -f <span class=o>[</span>MODULE<span class=o>]</span>  <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  <span class=o>&amp;&amp;</span> git rm -r --cached <span class=o>[</span>MODULE<span class=o>]</span>  <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  <span class=o>&amp;&amp;</span> rm -rf .git/modules/<span class=o>[</span>MODULE<span class=o>]</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  <span class=o>&amp;&amp;</span> rm -rf <span class=o>[</span>MODULE<span class=o>]</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-82406c8e2d5f6270196ac4953da03ad2 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><h2 id=3515797303-изменение-адреса-репозитория><a class=link-body-emphasis href=#3515797303-%d0%b8%d0%b7%d0%bc%d0%b5%d0%bd%d0%b5%d0%bd%d0%b8%d0%b5-%d0%b0%d0%b4%d1%80%d0%b5%d1%81%d0%b0-%d1%80%d0%b5%d0%bf%d0%be%d0%b7%d0%b8%d1%82%d0%be%d1%80%d0%b8%d1%8f>Изменение адреса репозитория</a></h2><p>Показать текущий адрес:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-11 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-67ee7969784c127b4c6cba5826873da5><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git remote -v</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-67ee7969784c127b4c6cba5826873da5 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Установить новый адрес:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-12 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-3221c7beeb394d1dc6952cc1a9e8f4c1><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git remote set-url origin <span class=s1>&#39;[URL]&#39;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-3221c7beeb394d1dc6952cc1a9e8f4c1 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><h2 id=3515797303-изменение-описания-последнего-commitа><a class=link-body-emphasis href=#3515797303-%d0%b8%d0%b7%d0%bc%d0%b5%d0%bd%d0%b5%d0%bd%d0%b8%d0%b5-%d0%be%d0%bf%d0%b8%d1%81%d0%b0%d0%bd%d0%b8%d1%8f-%d0%bf%d0%be%d1%81%d0%bb%d0%b5%d0%b4%d0%bd%d0%b5%d0%b3%d0%be-commit%d0%b0>Изменение описания последнего commit&rsquo;а</a></h2><p>Если закралась ошибка в описании изменений кода при последнем commit&rsquo;е, это описание можно изменить при помощи команды:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-13 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-ebab966769c4d9bd3656569c033173ba><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git commit --amend -m <span class=s1>&#39;New commit message.&#39;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-ebab966769c4d9bd3656569c033173ba role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Далее, изменённый коммит принудительно отправить на сервер:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-14 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-06b941f9dc6b5be2420bdd9ad6864e6e><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git push --force <span class=s1>&#39;[remoteName]&#39;</span> <span class=s1>&#39;[branchName]&#39;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-06b941f9dc6b5be2420bdd9ad6864e6e role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="shortcode shortcode-codeblock shortcode-codeblock-15 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-30714dd8d33dabeb0c53f7f4ebc8ef00><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git push --force <span class=s1>&#39;origin&#39;</span> <span class=s1>&#39;main&#39;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-30714dd8d33dabeb0c53f7f4ebc8ef00 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div></div></div><div class=modal-footer><ul class="list-inline text-center text-body-secondary small"><li class=list-inline-item><a href=https://lib.onl/ru/tags/git/>#git</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/linux/>#linux</a></li><li class=list-inline-item>&bull;</li><li class="list-inline-item text-warning" data-bs-tooltip data-bs-title='Уровень сложности: Средний'><i class="far fa-face-meh fa-fw"></i></li><li class=list-inline-item>&bull;</li><li class=list-inline-item><time datetime=2021-08-14T15:52:38Z data-fn=date-local>2021/08/14 15:52:38 UTC</time></li></ul></div></div></div></div></div><div class=col><div class="d-sm-block d-md-none"><article class=node-articles><header><div class="node-cover mb-3"><a title="Обновление Fedora Linux до актуальной версии" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/05/0acd3f9d-07b7-52b8-9fac-b5cb1cc579e0/ data-bs-toggle=modal data-bs-target=#modal-c5d1e2429ba2760751f8d96aa231bc4d><picture><source srcset='https://images.unsplash.com/photo-1585406666850-82f7532fdae3?crop=edges&amp;w=640&amp;h=360&amp;fit=crop&amp;auto=compress,format 640w,https://images.unsplash.com/photo-1585406666850-82f7532fdae3?crop=edges&amp;w=768&amp;h=432&amp;fit=crop&amp;auto=compress,format 768w,https://images.unsplash.com/photo-1585406666850-82f7532fdae3?crop=edges&amp;w=1024&amp;h=576&amp;fit=crop&amp;auto=compress,format 1024w,https://images.unsplash.com/photo-1585406666850-82f7532fdae3?crop=edges&amp;w=1280&amp;h=720&amp;fit=crop&amp;auto=compress,format 1280w,https://images.unsplash.com/photo-1585406666850-82f7532fdae3?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format 1600w' sizes="(min-width: 576px) 100vw"><img class=img-fluid src="https://images.unsplash.com/photo-1585406666850-82f7532fdae3?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format" width=1600 height=900 alt="Обновление Fedora Linux до актуальной версии" loading=lazy></picture></a></div><div class=node-title><h2 class=h5><a href=/ru/articles/2021/05/0acd3f9d-07b7-52b8-9fac-b5cb1cc579e0/ data-bs-toggle=modal data-bs-target=#modal-c5d1e2429ba2760751f8d96aa231bc4d>Обновление Fedora Linux до актуальной версии</a></h2></div></header><div class=node-body><p>Новые версии Fedora публикуются каждые 6-8 месяцев. В этой статье я опишу шаги по обновлению дистрибутива между версиями.</p></div></article></div><div class="d-none d-md-block"><article class="node-articles d-flex overflow-hidden"><div class="flex-shrink-0 me-3"><div class=node-cover><a title="Обновление Fedora Linux до актуальной версии" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/05/0acd3f9d-07b7-52b8-9fac-b5cb1cc579e0/ data-bs-toggle=modal data-bs-target=#modal-c5d1e2429ba2760751f8d96aa231bc4d><img class=img-fluid src="https://images.unsplash.com/photo-1585406666850-82f7532fdae3?crop=edges&amp;w=160&amp;h=160&amp;fit=crop&amp;auto=compress,format" width=160 height=160 alt="Обновление Fedora Linux до актуальной версии" loading=lazy></a></div></div><div class="flex-grow-1 overflow-hidden"><header><div class=node-title><h2 class=h5><a href=/ru/articles/2021/05/0acd3f9d-07b7-52b8-9fac-b5cb1cc579e0/ data-bs-toggle=modal data-bs-target=#modal-c5d1e2429ba2760751f8d96aa231bc4d>Обновление Fedora Linux до актуальной версии</a></h2></div></header><div class=node-body><p>Новые версии Fedora публикуются каждые 6-8 месяцев. В этой статье я опишу шаги по обновлению дистрибутива между версиями.</p></div></div></article></div><div class="modal fade" id=modal-c5d1e2429ba2760751f8d96aa231bc4d tabindex=-1 aria-labelledby=modal-c5d1e2429ba2760751f8d96aa231bc4d-label aria-hidden=true><div class="modal-dialog modal-fullscreen"><div class=modal-content><div class=modal-header><h2 class="modal-title fs-5 text-truncate" id=modal-c5d1e2429ba2760751f8d96aa231bc4d-label><a href=/ru/articles/2021/05/0acd3f9d-07b7-52b8-9fac-b5cb1cc579e0/>Обновление Fedora Linux до актуальной версии</a></h2><button type=button class=btn-close data-bs-dismiss=modal aria-label=Закрыть></button></div><div class=modal-body><div class=node-body><p>Новые версии Fedora публикуются каждые 6-8 месяцев. В этой статье я опишу шаги по обновлению дистрибутива между версиями.</p><ol><li>Устанавливаем плагин обновления системы:</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-0 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux-root"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class="flex-shrink-0 text-danger"><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-e51575e6d4ed3a0b543bf482764ea40d role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-e51575e6d4ed3a0b543bf482764ea40d><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>dnf install dnf-plugin-system-upgrade</span></span></code></pre></div></div></div></div><ol start=2><li>Скачивание актуальной версии системы:</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-1 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux-root"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class="flex-shrink-0 text-danger"><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-3a7f14fa9f93824683f59c5b2d8e9c26 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-3a7f14fa9f93824683f59c5b2d8e9c26><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>dnf system-upgrade download --releasever<span class=o>=</span><span class=m>34</span></span></span></code></pre></div></div></div></div><ul><li><code>releasever</code> - номер актуальной версии системы.</li></ul><ol start=3><li>Запуск обновления системы на актуальную версию:</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-2 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux-root"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class="flex-shrink-0 text-danger"><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-44be8ab505d4d3146da69a55975a5d91 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-44be8ab505d4d3146da69a55975a5d91><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>dnf system-upgrade reboot</span></span></code></pre></div></div></div></div><p>Вот и всё. Система обновит пакетную базу и перезагрузится.</p></div></div><div class=modal-footer><ul class="list-inline text-center text-body-secondary small"><li class=list-inline-item><a href=https://lib.onl/ru/tags/fedora/>#fedora</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/dnf/>#dnf</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/upgrade/>#upgrade</a></li><li class=list-inline-item>&bull;</li><li class="list-inline-item text-success" data-bs-tooltip data-bs-title='Уровень сложности: Простой'><i class="far fa-face-smile fa-fw"></i></li><li class=list-inline-item>&bull;</li><li class=list-inline-item><time datetime=2021-05-15T20:29:16Z data-fn=date-local>2021/05/15 20:29:16 UTC</time></li></ul></div></div></div></div></div><div class=col><div class="d-sm-block d-md-none"><article class=node-articles><header><div class="node-cover mb-3"><a title="Настройка статического IP адреса" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/05/ee559a6c-5cde-5166-9d2d-3ceb55878eb8/ data-bs-toggle=modal data-bs-target=#modal-3bbda3955098d2ca8c2a925f4969e8f1><picture><source srcset='https://images.unsplash.com/photo-1544197150-b99a580bb7a8?crop=edges&amp;w=640&amp;h=360&amp;fit=crop&amp;auto=compress,format 640w,https://images.unsplash.com/photo-1544197150-b99a580bb7a8?crop=edges&amp;w=768&amp;h=432&amp;fit=crop&amp;auto=compress,format 768w,https://images.unsplash.com/photo-1544197150-b99a580bb7a8?crop=edges&amp;w=1024&amp;h=576&amp;fit=crop&amp;auto=compress,format 1024w,https://images.unsplash.com/photo-1544197150-b99a580bb7a8?crop=edges&amp;w=1280&amp;h=720&amp;fit=crop&amp;auto=compress,format 1280w,https://images.unsplash.com/photo-1544197150-b99a580bb7a8?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format 1600w' sizes="(min-width: 576px) 100vw"><img class=img-fluid src="https://images.unsplash.com/photo-1544197150-b99a580bb7a8?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format" width=1600 height=900 alt="Настройка статического IP адреса" loading=lazy></picture></a></div><div class=node-title><h2 class=h5><a href=/ru/articles/2021/05/ee559a6c-5cde-5166-9d2d-3ceb55878eb8/ data-bs-toggle=modal data-bs-target=#modal-3bbda3955098d2ca8c2a925f4969e8f1>Настройка статического IP адреса</a></h2></div></header><div class=node-body><p>Рассмотрим различные способы настройки статического IP адреса в дистрибутивах Linux. Способы различаются в зависимости от пакетной базы дистрибутивов. Например, настройка статического IP в …</p></div></article></div><div class="d-none d-md-block"><article class="node-articles d-flex overflow-hidden"><div class="flex-shrink-0 me-3"><div class=node-cover><a title="Настройка статического IP адреса" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/05/ee559a6c-5cde-5166-9d2d-3ceb55878eb8/ data-bs-toggle=modal data-bs-target=#modal-3bbda3955098d2ca8c2a925f4969e8f1><img class=img-fluid src="https://images.unsplash.com/photo-1544197150-b99a580bb7a8?crop=edges&amp;w=160&amp;h=160&amp;fit=crop&amp;auto=compress,format" width=160 height=160 alt="Настройка статического IP адреса" loading=lazy></a></div></div><div class="flex-grow-1 overflow-hidden"><header><div class=node-title><h2 class=h5><a href=/ru/articles/2021/05/ee559a6c-5cde-5166-9d2d-3ceb55878eb8/ data-bs-toggle=modal data-bs-target=#modal-3bbda3955098d2ca8c2a925f4969e8f1>Настройка статического IP адреса</a></h2></div></header><div class=node-body><p>Рассмотрим различные способы настройки статического IP адреса в дистрибутивах Linux. Способы различаются в зависимости от пакетной базы дистрибутивов. Например, настройка статического IP в …</p></div></div></article></div><div class="modal fade" id=modal-3bbda3955098d2ca8c2a925f4969e8f1 tabindex=-1 aria-labelledby=modal-3bbda3955098d2ca8c2a925f4969e8f1-label aria-hidden=true><div class="modal-dialog modal-fullscreen"><div class=modal-content><div class=modal-header><h2 class="modal-title fs-5 text-truncate" id=modal-3bbda3955098d2ca8c2a925f4969e8f1-label><a href=/ru/articles/2021/05/ee559a6c-5cde-5166-9d2d-3ceb55878eb8/>Настройка статического IP адреса</a></h2><button type=button class=btn-close data-bs-dismiss=modal aria-label=Закрыть></button></div><div class=modal-body><div class=node-body><p>Рассмотрим различные способы настройки статического IP адреса в дистрибутивах Linux. Способы различаются в зависимости от пакетной базы дистрибутивов. Например, настройка статического IP в RHEL-based дистрибутиве будет отличаться от настройки в DEB-based дистрибутиве.</p><h2 id=3395534025-подготовка><a class=link-body-emphasis href=#3395534025-%d0%bf%d0%be%d0%b4%d0%b3%d0%be%d1%82%d0%be%d0%b2%d0%ba%d0%b0>Подготовка</a></h2><p>Смотрим текущие сетевые устройства и соединения:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-0 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux-root"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class="flex-shrink-0 text-danger"><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-09a8d0c7cd9319cb805833aa5f3f6e1e role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-09a8d0c7cd9319cb805833aa5f3f6e1e><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ip a
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>1: lo: &lt;loopback,up,lower_up&gt; mtu <span class=m>65536</span> qdisc noqueue state UNKNOWN group default qlen <span class=m>1000</span>
</span></span><span class=line><span class=cl>  link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
</span></span><span class=line><span class=cl>  inet 127.0.0.1/8 scope host lo
</span></span><span class=line><span class=cl>2: enp1s0: &lt;broadcast,multicast,up,lower_up&gt; mtu <span class=m>1500</span> qdisc fq_codel state UP group default qlen <span class=m>1000</span>
</span></span><span class=line><span class=cl>  link/ether xx:xx:xx:xx:xx:xx brd ff:ff:ff:ff:ff:ff
</span></span><span class=line><span class=cl>  inet 192.168.10.123/24 brd 192.168.10.255 scope global dynamic noprefixroute enp1s0</span></span></code></pre></div></div></div></div><h2 id=3395534025-настройка-ip-в-rhel-based-дистрибутивах><a class=link-body-emphasis href=#3395534025-%d0%bd%d0%b0%d1%81%d1%82%d1%80%d0%be%d0%b9%d0%ba%d0%b0-ip-%d0%b2-rhel-based-%d0%b4%d0%b8%d1%81%d1%82%d1%80%d0%b8%d0%b1%d1%83%d1%82%d0%b8%d0%b2%d0%b0%d1%85>Настройка IP в RHEL-based дистрибутивах</a></h2><p>В директории <code>/etc/sysconfig/network-scripts</code> находятся конфигурационные файлы для сетевых интерфейсов. Имя файла состоит из префикса <code>ifcfg</code> и имени интерфейса. Например, содержимое файла для интерфейса <code>enp1s0</code>:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-1 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux-root"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class="flex-shrink-0 text-danger"><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-d9c59c38835ecd94eb2ebbd273b9eb06 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-d9c59c38835ecd94eb2ebbd273b9eb06><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>cat /etc/sysconfig/network-scripts/ifcfg-enp1s0
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>TYPE</span><span class=o>=</span><span class=s2>&#34;Ethernet&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>PROXY_METHOD</span><span class=o>=</span><span class=s2>&#34;none&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>BROWSER_ONLY</span><span class=o>=</span><span class=s2>&#34;no&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>BOOTPROTO</span><span class=o>=</span><span class=s2>&#34;dhcp&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>DEFROUTE</span><span class=o>=</span><span class=s2>&#34;yes&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>IPV4_FAILURE_FATAL</span><span class=o>=</span><span class=s2>&#34;no&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>IPV6INIT</span><span class=o>=</span><span class=s2>&#34;yes&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>IPV6_AUTOCONF</span><span class=o>=</span><span class=s2>&#34;yes&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>IPV6_DEFROUTE</span><span class=o>=</span><span class=s2>&#34;yes&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>IPV6_FAILURE_FATAL</span><span class=o>=</span><span class=s2>&#34;no&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>IPV6_ADDR_GEN_MODE</span><span class=o>=</span><span class=s2>&#34;stable-privacy&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>NAME</span><span class=o>=</span><span class=s2>&#34;enp1s0&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>UUID</span><span class=o>=</span><span class=s2>&#34;&lt;DEVICE_ID&gt;&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>DEVICE</span><span class=o>=</span><span class=s2>&#34;enp1s0&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>ONBOOT</span><span class=o>=</span><span class=s2>&#34;yes&#34;</span></span></span></code></pre></div></div></div></div><p>Обратим внимание на опцию <strong>BOOTPROTO</strong>. По умолчанию, в опции <strong>BOOTPROTO</strong> прописано <code>dhcp</code>. Это означает, что сетевой интерфейс получает информацию о сети автоматически от DHCP. Сама опция <strong>BOOTPROTO</strong> может принимать следующие значения:</p><ul><li><code>none</code> – не использовать протокол.</li><li><code>bootp</code> – использование протокола <strong>bootp</strong>.</li><li><code>dhcp</code> – использование протокола <strong>dhcp</strong> (по умолчанию).</li></ul><p>Для настройки статического IP необходимо установит <strong>BOOTPROTO</strong> в <code>none</code> и дописать в конец файла опции:</p><ul><li><code>IPADDR</code> - IP адрес.</li><li><code>PREFIX</code> - маска сети.</li><li><code>GATEWAY</code> - шлюз сети.</li><li><code>DNS</code> - серверы DNS.</li></ul><p>Например:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-2 shortcode-codeblock-ini"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-877f5b069e9a355af83629946620024d><div class=highlight><pre tabindex=0 class=chroma><code class=language-ini data-lang=ini><span class=line><span class=cl><span class=na>TYPE</span><span class=o>=</span><span class=s>&#34;Ethernet&#34;</span>
</span></span><span class=line><span class=cl><span class=na>PROXY_METHOD</span><span class=o>=</span><span class=s>&#34;none&#34;</span>
</span></span><span class=line><span class=cl><span class=na>BROWSER_ONLY</span><span class=o>=</span><span class=s>&#34;no&#34;</span>
</span></span><span class=line><span class=cl><span class=na>BOOTPROTO</span><span class=o>=</span><span class=s>&#34;none&#34;</span>
</span></span><span class=line><span class=cl><span class=na>DEFROUTE</span><span class=o>=</span><span class=s>&#34;yes&#34;</span>
</span></span><span class=line><span class=cl><span class=na>IPV4_FAILURE_FATAL</span><span class=o>=</span><span class=s>&#34;no&#34;</span>
</span></span><span class=line><span class=cl><span class=na>IPV6INIT</span><span class=o>=</span><span class=s>&#34;yes&#34;</span>
</span></span><span class=line><span class=cl><span class=na>IPV6_AUTOCONF</span><span class=o>=</span><span class=s>&#34;yes&#34;</span>
</span></span><span class=line><span class=cl><span class=na>IPV6_DEFROUTE</span><span class=o>=</span><span class=s>&#34;yes&#34;</span>
</span></span><span class=line><span class=cl><span class=na>IPV6_FAILURE_FATAL</span><span class=o>=</span><span class=s>&#34;no&#34;</span>
</span></span><span class=line><span class=cl><span class=na>IPV6_ADDR_GEN_MODE</span><span class=o>=</span><span class=s>&#34;stable-privacy&#34;</span>
</span></span><span class=line><span class=cl><span class=na>NAME</span><span class=o>=</span><span class=s>&#34;enp1s0&#34;</span>
</span></span><span class=line><span class=cl><span class=na>UUID</span><span class=o>=</span><span class=s>&#34;&lt;DEVICE_ID&gt;&#34;</span>
</span></span><span class=line><span class=cl><span class=na>DEVICE</span><span class=o>=</span><span class=s>&#34;enp1s0&#34;</span>
</span></span><span class=line><span class=cl><span class=na>ONBOOT</span><span class=o>=</span><span class=s>&#34;yes&#34;</span>
</span></span><span class=line><span class=cl><span class=na>IPADDR</span><span class=o>=</span><span class=s>&#34;192.168.10.55&#34;</span>
</span></span><span class=line><span class=cl><span class=na>PREFIX</span><span class=o>=</span><span class=s>&#34;24&#34;</span>
</span></span><span class=line><span class=cl><span class=na>GATEWAY</span><span class=o>=</span><span class=s>&#34;192.168.10.1&#34;</span>
</span></span><span class=line><span class=cl><span class=na>DNS1</span><span class=o>=</span><span class=s>&#34;192.168.11.1&#34;</span>
</span></span><span class=line><span class=cl><span class=na>DNS1</span><span class=o>=</span><span class=s>&#34;192.168.12.1&#34;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-877f5b069e9a355af83629946620024d role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>После указания всех параметров, необходимо перезапустить интерфейс:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-3 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux-root"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class="flex-shrink-0 text-danger"><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-6f4843bab7b9166b46422d4e1217ed8c role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-6f4843bab7b9166b46422d4e1217ed8c><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>nmcli con down enp1s0 <span class=o>&amp;&amp;</span> nmcli con up enp1s0</span></span></code></pre></div></div></div></div><h2 id=3395534025-настройка-ip-при-помощи-network-manager-cli-nmcli><a class=link-body-emphasis href=#3395534025-%d0%bd%d0%b0%d1%81%d1%82%d1%80%d0%be%d0%b9%d0%ba%d0%b0-ip-%d0%bf%d1%80%d0%b8-%d0%bf%d0%be%d0%bc%d0%be%d1%89%d0%b8-network-manager-cli-nmcli>Настройка IP при помощи Network Manager CLI (nmcli)</a></h2><p>Установка IP адреса:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-4 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux-root"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class="flex-shrink-0 text-danger"><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-8835743062ec93eb9810633f65e73b48 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-8835743062ec93eb9810633f65e73b48><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>nmcli con mod enp1s0 ipv4.addresses <span class=s1>&#39;192.168.10.55/24&#39;</span></span></span></code></pre></div></div></div></div><p>Установка шлюза:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-5 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux-root"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class="flex-shrink-0 text-danger"><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-3e55b638e0c82c68da13920edb14b8df role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-3e55b638e0c82c68da13920edb14b8df><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>nmcli con mod enp1s0 ipv4.gateway <span class=s1>&#39;192.168.10.1&#39;</span></span></span></code></pre></div></div></div></div><p>Установка DNS:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-6 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux-root"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class="flex-shrink-0 text-danger"><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-48b06ca8d303087077979fb7a14d02eb role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-48b06ca8d303087077979fb7a14d02eb><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>nmcli con mod enp1s0 ipv4.dns <span class=s1>&#39;192.168.11.1&#39;</span></span></span></code></pre></div></div></div></div><p>Установка <strong>BOOTPROTO</strong> в <code>none</code>:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-7 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux-root"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class="flex-shrink-0 text-danger"><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-7b8ef3397d8d0669cb57beda9c49dedb role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-7b8ef3397d8d0669cb57beda9c49dedb><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>nmcli con mod enp1s0 ipv4.method <span class=s1>&#39;manual&#39;</span></span></span></code></pre></div></div></div></div><p>Перезапуск интерфейса:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-8 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux-root"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class="flex-shrink-0 text-danger"><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-f82a19a3cd29434661a3aef271ef46eb role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-f82a19a3cd29434661a3aef271ef46eb><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>nmcli con down enp1s0 <span class=o>&amp;&amp;</span> nmcli con up enp1s0</span></span></code></pre></div></div></div></div></div></div><div class=modal-footer><ul class="list-inline text-center text-body-secondary small"><li class=list-inline-item><a href=https://lib.onl/ru/tags/ip/>#ip</a></li><li class=list-inline-item>&bull;</li><li class="list-inline-item text-warning" data-bs-tooltip data-bs-title='Уровень сложности: Средний'><i class="far fa-face-meh fa-fw"></i></li><li class=list-inline-item>&bull;</li><li class=list-inline-item><time datetime=2021-05-15T17:08:30Z data-fn=date-local>2021/05/15 17:08:30 UTC</time></li></ul></div></div></div></div></div><div class=col><div class="d-sm-block d-md-none"><article class=node-articles><header><div class="node-cover mb-3"><a title="Настройка времени в Linux" class="d-flex align-items-center rounded overflow-hidden" href=/ru/drafts/2021/05/8bdb6bfe-c516-5eed-a9e4-05003575d210/ data-bs-toggle=modal data-bs-target=#modal-07ba1c6681e12994fa75e918b1acf95b><picture><source srcset='https://images.unsplash.com/photo-1501139083538-0139583c060f?crop=edges&amp;w=640&amp;h=360&amp;fit=crop&amp;auto=compress,format 640w,https://images.unsplash.com/photo-1501139083538-0139583c060f?crop=edges&amp;w=768&amp;h=432&amp;fit=crop&amp;auto=compress,format 768w,https://images.unsplash.com/photo-1501139083538-0139583c060f?crop=edges&amp;w=1024&amp;h=576&amp;fit=crop&amp;auto=compress,format 1024w,https://images.unsplash.com/photo-1501139083538-0139583c060f?crop=edges&amp;w=1280&amp;h=720&amp;fit=crop&amp;auto=compress,format 1280w,https://images.unsplash.com/photo-1501139083538-0139583c060f?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format 1600w' sizes="(min-width: 576px) 100vw"><img class=img-fluid src="https://images.unsplash.com/photo-1501139083538-0139583c060f?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format" width=1600 height=900 alt="Настройка времени в Linux" loading=lazy></picture></a></div><div class=node-title><h2 class=h5><a href=/ru/drafts/2021/05/8bdb6bfe-c516-5eed-a9e4-05003575d210/ data-bs-toggle=modal data-bs-target=#modal-07ba1c6681e12994fa75e918b1acf95b>Настройка времени в Linux</a></h2></div></header><div class=node-body></div></article></div><div class="d-none d-md-block"><article class="node-articles d-flex overflow-hidden"><div class="flex-shrink-0 me-3"><div class=node-cover><a title="Настройка времени в Linux" class="d-flex align-items-center rounded overflow-hidden" href=/ru/drafts/2021/05/8bdb6bfe-c516-5eed-a9e4-05003575d210/ data-bs-toggle=modal data-bs-target=#modal-07ba1c6681e12994fa75e918b1acf95b><img class=img-fluid src="https://images.unsplash.com/photo-1501139083538-0139583c060f?crop=edges&amp;w=160&amp;h=160&amp;fit=crop&amp;auto=compress,format" width=160 height=160 alt="Настройка времени в Linux" loading=lazy></a></div></div><div class="flex-grow-1 overflow-hidden"><header><div class=node-title><h2 class=h5><a href=/ru/drafts/2021/05/8bdb6bfe-c516-5eed-a9e4-05003575d210/ data-bs-toggle=modal data-bs-target=#modal-07ba1c6681e12994fa75e918b1acf95b>Настройка времени в Linux</a></h2></div></header><div class=node-body></div></div></article></div><div class="modal fade" id=modal-07ba1c6681e12994fa75e918b1acf95b tabindex=-1 aria-labelledby=modal-07ba1c6681e12994fa75e918b1acf95b-label aria-hidden=true><div class="modal-dialog modal-fullscreen"><div class=modal-content><div class=modal-header><h2 class="modal-title fs-5 text-truncate" id=modal-07ba1c6681e12994fa75e918b1acf95b-label><a href=/ru/drafts/2021/05/8bdb6bfe-c516-5eed-a9e4-05003575d210/>Настройка времени в Linux</a></h2><button type=button class=btn-close data-bs-dismiss=modal aria-label=Закрыть></button></div><div class=modal-body><div class=node-body><h2 id=3557778931-системные-часы><a class=link-body-emphasis href=#3557778931-%d1%81%d0%b8%d1%81%d1%82%d0%b5%d0%bc%d0%bd%d1%8b%d0%b5-%d1%87%d0%b0%d1%81%d1%8b>Системные часы</a></h2><div class="shortcode shortcode-codeblock shortcode-codeblock-0 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-c2de9d27ab936950878f00be7cfdc5e5><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>timedatectl status</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-c2de9d27ab936950878f00be7cfdc5e5 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="shortcode shortcode-codeblock shortcode-codeblock-1 shortcode-codeblock-text"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-8a99ada1e778cbe4685a06cc8a2481be><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>               Local time: Sat 2021-05-15 19:44:40 MSK
</span></span><span class=line><span class=cl>           Universal time: Sat 2021-05-15 16:44:40 UTC
</span></span><span class=line><span class=cl>                 RTC time: Sat 2021-05-15 16:44:40
</span></span><span class=line><span class=cl>                Time zone: Europe/Moscow (MSK, +0300)
</span></span><span class=line><span class=cl>System clock synchronized: yes
</span></span><span class=line><span class=cl>              NTP service: active
</span></span><span class=line><span class=cl>          RTC in local TZ: no</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-8a99ada1e778cbe4685a06cc8a2481be role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="shortcode shortcode-codeblock shortcode-codeblock-2 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-ab33c1a81126b22fc5523be41817c368><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>timedatectl set-ntp true</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-ab33c1a81126b22fc5523be41817c368 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="shortcode shortcode-codeblock shortcode-codeblock-3 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-38c290b0e53be304d3eaad564d6da6c4><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>systemctl status systemd-timesyncd</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-38c290b0e53be304d3eaad564d6da6c4 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="shortcode shortcode-codeblock shortcode-codeblock-4 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-c9bbd135845146804168e630b29c91ce><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>systemctl <span class=nb>enable</span> systemd-timesyncd --now</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-c9bbd135845146804168e630b29c91ce role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="shortcode shortcode-codeblock shortcode-codeblock-5 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-877d9bf71d552957772739bd7a9f565a><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>timedatectl list-timezones</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-877d9bf71d552957772739bd7a9f565a role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="shortcode shortcode-codeblock shortcode-codeblock-6 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-990ab5e0a7787c13680dd059c6aebb2e><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>timedatectl set-timezone Europe/Moscow</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-990ab5e0a7787c13680dd059c6aebb2e role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="shortcode shortcode-codeblock shortcode-codeblock-7 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-098c7d94ca8cfd027f10ad849fac8c57><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>timedatectl set-time <span class=s2>&#34;yyyy-MM-dd hh:mm:ss&#34;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-098c7d94ca8cfd027f10ad849fac8c57 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="shortcode shortcode-codeblock shortcode-codeblock-8 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-68e9a23a57f414878cd74ddf6b32976e><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>timedatectl set-time <span class=s2>&#34;2014-05-26 11:13:54&#34;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-68e9a23a57f414878cd74ddf6b32976e role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><h2 id=3557778931-аппаратные-часы><a class=link-body-emphasis href=#3557778931-%d0%b0%d0%bf%d0%bf%d0%b0%d1%80%d0%b0%d1%82%d0%bd%d1%8b%d0%b5-%d1%87%d0%b0%d1%81%d1%8b>Аппаратные часы</a></h2><div class="shortcode shortcode-codeblock shortcode-codeblock-9 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-908997f7bef194d2da89362b858e80e4><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>hwclock --show</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-908997f7bef194d2da89362b858e80e4 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="shortcode shortcode-codeblock shortcode-codeblock-10 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-f55304b6f7eabb9ff984c62d13d41b57><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>hwclock --systohc</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-f55304b6f7eabb9ff984c62d13d41b57 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div></div></div><div class=modal-footer><ul class="list-inline text-center text-body-secondary small"><li class=list-inline-item><a href=https://lib.onl/ru/tags/time/>#time</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/timezone/>#timezone</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/hwclock/>#hwclock</a></li><li class=list-inline-item>&bull;</li><li class="list-inline-item text-success" data-bs-tooltip data-bs-title='Уровень сложности: Простой'><i class="far fa-face-smile fa-fw"></i></li><li class=list-inline-item>&bull;</li><li class=list-inline-item><time datetime=2021-05-15T16:22:34Z data-fn=date-local>2021/05/15 16:22:34 UTC</time></li></ul></div></div></div></div></div><div class=col><div class="d-sm-block d-md-none"><article class=node-articles><header><div class="node-cover mb-3"><a title="Перезагрузка и выключение Linux" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/05/86db7f3a-17ce-502b-b21d-337c3bba5d58/ data-bs-toggle=modal data-bs-target=#modal-983478b7bdda568986722e518392c886><picture><source srcset='https://images.unsplash.com/photo-1611780427130-996d9882dc41?crop=top&amp;w=640&amp;h=360&amp;fit=crop&amp;auto=compress,format 640w,https://images.unsplash.com/photo-1611780427130-996d9882dc41?crop=top&amp;w=768&amp;h=432&amp;fit=crop&amp;auto=compress,format 768w,https://images.unsplash.com/photo-1611780427130-996d9882dc41?crop=top&amp;w=1024&amp;h=576&amp;fit=crop&amp;auto=compress,format 1024w,https://images.unsplash.com/photo-1611780427130-996d9882dc41?crop=top&amp;w=1280&amp;h=720&amp;fit=crop&amp;auto=compress,format 1280w,https://images.unsplash.com/photo-1611780427130-996d9882dc41?crop=top&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format 1600w' sizes="(min-width: 576px) 100vw"><img class=img-fluid src="https://images.unsplash.com/photo-1611780427130-996d9882dc41?crop=top&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format" width=1600 height=900 alt="Перезагрузка и выключение Linux" loading=lazy></picture></a></div><div class=node-title><h2 class=h5><a href=/ru/articles/2021/05/86db7f3a-17ce-502b-b21d-337c3bba5d58/ data-bs-toggle=modal data-bs-target=#modal-983478b7bdda568986722e518392c886>Перезагрузка и выключение Linux</a></h2></div></header><div class=node-body><p>Нередко приходится завершать работу системы через терминал, например, когда компьютер является удалённой рабочей станцией или сервером и вся работа происходит через терминал. В этой статье я …</p></div></article></div><div class="d-none d-md-block"><article class="node-articles d-flex overflow-hidden"><div class="flex-shrink-0 me-3"><div class=node-cover><a title="Перезагрузка и выключение Linux" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/05/86db7f3a-17ce-502b-b21d-337c3bba5d58/ data-bs-toggle=modal data-bs-target=#modal-983478b7bdda568986722e518392c886><img class=img-fluid src="https://images.unsplash.com/photo-1611780427130-996d9882dc41?crop=top&amp;w=160&amp;h=160&amp;fit=crop&amp;auto=compress,format" width=160 height=160 alt="Перезагрузка и выключение Linux" loading=lazy></a></div></div><div class="flex-grow-1 overflow-hidden"><header><div class=node-title><h2 class=h5><a href=/ru/articles/2021/05/86db7f3a-17ce-502b-b21d-337c3bba5d58/ data-bs-toggle=modal data-bs-target=#modal-983478b7bdda568986722e518392c886>Перезагрузка и выключение Linux</a></h2></div></header><div class=node-body><p>Нередко приходится завершать работу системы через терминал, например, когда компьютер является удалённой рабочей станцией или сервером и вся работа происходит через терминал. В этой статье я …</p></div></div></article></div><div class="modal fade" id=modal-983478b7bdda568986722e518392c886 tabindex=-1 aria-labelledby=modal-983478b7bdda568986722e518392c886-label aria-hidden=true><div class="modal-dialog modal-fullscreen"><div class=modal-content><div class=modal-header><h2 class="modal-title fs-5 text-truncate" id=modal-983478b7bdda568986722e518392c886-label><a href=/ru/articles/2021/05/86db7f3a-17ce-502b-b21d-337c3bba5d58/>Перезагрузка и выключение Linux</a></h2><button type=button class=btn-close data-bs-dismiss=modal aria-label=Закрыть></button></div><div class=modal-body><div class=node-body><p>Нередко приходится завершать работу системы через терминал, например, когда компьютер является удалённой рабочей станцией или сервером и вся работа происходит через терминал. В этой статье я постараюсь привести информацию о командах, позволяющих удалённо завершить работу системы.</p><h2 id=2661170542-halt--poweroff--reboot><a class=link-body-emphasis href=#2661170542-halt--poweroff--reboot>halt / poweroff / reboot</a></h2><p>Старые команды по управлению питанием системы. Опции у этих команд одинаковые. Отдаются команды из под пользователя <strong>root</strong>. Команда <code>halt</code> приостанавливает все функции CPU, но сам ПК остаётся включённым. Команда <code>poweroff</code> отключает питание ПК, посылая сигнал по ACPI. Команда <code>reboot</code> даёт команду системе на перезагрузку.</p><div class="shortcode shortcode-alert"><div class="alert alert-success d-flex overflow-hidden" role=alert><div class="flex-shrink-0 align-self-center"><i class="fas fa-lightbulb fa-fw fa-2x"></i></div><div class="flex-grow-1 ms-3 overflow-hidden"><p>Команда <code>halt</code> в современных ОС полностью прекращает работу системы. На системах с <strong>systemd</strong> команда <code>halt</code> является устаревшей и представляет собой символьную ссылку на утилиту <code>systemctl</code>.</p></div></div></div><p>Предпочтительнее использовать команду <code>shutdown</code>, о которой я расскажу ниже.</p><h3 id=2661170542-синтаксис><a class=link-body-emphasis href=#2661170542-%d1%81%d0%b8%d0%bd%d1%82%d0%b0%d0%ba%d1%81%d0%b8%d1%81>Синтаксис</a></h3><div class="shortcode shortcode-codeblock shortcode-codeblock-0 shortcode-codeblock-text"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-e48688d390dc2482d935a80fbcb005d0><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>halt [OPTION]
</span></span><span class=line><span class=cl>poweroff [OPTION]
</span></span><span class=line><span class=cl>reboot [OPTION]</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-e48688d390dc2482d935a80fbcb005d0 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><h4 id=2661170542-некоторые-опции><a class=link-body-emphasis href=#2661170542-%d0%bd%d0%b5%d0%ba%d0%be%d1%82%d0%be%d1%80%d1%8b%d0%b5-%d0%be%d0%bf%d1%86%d0%b8%d0%b8>Некоторые опции</a></h4><ul><li><code>-f</code> - принудительное выполнение команды.</li><li><code>-p</code> - сообщает команде <code>halt</code> действовать как <code>poweroff</code>.</li><li><code>-w</code> - не выполнять никакие действия, только записать в журнал <code>/var/log/wtmp</code> сообщение о завершении работы.</li></ul><h2 id=2661170542-shutdown><a class=link-body-emphasis href=#2661170542-shutdown>shutdown</a></h2><p>За остановку работы ПК отвечает команда <code>shutdown</code>. Она поддерживает несколько опций, через которые задаётся определённое действие. К примеру:</p><ul><li><code>-r</code> - перезагрузка.</li><li><code>-h</code> - выключение.</li><li><code>-c</code> - отмена запланированных действий на перезагрузку или выключение.</li></ul><p>Для запланированной перезагрузки ПК через 1 минуту используется опция <code>-r</code>:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-1 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux-root"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class="flex-shrink-0 text-danger"><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-358d20ea7b2a837fb21e1eb03ce8fccb role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-358d20ea7b2a837fb21e1eb03ce8fccb><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>shutdown -r</span></span></code></pre></div></div></div></div><p>Команда <code>shutdown</code> поддерживает указание времени, когда ПК должен быть перезагружен или выключен. К примеру, перезагрузить через 5 минут:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-2 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux-root"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class="flex-shrink-0 text-danger"><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-ce11e3ad5790baf3ea315ec947b12eab role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-ce11e3ad5790baf3ea315ec947b12eab><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>shutdown -r +5</span></span></code></pre></div></div></div></div><p>Также можно указать конкретное время для перезагрузки. Например, перезагрузить ПК в 18:30:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-3 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux-root"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class="flex-shrink-0 text-danger"><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-59b5bb36c12f204834a14e73345308ee role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-59b5bb36c12f204834a14e73345308ee><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>shutdown -r 18:30</span></span></code></pre></div></div></div></div><p>Если перезагрузка или выключение уже запланированы, их можно отменить опцией <code>-c</code>:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-4 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux-root"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class="flex-shrink-0 text-danger"><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-cc6257cdc322abfeb757d4d919b2112c role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-cc6257cdc322abfeb757d4d919b2112c><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>shutdown -c</span></span></code></pre></div></div></div></div><p>Для немедленной перезагрузки ПК, вместо времени можно ввести <code>now</code>:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-5 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux-root"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class="flex-shrink-0 text-danger"><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-5bda3fcc3162e12234ec9b03f7632e0e role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-5bda3fcc3162e12234ec9b03f7632e0e><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>shutdown -r now</span></span></code></pre></div></div></div></div><p>Чтобы выключить ПК через 1 минуту, используется опция <code>-h</code>:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-6 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux-root"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class="flex-shrink-0 text-danger"><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-e3b09ad0f8344a7340139025354ecc70 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-e3b09ad0f8344a7340139025354ecc70><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>shutdown -h</span></span></code></pre></div></div></div></div><p>На этом всё, ничего сложного нет. <span class="shortcode shortcode-emoji">😄</span></p></div></div><div class=modal-footer><ul class="list-inline text-center text-body-secondary small"><li class=list-inline-item><a href=https://lib.onl/ru/tags/linux/>#linux</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/terminal/>#terminal</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/halt/>#halt</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/poweroff/>#poweroff</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/reboot/>#reboot</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/shutdown/>#shutdown</a></li><li class=list-inline-item>&bull;</li><li class="list-inline-item text-success" data-bs-tooltip data-bs-title='Уровень сложности: Простой'><i class="far fa-face-smile fa-fw"></i></li><li class=list-inline-item>&bull;</li><li class=list-inline-item><time datetime=2021-05-12T14:20:47Z data-fn=date-local>2021/05/12 14:20:47 UTC</time></li></ul></div></div></div></div></div><div class=col><div class="d-sm-block d-md-none"><article class=node-articles><header><div class="node-cover mb-3"><a title="Рекурсивное изменение прав доступа на файлы и директории" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/05/4a3b0a31-0d3d-5a9b-8c07-7e3b4f80669e/ data-bs-toggle=modal data-bs-target=#modal-3df1b1b7de5b463a5859f297c951103f><picture><source srcset='https://images.unsplash.com/photo-1569235186275-626cb53b83ce?crop=edges&amp;w=640&amp;h=360&amp;fit=crop&amp;auto=compress,format 640w,https://images.unsplash.com/photo-1569235186275-626cb53b83ce?crop=edges&amp;w=768&amp;h=432&amp;fit=crop&amp;auto=compress,format 768w,https://images.unsplash.com/photo-1569235186275-626cb53b83ce?crop=edges&amp;w=1024&amp;h=576&amp;fit=crop&amp;auto=compress,format 1024w,https://images.unsplash.com/photo-1569235186275-626cb53b83ce?crop=edges&amp;w=1280&amp;h=720&amp;fit=crop&amp;auto=compress,format 1280w,https://images.unsplash.com/photo-1569235186275-626cb53b83ce?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format 1600w' sizes="(min-width: 576px) 100vw"><img class=img-fluid src="https://images.unsplash.com/photo-1569235186275-626cb53b83ce?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format" width=1600 height=900 alt="Рекурсивное изменение прав доступа на файлы и директории" loading=lazy></picture></a></div><div class=node-title><h2 class=h5><a href=/ru/articles/2021/05/4a3b0a31-0d3d-5a9b-8c07-7e3b4f80669e/ data-bs-toggle=modal data-bs-target=#modal-3df1b1b7de5b463a5859f297c951103f>Рекурсивное изменение прав доступа на файлы и директории</a></h2></div></header><div class=node-body><p>Права доступа к файлам и директориям является неотъемлемой частью любой операционной системы. И в этой статье описаны возможности по рекурсивной настройке этих прав доступа.</p></div></article></div><div class="d-none d-md-block"><article class="node-articles d-flex overflow-hidden"><div class="flex-shrink-0 me-3"><div class=node-cover><a title="Рекурсивное изменение прав доступа на файлы и директории" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/05/4a3b0a31-0d3d-5a9b-8c07-7e3b4f80669e/ data-bs-toggle=modal data-bs-target=#modal-3df1b1b7de5b463a5859f297c951103f><img class=img-fluid src="https://images.unsplash.com/photo-1569235186275-626cb53b83ce?crop=edges&amp;w=160&amp;h=160&amp;fit=crop&amp;auto=compress,format" width=160 height=160 alt="Рекурсивное изменение прав доступа на файлы и директории" loading=lazy></a></div></div><div class="flex-grow-1 overflow-hidden"><header><div class=node-title><h2 class=h5><a href=/ru/articles/2021/05/4a3b0a31-0d3d-5a9b-8c07-7e3b4f80669e/ data-bs-toggle=modal data-bs-target=#modal-3df1b1b7de5b463a5859f297c951103f>Рекурсивное изменение прав доступа на файлы и директории</a></h2></div></header><div class=node-body><p>Права доступа к файлам и директориям является неотъемлемой частью любой операционной системы. И в этой статье описаны возможности по рекурсивной настройке этих прав доступа.</p></div></div></article></div><div class="modal fade" id=modal-3df1b1b7de5b463a5859f297c951103f tabindex=-1 aria-labelledby=modal-3df1b1b7de5b463a5859f297c951103f-label aria-hidden=true><div class="modal-dialog modal-fullscreen"><div class=modal-content><div class=modal-header><h2 class="modal-title fs-5 text-truncate" id=modal-3df1b1b7de5b463a5859f297c951103f-label><a href=/ru/articles/2021/05/4a3b0a31-0d3d-5a9b-8c07-7e3b4f80669e/>Рекурсивное изменение прав доступа на файлы и директории</a></h2><button type=button class=btn-close data-bs-dismiss=modal aria-label=Закрыть></button></div><div class=modal-body><div class=node-body><p>Права доступа к файлам и директориям является неотъемлемой частью любой операционной системы. И в этой статье описаны возможности по рекурсивной настройке этих прав доступа.</p><p>Изменение прав доступа осуществляется при помощи команды <code>chmod</code>, рекурсивное при добавлении опции <code>-R</code>:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-0 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-2973c60b4034f55c8c44038557dd465b><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>chmod -R MODE DIR</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-2973c60b4034f55c8c44038557dd465b role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><ul><li><code>-R</code> - рекурсивный обход директорий и файлов.</li><li><code>MODE</code> - набор прав доступа для их установки.</li><li><code>DIR</code> - файл или директория, у которых необходимо установить определённые права доступа.</li></ul><p>В итоге, команда должна выглядеть так:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-1 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-e8827b16ed172c8a8669f2cb75e1a65e><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>chmod -R <span class=m>755</span> /var/www/html</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-e8827b16ed172c8a8669f2cb75e1a65e role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Но, стоит учитывать, что таким образом директории и файлы примут одинаковые права доступа. Чтобы избежать этого, можно воспользоваться командой <code>find</code>, которая отфильтрует директории и файлы друг от друга:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-2 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-3d6d285e97d8918d638ef18dee73e657><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>find /var/www/html -type d -exec chmod <span class=m>755</span> <span class=o>{}</span> <span class=se>\;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-3d6d285e97d8918d638ef18dee73e657 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="shortcode shortcode-codeblock shortcode-codeblock-3 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-3d86bc96cc0e447554565968585568e8><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>find /var/www/html -type f -exec chmod <span class=m>644</span> <span class=o>{}</span> <span class=se>\;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-3d86bc96cc0e447554565968585568e8 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Команда <code>find</code> ищет директории (<code>-type d</code>) и файлы (<code>-type f</code>) и скармливает их команде <code>chmod</code>, а та, в свою очередь, уже расставляет права доступа. При использовании <code>-exec</code>, <code>chmod</code> выполняется для каждого найденного элемента поочерёдно. Можно оптимизировать и записать с использованием <code>xargs</code>:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-4 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-17b4be1bbf5424d4e68b6787fc13749f><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>find /var/www/html -type d -print0 <span class=p>|</span> xargs -0 chmod <span class=m>755</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-17b4be1bbf5424d4e68b6787fc13749f role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="shortcode shortcode-codeblock shortcode-codeblock-5 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-fc7eb920ce816699a293c96417947240><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>find /var/www/html -type f -print0 <span class=p>|</span> xargs -0 chmod <span class=m>644</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-fc7eb920ce816699a293c96417947240 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>При <code>xargs</code>, <code>chmod</code> выполняется сразу для нескольких записей одновременно, как сообщает <strong>Daniel Miessler</strong>:</p><div class="shortcode shortcode-quote"><figure><blockquote class=blockquote><p>This is where -exec breaks down and xargs shows its superiority. When you use -exec to do the work you run a separate instance of the called program for each element of input. So if find comes up with 10,000 results, you run exec 10,000 times. With xargs, you build up the input into bundles and run them through the command as few times as possible, which is often just once. When dealing with hundreds or thousands of elements this is a big win for xargs.</p></blockquote><figcaption class=blockquote-footer><cite><a href=https://danielmiessler.com/blog/linux-xargs-vs-exec/ target=_blank rel="noopener nofollow">Daniel Miessler</a></cite></figcaption></figure></div><p>Если необходимо запустить рекурсивное изменение прав доступа начиная с текущей директории, то <code>/var/www/html</code> необходимо поменять на точку:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-6 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-ebde3e30380458e576100093076b9500><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>find . -type d -print0 <span class=p>|</span> xargs -0 chmod <span class=m>755</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-ebde3e30380458e576100093076b9500 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="shortcode shortcode-codeblock shortcode-codeblock-7 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-cc72259e328a767e7db088f21b467b9a><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>find . -type f -print0 <span class=p>|</span> xargs -0 chmod <span class=m>644</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-cc72259e328a767e7db088f21b467b9a role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div></div></div><div class=modal-footer><ul class="list-inline text-center text-body-secondary small"><li class=list-inline-item><a href=https://lib.onl/ru/tags/linux/>#linux</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/terminal/>#terminal</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/chmod/>#chmod</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/find/>#find</a></li><li class=list-inline-item>&bull;</li><li class="list-inline-item text-success" data-bs-tooltip data-bs-title='Уровень сложности: Простой'><i class="far fa-face-smile fa-fw"></i></li><li class=list-inline-item>&bull;</li><li class=list-inline-item><time datetime=2021-05-09T17:15:26Z data-fn=date-local>2021/05/09 17:15:26 UTC</time></li></ul></div></div></div></div></div><div class=col><div class="d-sm-block d-md-none"><article class=node-articles><header><div class="node-cover mb-3"><a title="Разнообразие команд ls*" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/05/5ba03b8a-0505-5d80-bfad-f7a4d66f07b0/ data-bs-toggle=modal data-bs-target=#modal-bb7c3fe8a315f8b29387dd9ec5094715><picture><source srcset='https://images.unsplash.com/photo-1507925921958-8a62f3d1a50d?crop=bottom&amp;w=640&amp;h=360&amp;fit=crop&amp;auto=compress,format 640w,https://images.unsplash.com/photo-1507925921958-8a62f3d1a50d?crop=bottom&amp;w=768&amp;h=432&amp;fit=crop&amp;auto=compress,format 768w,https://images.unsplash.com/photo-1507925921958-8a62f3d1a50d?crop=bottom&amp;w=1024&amp;h=576&amp;fit=crop&amp;auto=compress,format 1024w,https://images.unsplash.com/photo-1507925921958-8a62f3d1a50d?crop=bottom&amp;w=1280&amp;h=720&amp;fit=crop&amp;auto=compress,format 1280w,https://images.unsplash.com/photo-1507925921958-8a62f3d1a50d?crop=bottom&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format 1600w' sizes="(min-width: 576px) 100vw"><img class=img-fluid src="https://images.unsplash.com/photo-1507925921958-8a62f3d1a50d?crop=bottom&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format" width=1600 height=900 alt="Разнообразие команд ls*" loading=lazy></picture></a></div><div class=node-title><h2 class=h5><a href=/ru/articles/2021/05/5ba03b8a-0505-5d80-bfad-f7a4d66f07b0/ data-bs-toggle=modal data-bs-target=#modal-bb7c3fe8a315f8b29387dd9ec5094715>Разнообразие команд ls*</a></h2></div></header><div class=node-body><p>Команда <code>ls</code> и её разновидности позволяют вывести список директорий, файлов, устройств и различной другой информации. Я расскажу только о некоторых командах <code>ls*</code>, которые присутствуют в большинстве …</p></div></article></div><div class="d-none d-md-block"><article class="node-articles d-flex overflow-hidden"><div class="flex-shrink-0 me-3"><div class=node-cover><a title="Разнообразие команд ls*" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2021/05/5ba03b8a-0505-5d80-bfad-f7a4d66f07b0/ data-bs-toggle=modal data-bs-target=#modal-bb7c3fe8a315f8b29387dd9ec5094715><img class=img-fluid src="https://images.unsplash.com/photo-1507925921958-8a62f3d1a50d?crop=bottom&amp;w=160&amp;h=160&amp;fit=crop&amp;auto=compress,format" width=160 height=160 alt="Разнообразие команд ls*" loading=lazy></a></div></div><div class="flex-grow-1 overflow-hidden"><header><div class=node-title><h2 class=h5><a href=/ru/articles/2021/05/5ba03b8a-0505-5d80-bfad-f7a4d66f07b0/ data-bs-toggle=modal data-bs-target=#modal-bb7c3fe8a315f8b29387dd9ec5094715>Разнообразие команд ls*</a></h2></div></header><div class=node-body><p>Команда <code>ls</code> и её разновидности позволяют вывести список директорий, файлов, устройств и различной другой информации. Я расскажу только о некоторых командах <code>ls*</code>, которые присутствуют в большинстве …</p></div></div></article></div><div class="modal fade" id=modal-bb7c3fe8a315f8b29387dd9ec5094715 tabindex=-1 aria-labelledby=modal-bb7c3fe8a315f8b29387dd9ec5094715-label aria-hidden=true><div class="modal-dialog modal-fullscreen"><div class=modal-content><div class=modal-header><h2 class="modal-title fs-5 text-truncate" id=modal-bb7c3fe8a315f8b29387dd9ec5094715-label><a href=/ru/articles/2021/05/5ba03b8a-0505-5d80-bfad-f7a4d66f07b0/>Разнообразие команд ls*</a></h2><button type=button class=btn-close data-bs-dismiss=modal aria-label=Закрыть></button></div><div class=modal-body><div class=node-body><p>Команда <code>ls</code> и её разновидности позволяют вывести список директорий, файлов, устройств и различной другой информации. Я расскажу только о некоторых командах <code>ls*</code>, которые присутствуют в большинстве дистрибутивов Linux.</p><p>Знаю, что есть <code>lsscsi</code>, <code>lsusb</code> и т.п., которые появляются в системе с установкой дополнительных пакетов, но я подобные команды рассматривать не стал. Хотя, по возможности, статью буду дополнять.</p><h2 id=2423782896-ls><a class=link-body-emphasis href=#2423782896-ls>ls</a></h2><p>Команда позволяет вывести список директорий и файлов в текущем каталоге.</p><h3 id=2423782896-некоторые-опции><a class=link-body-emphasis href=#2423782896-%d0%bd%d0%b5%d0%ba%d0%be%d1%82%d0%be%d1%80%d1%8b%d0%b5-%d0%be%d0%bf%d1%86%d0%b8%d0%b8>Некоторые опции</a></h3><ul><li><code>-l</code> - использовать длинный формат отображения.</li><li><code>-S</code> - сортировать по размеру файла.</li><li><code>-t</code> - сортировать по времени модификации.</li><li><code>-a</code> - показать ВСЕ файлы, в том числе скрытые.</li><li><code>-R</code> - рекурсивное отображение директорий и файлов в них.</li><li><code>-h</code> - отображение размеров файлов в человеко-читаемом формате.</li><li><code>--hide='*.txt' -l</code> - игнорировать файлы с форматом <code>.txt</code>.</li></ul><h2 id=2423782896-lscpu><a class=link-body-emphasis href=#2423782896-lscpu>lscpu</a></h2><p>Отображение доступной информации об установленном процессоре.</p><h3 id=2423782896-некоторые-опции-1><a class=link-body-emphasis href=#2423782896-%d0%bd%d0%b5%d0%ba%d0%be%d1%82%d0%be%d1%80%d1%8b%d0%b5-%d0%be%d0%bf%d1%86%d0%b8%d0%b8-1>Некоторые опции</a></h3><ul><li><code>-a</code> - показать ВСЕ CPU, как включённые, так и отключённые.</li></ul><h3 id=2423782896-пример-использования><a class=link-body-emphasis href=#2423782896-%d0%bf%d1%80%d0%b8%d0%bc%d0%b5%d1%80-%d0%b8%d1%81%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d0%be%d0%b2%d0%b0%d0%bd%d0%b8%d1%8f>Пример использования</a></h3><div class="shortcode shortcode-codeblock shortcode-codeblock-0 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class=flex-shrink-0><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-812fe51e3f34b8b9b30c788a3bac556a role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-812fe51e3f34b8b9b30c788a3bac556a><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>lscpu
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Architecture:                    x86_64
</span></span><span class=line><span class=cl>CPU op-mode<span class=o>(</span>s<span class=o>)</span>:                  32-bit, 64-bit
</span></span><span class=line><span class=cl>Byte Order:                      Little Endian
</span></span><span class=line><span class=cl>Address sizes:                   <span class=m>39</span> bits physical, <span class=m>48</span> bits virtual
</span></span><span class=line><span class=cl>CPU<span class=o>(</span>s<span class=o>)</span>:                          <span class=m>12</span>
</span></span><span class=line><span class=cl>On-line CPU<span class=o>(</span>s<span class=o>)</span> list:             0-11
</span></span><span class=line><span class=cl>Thread<span class=o>(</span>s<span class=o>)</span> per core:              <span class=m>2</span>
</span></span><span class=line><span class=cl>Core<span class=o>(</span>s<span class=o>)</span> per socket:              <span class=m>6</span>
</span></span><span class=line><span class=cl>Socket<span class=o>(</span>s<span class=o>)</span>:                       <span class=m>1</span>
</span></span><span class=line><span class=cl>NUMA node<span class=o>(</span>s<span class=o>)</span>:                    <span class=m>1</span>
</span></span><span class=line><span class=cl>Vendor ID:                       GenuineIntel
</span></span><span class=line><span class=cl>CPU family:                      <span class=m>6</span>
</span></span><span class=line><span class=cl>Model:                           <span class=m>165</span>
</span></span><span class=line><span class=cl>Model name:                      Intel<span class=o>(</span>R<span class=o>)</span> Core<span class=o>(</span>TM<span class=o>)</span> i5-10400 CPU @ 2.90GHz
</span></span><span class=line><span class=cl>Stepping:                        <span class=m>5</span>
</span></span><span class=line><span class=cl>CPU MHz:                         2900.000
</span></span><span class=line><span class=cl>CPU max MHz:                     4300.0000
</span></span><span class=line><span class=cl>CPU min MHz:                     800.0000
</span></span><span class=line><span class=cl>BogoMIPS:                        5799.77
</span></span><span class=line><span class=cl>L1d cache:                       <span class=m>192</span> KiB
</span></span><span class=line><span class=cl>L1i cache:                       <span class=m>192</span> KiB
</span></span><span class=line><span class=cl>L2 cache:                        1.5 MiB
</span></span><span class=line><span class=cl>L3 cache:                        <span class=m>12</span> MiB</span></span></code></pre></div></div></div></div><h2 id=2423782896-lspci><a class=link-body-emphasis href=#2423782896-lspci>lspci</a></h2><p>Отображение информации по шине PCI и подключённых к ней устройствах.</p><h3 id=2423782896-пример-использования-1><a class=link-body-emphasis href=#2423782896-%d0%bf%d1%80%d0%b8%d0%bc%d0%b5%d1%80-%d0%b8%d1%81%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d0%be%d0%b2%d0%b0%d0%bd%d0%b8%d1%8f-1>Пример использования</a></h3><div class="shortcode shortcode-codeblock shortcode-codeblock-1 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class=flex-shrink-0><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-94bfd291079fc85f4453d72a4d64a78b role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-94bfd291079fc85f4453d72a4d64a78b><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>lspci
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>00:00.0 Host bridge: Intel Corporation Comet Lake-S 6c Host Bridge/DRAM Controller <span class=o>(</span>rev 05<span class=o>)</span>
</span></span><span class=line><span class=cl>00:01.0 PCI bridge: Intel Corporation 6th-10th Gen Core Processor PCIe Controller <span class=o>(</span>x16<span class=o>)</span> <span class=o>(</span>rev 05<span class=o>)</span>
</span></span><span class=line><span class=cl>00:14.0 USB controller: Intel Corporation Comet Lake USB 3.1 xHCI Host Controller
</span></span><span class=line><span class=cl>00:14.2 RAM memory: Intel Corporation Comet Lake PCH Shared SRAM
</span></span><span class=line><span class=cl>00:14.3 Network controller: Intel Corporation Comet Lake PCH CNVi WiFi
</span></span><span class=line><span class=cl>00:15.0 Serial bus controller <span class=o>[</span>0c80<span class=o>]</span>: Intel Corporation Comet Lake PCH Serial IO I2C Controller <span class=c1>#0</span>
</span></span><span class=line><span class=cl>00:15.1 Serial bus controller <span class=o>[</span>0c80<span class=o>]</span>: Intel Corporation Comet Lake PCH Serial IO I2C Controller <span class=c1>#1</span>
</span></span><span class=line><span class=cl>00:16.0 Communication controller: Intel Corporation Comet Lake HECI Controller
</span></span><span class=line><span class=cl>00:17.0 SATA controller: Intel Corporation Comet Lake SATA AHCI Controller
</span></span><span class=line><span class=cl>00:1d.0 PCI bridge: Intel Corporation Comet Lake PCI Express Root Port <span class=c1>#9 (rev f0)</span>
</span></span><span class=line><span class=cl>00:1f.0 ISA bridge: Intel Corporation Device <span class=m>0684</span>
</span></span><span class=line><span class=cl>00:1f.3 Audio device: Intel Corporation Comet Lake PCH cAVS
</span></span><span class=line><span class=cl>00:1f.4 SMBus: Intel Corporation Comet Lake PCH SMBus Controller
</span></span><span class=line><span class=cl>00:1f.5 Serial bus controller <span class=o>[</span>0c80<span class=o>]</span>: Intel Corporation Comet Lake PCH SPI Controller
</span></span><span class=line><span class=cl>00:1f.6 Ethernet controller: Intel Corporation Ethernet Connection <span class=o>(</span>11<span class=o>)</span> I219-V
</span></span><span class=line><span class=cl>01:00.0 VGA compatible controller: Advanced Micro Devices, Inc. <span class=o>[</span>AMD/ATI<span class=o>]</span> Baffin <span class=o>[</span>Radeon RX <span class=m>550</span> 640SP / RX 560/560X<span class=o>]</span> <span class=o>(</span>rev cf<span class=o>)</span>
</span></span><span class=line><span class=cl>01:00.1 Audio device: Advanced Micro Devices, Inc. <span class=o>[</span>AMD/ATI<span class=o>]</span> Baffin HDMI/DP Audio <span class=o>[</span>Radeon RX <span class=m>550</span> 640SP / RX 560/560X<span class=o>]</span></span></span></code></pre></div></div></div></div><h2 id=2423782896-lsblk><a class=link-body-emphasis href=#2423782896-lsblk>lsblk</a></h2><p>Отображение информации по блочным устройствам.</p><h3 id=2423782896-пример-использования-2><a class=link-body-emphasis href=#2423782896-%d0%bf%d1%80%d0%b8%d0%bc%d0%b5%d1%80-%d0%b8%d1%81%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d0%be%d0%b2%d0%b0%d0%bd%d0%b8%d1%8f-2>Пример использования</a></h3><div class="shortcode shortcode-codeblock shortcode-codeblock-2 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class=flex-shrink-0><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-9c04712a51e9914c411708c5d90a1389 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-9c04712a51e9914c411708c5d90a1389><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>lsblk
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>NAME   MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT
</span></span><span class=line><span class=cl>sda      8:0    <span class=m>0</span> 232.9G  <span class=m>0</span> disk
</span></span><span class=line><span class=cl>├─sda1   8:1    <span class=m>0</span>   200M  <span class=m>0</span> part /boot/efi
</span></span><span class=line><span class=cl>├─sda2   8:2    <span class=m>0</span>     4G  <span class=m>0</span> part /boot
</span></span><span class=line><span class=cl>├─sda3   8:3    <span class=m>0</span>    64G  <span class=m>0</span> part /
</span></span><span class=line><span class=cl>├─sda4   8:4    <span class=m>0</span>    32G  <span class=m>0</span> part <span class=o>[</span>SWAP<span class=o>]</span>
</span></span><span class=line><span class=cl>├─sda5   8:5    <span class=m>0</span>    16G  <span class=m>0</span> part /tmp
</span></span><span class=line><span class=cl>└─sda6   8:6    <span class=m>0</span> 116.7G  <span class=m>0</span> part /home
</span></span><span class=line><span class=cl>sdb      8:16   <span class=m>0</span> 465.8G  <span class=m>0</span> disk
</span></span><span class=line><span class=cl>└─sdb1   8:17   <span class=m>0</span> 465.8G  <span class=m>0</span> part /home/storage.01
</span></span><span class=line><span class=cl>sdc      8:32   <span class=m>1</span> 119.5G  <span class=m>0</span> disk
</span></span><span class=line><span class=cl>└─sdc1   8:33   <span class=m>1</span> 119.5G  <span class=m>0</span> part /run/media/user-0001/USB01
</span></span><span class=line><span class=cl>sdd      8:48   <span class=m>1</span>  59.8G  <span class=m>0</span> disk
</span></span><span class=line><span class=cl>├─sdd1   8:49   <span class=m>1</span>  59.7G  <span class=m>0</span> part /run/media/user-0001/Ventoy
</span></span><span class=line><span class=cl>└─sdd2   8:50   <span class=m>1</span>    32M  <span class=m>0</span> part /run/media/user-0001/VTOYEFI
</span></span><span class=line><span class=cl>zram0  252:0    <span class=m>0</span>     4G  <span class=m>0</span> disk <span class=o>[</span>SWAP<span class=o>]</span></span></span></code></pre></div></div></div></div><h2 id=2423782896-lsmod><a class=link-body-emphasis href=#2423782896-lsmod>lsmod</a></h2><p>Отображение модулей ядра, загруженных в системе.</p><h3 id=2423782896-пример-использования-3><a class=link-body-emphasis href=#2423782896-%d0%bf%d1%80%d0%b8%d0%bc%d0%b5%d1%80-%d0%b8%d1%81%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d0%be%d0%b2%d0%b0%d0%bd%d0%b8%d1%8f-3>Пример использования</a></h3><div class="shortcode shortcode-codeblock shortcode-codeblock-3 shortcode-codeblock-terminal
shortcode-codeblock-terminal-linux
shortcode-codeblock-terminal-linux"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class=flex-shrink-0><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-9a7ad4042dd363ebfa3a910778c14e76 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-9a7ad4042dd363ebfa3a910778c14e76><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>lsmod
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Module                  Size  Used by
</span></span><span class=line><span class=cl>exfat                  <span class=m>81920</span>  <span class=m>1</span>
</span></span><span class=line><span class=cl>f2fs                  <span class=m>700416</span>  <span class=m>1</span>
</span></span><span class=line><span class=cl>uas                    <span class=m>32768</span>  <span class=m>0</span>
</span></span><span class=line><span class=cl>usb_storage            <span class=m>81920</span>  <span class=m>4</span> uas
</span></span><span class=line><span class=cl>snd_seq_dummy          <span class=m>16384</span>  <span class=m>0</span>
</span></span><span class=line><span class=cl>rfcomm                 <span class=m>90112</span>  <span class=m>0</span>
</span></span><span class=line><span class=cl>snd_hrtimer            <span class=m>16384</span>  <span class=m>1</span>
</span></span><span class=line><span class=cl>xt_CHECKSUM            <span class=m>16384</span>  <span class=m>1</span>
</span></span><span class=line><span class=cl>xt_MASQUERADE          <span class=m>20480</span>  <span class=m>3</span>
</span></span><span class=line><span class=cl>xt_conntrack           <span class=m>16384</span>  <span class=m>1</span>
</span></span><span class=line><span class=cl>ipt_REJECT             <span class=m>16384</span>  <span class=m>2</span>
</span></span><span class=line><span class=cl>nft_compat             <span class=m>20480</span>  <span class=m>16</span>
</span></span><span class=line><span class=cl>nf_nat_tftp            <span class=m>16384</span>  <span class=m>0</span>
</span></span><span class=line><span class=cl>nft_objref             <span class=m>16384</span>  <span class=m>1</span>
</span></span><span class=line><span class=cl>nf_conntrack_tftp      <span class=m>20480</span>  <span class=m>3</span> nf_nat_tftp
</span></span><span class=line><span class=cl>nft_counter            <span class=m>16384</span>  <span class=m>33</span>
</span></span><span class=line><span class=cl>tun                    <span class=m>57344</span>  <span class=m>1</span>
</span></span><span class=line><span class=cl>bridge                <span class=m>294912</span>  <span class=m>0</span>
</span></span><span class=line><span class=cl>stp                    <span class=m>16384</span>  <span class=m>1</span> bridge
</span></span><span class=line><span class=cl>llc                    <span class=m>16384</span>  <span class=m>2</span> bridge,stp</span></span></code></pre></div></div></div></div></div></div><div class=modal-footer><ul class="list-inline text-center text-body-secondary small"><li class=list-inline-item><a href=https://lib.onl/ru/tags/linux/>#linux</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/terminal/>#terminal</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/ls/>#ls</a></li><li class=list-inline-item>&bull;</li><li class="list-inline-item text-success" data-bs-tooltip data-bs-title='Уровень сложности: Простой'><i class="far fa-face-smile fa-fw"></i></li><li class=list-inline-item>&bull;</li><li class=list-inline-item><time datetime=2021-05-09T13:44:05Z data-fn=date-local>2021/05/09 13:44:05 UTC</time></li></ul></div></div></div></div></div><div class=col><div class="d-sm-block d-md-none"><article class=node-articles><header><div class="node-cover mb-3"><a title="Первичная настройка UAIK" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2020/06/59781965-afe7-5dd5-9798-d1c5ba6cdafd/ data-bs-toggle=modal data-bs-target=#modal-f3895b710b130cb24aafa39295e79ee3><picture><source srcset='https://images.unsplash.com/photo-1518432031352-d6fc5c10da5a?crop=edges&amp;w=640&amp;h=360&amp;fit=crop&amp;auto=compress,format 640w,https://images.unsplash.com/photo-1518432031352-d6fc5c10da5a?crop=edges&amp;w=768&amp;h=432&amp;fit=crop&amp;auto=compress,format 768w,https://images.unsplash.com/photo-1518432031352-d6fc5c10da5a?crop=edges&amp;w=1024&amp;h=576&amp;fit=crop&amp;auto=compress,format 1024w,https://images.unsplash.com/photo-1518432031352-d6fc5c10da5a?crop=edges&amp;w=1280&amp;h=720&amp;fit=crop&amp;auto=compress,format 1280w,https://images.unsplash.com/photo-1518432031352-d6fc5c10da5a?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format 1600w' sizes="(min-width: 576px) 100vw"><img class=img-fluid src="https://images.unsplash.com/photo-1518432031352-d6fc5c10da5a?crop=edges&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format" width=1600 height=900 alt="Первичная настройка UAIK" loading=lazy></picture></a></div><div class=node-title><h2 class=h5><a href=/ru/articles/2020/06/59781965-afe7-5dd5-9798-d1c5ba6cdafd/ data-bs-toggle=modal data-bs-target=#modal-f3895b710b130cb24aafa39295e79ee3>Первичная настройка UAIK</a></h2></div></header><div class=node-body><p>После автоматической установки (Kickstart) при помощи <a title href=https://uaik.github.io/ target=_blank rel="noopener noreferrer nofollow">UAIK</a> , Fedora запустится в текстовом режиме. На этом этапе необходимо произвести первичную настройку операционной системы.</p></div></article></div><div class="d-none d-md-block"><article class="node-articles d-flex overflow-hidden"><div class="flex-shrink-0 me-3"><div class=node-cover><a title="Первичная настройка UAIK" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2020/06/59781965-afe7-5dd5-9798-d1c5ba6cdafd/ data-bs-toggle=modal data-bs-target=#modal-f3895b710b130cb24aafa39295e79ee3><img class=img-fluid src="https://images.unsplash.com/photo-1518432031352-d6fc5c10da5a?crop=edges&amp;w=160&amp;h=160&amp;fit=crop&amp;auto=compress,format" width=160 height=160 alt="Первичная настройка UAIK" loading=lazy></a></div></div><div class="flex-grow-1 overflow-hidden"><header><div class=node-title><h2 class=h5><a href=/ru/articles/2020/06/59781965-afe7-5dd5-9798-d1c5ba6cdafd/ data-bs-toggle=modal data-bs-target=#modal-f3895b710b130cb24aafa39295e79ee3>Первичная настройка UAIK</a></h2></div></header><div class=node-body><p>После автоматической установки (Kickstart) при помощи <a title href=https://uaik.github.io/ target=_blank rel="noopener noreferrer nofollow">UAIK</a> , Fedora запустится в текстовом режиме. На этом этапе необходимо произвести первичную настройку операционной системы.</p></div></div></article></div><div class="modal fade" id=modal-f3895b710b130cb24aafa39295e79ee3 tabindex=-1 aria-labelledby=modal-f3895b710b130cb24aafa39295e79ee3-label aria-hidden=true><div class="modal-dialog modal-fullscreen"><div class=modal-content><div class=modal-header><h2 class="modal-title fs-5 text-truncate" id=modal-f3895b710b130cb24aafa39295e79ee3-label><a href=/ru/articles/2020/06/59781965-afe7-5dd5-9798-d1c5ba6cdafd/>Первичная настройка UAIK</a></h2><button type=button class=btn-close data-bs-dismiss=modal aria-label=Закрыть></button></div><div class=modal-body><div class=node-body><p>После автоматической установки (Kickstart) при помощи <a title href=https://uaik.github.io/ target=_blank rel="noopener noreferrer nofollow">UAIK</a> , Fedora запустится в текстовом режиме. На этом этапе необходимо произвести первичную настройку операционной системы.</p><h2 id=250885631-включение-графического-режима><a class=link-body-emphasis href=#250885631-%d0%b2%d0%ba%d0%bb%d1%8e%d1%87%d0%b5%d0%bd%d0%b8%d0%b5-%d0%b3%d1%80%d0%b0%d1%84%d0%b8%d1%87%d0%b5%d1%81%d0%ba%d0%be%d0%b3%d0%be-%d1%80%d0%b5%d0%b6%d0%b8%d0%bc%d0%b0>Включение графического режима</a></h2><div class="shortcode shortcode-codeblock shortcode-codeblock-0 shortcode-codeblock-text"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-1f13caf3605ae166769473b4a200e62c><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>systemctl set-default graphical.target</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-1f13caf3605ae166769473b4a200e62c role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><h2 id=250885631-создание-пользователя><a class=link-body-emphasis href=#250885631-%d1%81%d0%be%d0%b7%d0%b4%d0%b0%d0%bd%d0%b8%d0%b5-%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d0%be%d0%b2%d0%b0%d1%82%d0%b5%d0%bb%d1%8f>Создание пользователя</a></h2><div class="shortcode shortcode-codeblock shortcode-codeblock-1 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-80a5e06572c674833bed5d8b568ebfba><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1># Добавить пользователя.</span>
</span></span><span class=line><span class=cl>useradd -mc <span class=s2>&#34;User 0001&#34;</span> user-0001
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Установить пароль для пользователя.</span>
</span></span><span class=line><span class=cl>passwd user-0001</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-80a5e06572c674833bed5d8b568ebfba role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><h2 id=250885631-отключение-пользователя><a class=link-body-emphasis href=#250885631-%d0%be%d1%82%d0%ba%d0%bb%d1%8e%d1%87%d0%b5%d0%bd%d0%b8%d0%b5-%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d0%be%d0%b2%d0%b0%d1%82%d0%b5%d0%bb%d1%8f>Отключение пользователя</a></h2><div class="shortcode shortcode-codeblock shortcode-codeblock-2 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-01af2035d431d3fbcb0cc895b7480a2a><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1># Отключить пользователя.</span>
</span></span><span class=line><span class=cl>usermod -L user-0000</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-01af2035d431d3fbcb0cc895b7480a2a role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><h2 id=250885631-перемещение-пользователя><a class=link-body-emphasis href=#250885631-%d0%bf%d0%b5%d1%80%d0%b5%d0%bc%d0%b5%d1%89%d0%b5%d0%bd%d0%b8%d0%b5-%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d0%be%d0%b2%d0%b0%d1%82%d0%b5%d0%bb%d1%8f>Перемещение пользователя</a></h2><div class="shortcode shortcode-codeblock shortcode-codeblock-3 shortcode-codeblock-text"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-818dcdde94bcb7443325b0b4054a6c47><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>usermod -md /new_home/user-0001 user-0001</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-818dcdde94bcb7443325b0b4054a6c47 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><h2 id=250885631-работа-с-диском><a class=link-body-emphasis href=#250885631-%d1%80%d0%b0%d0%b1%d0%be%d1%82%d0%b0-%d1%81-%d0%b4%d0%b8%d1%81%d0%ba%d0%be%d0%bc>Работа с диском</a></h2><p>Чтобы создать на новом диске раздел, необходимо войти в программу <code>parted</code>:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-4 shortcode-codeblock-text"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-4822255c0f47222a17f81cb957b9c4e9><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>parted -a optimal /dev/sdb</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-4822255c0f47222a17f81cb957b9c4e9 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Выполнить следующие команды:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-5 shortcode-codeblock-text"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-e6ad26024533156930ce173359310b86><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>(parted) mklabel gpt
</span></span><span class=line><span class=cl>(parted) mkpart primary 0% 100%
</span></span><span class=line><span class=cl>(parted) quit</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-e6ad26024533156930ce173359310b86 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Создать файловую систему:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-6 shortcode-codeblock-text"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-f52977d9cc14166a6d9a6715d8485cea><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>mkfs.xfs /dev/sdb1</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-f52977d9cc14166a6d9a6715d8485cea role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Настроить автоматическое монтирование раздела в <code>/etc/fstab</code>:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-7 shortcode-codeblock-text"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-383a27508c80cf525e5f47d437d9af75><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>/dev/sdb1 /home/storage xfs defaults 0 0</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-383a27508c80cf525e5f47d437d9af75 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div></div></div><div class=modal-footer><ul class="list-inline text-center text-body-secondary small"><li class=list-inline-item><a href=https://lib.onl/ru/tags/linux/>#linux</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/fedora/>#fedora</a></li><li class=list-inline-item>&bull;</li><li class="list-inline-item text-success" data-bs-tooltip data-bs-title='Уровень сложности: Простой'><i class="far fa-face-smile fa-fw"></i></li><li class=list-inline-item>&bull;</li><li class=list-inline-item><time datetime=2020-06-02T06:20:27Z data-fn=date-local>2020/06/02 06:20:27 UTC</time></li></ul></div></div></div></div></div><div class=col><div class="d-sm-block d-md-none"><article class=node-articles><header><div class="node-cover mb-3"><a title="Запись ISO на USB Flash Drive" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2020/06/5d90ef6f-f05f-5462-b8a2-28dac0bb2f48/ data-bs-toggle=modal data-bs-target=#modal-49e4a9bedcc5914dc90af40399513113><picture><source srcset='https://images.unsplash.com/photo-1587145820098-23e484e69816?crop=bottom&amp;w=640&amp;h=360&amp;fit=crop&amp;auto=compress,format 640w,https://images.unsplash.com/photo-1587145820098-23e484e69816?crop=bottom&amp;w=768&amp;h=432&amp;fit=crop&amp;auto=compress,format 768w,https://images.unsplash.com/photo-1587145820098-23e484e69816?crop=bottom&amp;w=1024&amp;h=576&amp;fit=crop&amp;auto=compress,format 1024w,https://images.unsplash.com/photo-1587145820098-23e484e69816?crop=bottom&amp;w=1280&amp;h=720&amp;fit=crop&amp;auto=compress,format 1280w,https://images.unsplash.com/photo-1587145820098-23e484e69816?crop=bottom&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format 1600w' sizes="(min-width: 576px) 100vw"><img class=img-fluid src="https://images.unsplash.com/photo-1587145820098-23e484e69816?crop=bottom&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format" width=1600 height=900 alt="Запись ISO на USB Flash Drive" loading=lazy></picture></a></div><div class=node-title><h2 class=h5><a href=/ru/articles/2020/06/5d90ef6f-f05f-5462-b8a2-28dac0bb2f48/ data-bs-toggle=modal data-bs-target=#modal-49e4a9bedcc5914dc90af40399513113>Запись ISO на USB Flash Drive</a></h2></div></header><div class=node-body><p>Команды для &ldquo;правильной&rdquo; записи ISO на USB Flash Drive.</p></div></article></div><div class="d-none d-md-block"><article class="node-articles d-flex overflow-hidden"><div class="flex-shrink-0 me-3"><div class=node-cover><a title="Запись ISO на USB Flash Drive" class="d-flex align-items-center rounded overflow-hidden" href=/ru/articles/2020/06/5d90ef6f-f05f-5462-b8a2-28dac0bb2f48/ data-bs-toggle=modal data-bs-target=#modal-49e4a9bedcc5914dc90af40399513113><img class=img-fluid src="https://images.unsplash.com/photo-1587145820098-23e484e69816?crop=bottom&amp;w=160&amp;h=160&amp;fit=crop&amp;auto=compress,format" width=160 height=160 alt="Запись ISO на USB Flash Drive" loading=lazy></a></div></div><div class="flex-grow-1 overflow-hidden"><header><div class=node-title><h2 class=h5><a href=/ru/articles/2020/06/5d90ef6f-f05f-5462-b8a2-28dac0bb2f48/ data-bs-toggle=modal data-bs-target=#modal-49e4a9bedcc5914dc90af40399513113>Запись ISO на USB Flash Drive</a></h2></div></header><div class=node-body><p>Команды для &ldquo;правильной&rdquo; записи ISO на USB Flash Drive.</p></div></div></article></div><div class="modal fade" id=modal-49e4a9bedcc5914dc90af40399513113 tabindex=-1 aria-labelledby=modal-49e4a9bedcc5914dc90af40399513113-label aria-hidden=true><div class="modal-dialog modal-fullscreen"><div class=modal-content><div class=modal-header><h2 class="modal-title fs-5 text-truncate" id=modal-49e4a9bedcc5914dc90af40399513113-label><a href=/ru/articles/2020/06/5d90ef6f-f05f-5462-b8a2-28dac0bb2f48/>Запись ISO на USB Flash Drive</a></h2><button type=button class=btn-close data-bs-dismiss=modal aria-label=Закрыть></button></div><div class=modal-body><div class=node-body><p>Команды для &ldquo;правильной&rdquo; записи ISO на USB Flash Drive.</p><ol><li>Определить USB-накопитель при помощи команды <code>fdisk -l</code>.</li><li>Отмонтировать ВСЕ разделы с USB-накопителя командой <code>umount /dev/sdX*</code>, где <code>X</code> - буква накопителя (например, <code>umount /dev/sdc*</code>).</li><li>Загрузить ISO на USB-накопитель:</li></ol><div class="shortcode shortcode-codeblock shortcode-codeblock-0 shortcode-codeblock-sh"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-6a49614e8a73426cea4afac944ce847b><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1># Отмонтировать и очистить USB-накопитель.</span>
</span></span><span class=line><span class=cl>umount /dev/sdX* <span class=o>&amp;&amp;</span> sgdisk -Z /dev/sdX
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Записать образ на USB-накопитель.</span>
</span></span><span class=line><span class=cl>dd <span class=k>if</span><span class=o>=</span>image.iso <span class=nv>of</span><span class=o>=</span>/dev/sdX <span class=nv>bs</span><span class=o>=</span>4M <span class=nv>oflag</span><span class=o>=</span>direct <span class=nv>status</span><span class=o>=</span>progress<span class=p>;</span> sync
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Извлечь USB-накопитель.</span>
</span></span><span class=line><span class=cl>eject /dev/sdX</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-6a49614e8a73426cea4afac944ce847b role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div></div></div><div class=modal-footer><ul class="list-inline text-center text-body-secondary small"><li class=list-inline-item><a href=https://lib.onl/ru/tags/linux/>#linux</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/usb/>#usb</a></li><li class=list-inline-item>&bull;</li><li class="list-inline-item text-success" data-bs-tooltip data-bs-title='Уровень сложности: Простой'><i class="far fa-face-smile fa-fw"></i></li><li class=list-inline-item>&bull;</li><li class=list-inline-item><time datetime=2020-06-02T06:20:24Z data-fn=date-local>2020/06/02 06:20:24 UTC</time></li></ul></div></div></div></div></div></div></div></div></main><footer class="mt-auto border-top bg-light" id=site-footer><div class="section py-5 border-bottom"><div class=container><div class="row g-3"><div class=col-lg><article><h2 class="h5 border-bottom pb-1 mb-3">О проекте</h2><div class=node-body><p>Заметки по системному администрированию и веб-разработкам.</p></div></article></div><div class=col-lg><article><h2 class="h5 border-bottom pb-1 mb-3">Ресурсы</h2><div class=node-body><ul><li><a title href=https://kitsune.solar/ target=_blank rel="noopener noreferrer nofollow">Kitsune Solar</a></li><li><a title href=https://uaik.github.io/ target=_blank rel="noopener noreferrer nofollow">UNIX AIK</a></li></ul></div></article></div><div class=col-lg><article><h2 class="h5 border-bottom pb-1 mb-3">Контакты</h2><div class=node-body><ul><li><a title href=mailto:mail@lib.onl target=_self rel>Email</a></li></ul></div></article></div></div></div></div><div class="section py-3"><div class=container><div class="row row-cols-1 row-cols-lg-2 small text-body-secondary align-items-center"><div class="col text-center text-lg-start"><ul class="list-inline mb-0"><li class=list-inline-item><div>Library Online &copy; 2023</div><div>Заметки на тему администрирования и разработки различных систем, приложений и серверов.</div></li></ul></div><div class="col text-center text-lg-end"><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=RSS><a class="btn btn-light btn-sm" href=/ru/categories/linux/index.xml target=_blank aria-label=RSS><i class="fas fa-rss fa-fw"></i></a></li><li class="list-inline-item dropup" data-bs-tooltip data-bs-title=Языки><a class="dropdown-toggle btn btn-light btn-sm" href=# role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false aria-label=Языки><i class="fas fa-language fa-fw"></i></a><div class="dropdown-menu dropdown-menu-end shadow"><a class=dropdown-item href=/ru/ hreflang=ru>Русский
</a><a class=dropdown-item href=/en/ hreflang=en>English</a></div></li></ul></div></div></div></div></footer><div class="modal fade" id=search-modal tabindex=-1 aria-labelledby=searchModalLabel aria-hidden=true><div class="modal-dialog modal-dialog-scrollable modal-xl"><div class=modal-content><div class=modal-header><h5 class=modal-title id=searchModalLabel>Поиск</h5><button type=button class=btn-close data-bs-dismiss=modal aria-label=Закрыть></button></div><div class="modal-body node-body"><div class="row row-cols-1 g-3"><div class=col><div class="row g-3"><div class=col-lg><form action=https://google.com/search method=get class=d-flex target=_blank><input type=hidden name=domains value=lib.onl>
<input type=hidden name=sitesearch value=lib.onl><div class=input-group><span class=input-group-text><i class="fas fa-search fa-fw"></i></span>
<input type=search class=form-control name=q placeholder='Поиск Google' aria-label='Поиск Google'>
<span class=input-group-text><i class="fab fa-google fa-fw"></i></span></div></form></div><div class=col-lg><form action=https://ya.ru/search method=get class=d-flex target=_blank><input type=hidden name=site value=lib.onl><div class=input-group><span class=input-group-text><i class="fas fa-search fa-fw"></i></span>
<input type=search class=form-control name=text placeholder='Поиск Яндекс' aria-label='Поиск Яндекс'>
<span class=input-group-text><i class="fab fa-yandex fa-fw"></i></span></div></form></div></div></div><div class=col><form id=search-form method=get class=d-flex autocomplete=off><div class=input-group><span class=input-group-text><i class="fas fa-search fa-fw"></i></span>
<input id=search-input type=search class=form-control name=q placeholder='Внутренний поиск' aria-label='Внутренний поиск'>
<span class=input-group-text><i class="fas fa-brain fa-fw"></i></span></div></form></div><div class=col><div class="list-group list-group-flush d-none overflow-auto" id=search-results></div><div id=search-help><div class="alert alert-info d-flex align-items-center overflow-hidden node-body" id=alert-60118703512f1891c7ff08400ac279cc role=alert><div class=flex-shrink-0><i class="fas fa-search fa-fw fa-2x"></i></div><div class="flex-grow-1 ms-3 overflow-hidden"><p>Используется нечёткий поиск (приблизительное сопоставление строк).
Это метод поиска строк, которые приблизительно соответствуют поисковому шаблону.</p><p>Результаты поиска сортируются по точности совпадения с поисковым шаблоном.
Результаты поиска, наиболее точно соответствующие запросу, находятся сверху, приблизительные результаты - снизу.</p></div></div></div></div></div></div></div></div></div><script src=/js/vendor.bundle.min.js defer></script><script src=/ru/js/system.bundle.min.js defer></script><script type=application/ld+json>{"@context":"https://schema.org","@id":"https://lib.onl/#website","@type":"WebSite","description":"Заметки на тему администрирования и разработки различных систем, приложений и серверов.","hasPart":[{"@context":"https://schema.org","@type":"WPHeader","cssSelector":"#site-header","headline":"headline-string"},{"@context":"https://schema.org","@type":"WPFooter","copyrightHolder":"https://lib.onl/#organization","copyrightYear":"2023","cssSelector":"#site-footer","publisher":"https://lib.onl/#organization"}],"inLanguage":[{"@type":"Language","alternateName":"ru-RU","name":"Русский"}],"keywords":["powershell","forum","ipb","ips","debian","linux","cmd","cmf","cms","vbulletin","bash","cloudflare","fedora","git","php","systemd","terminal","dhcp","find","gdm"],"mainEntityOfPage":"https://lib.onl/","name":"Library Online","publisher":"https://lib.onl/#organization","url":"https://lib.onl/"}</script><script type=application/ld+json>{"@context":"https://schema.org","@id":"https://lib.onl/#organization","@type":"Organization","address":{"@type":"PostalAddress","addressCountry":"Russia","addressLocality":"Moscow","addressRegion":"Moscow Region"},"contactPoint":{"@type":"ContactPoint","contactType":"customer service","email":"mail@lib.onl","telephone":"+7 (000) 000-0000"},"description":"Заметки на тему администрирования и разработки различных систем, приложений и серверов.","foundingDate":"2020","legalName":"Library Online","logo":{"@type":"ImageObject","url":"https://lib.onl/img/logo.min.svg"},"mainEntityOfPage":"https://lib.onl/","name":"Library Online","sameAs":[""],"url":"https://lib.onl/"}</script><script type=application/ld+json>{"@context":"https://schema.org","@graph":[{"@type":"SiteNavigationElement","name":"Статьи","position":10,"url":"https://lib.onl/ru/articles/"},{"@type":"SiteNavigationElement","name":"Q\u0026A","position":20,"url":"https://lib.onl/ru/faq/"},{"@type":"SiteNavigationElement","name":"Архив","position":100,"url":"https://lib.onl/ru/archive/"},{"@type":"SiteNavigationElement","name":"О проекте","position":999,"url":"https://lib.onl/ru/about/"},{"@type":"SiteNavigationElement","name":"META","position":9999,"url":"https://lib.onl/ru/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":{"@id":"https://lib.onl/ru/","name":"Главная"},"position":1},{"@type":"ListItem","item":{"@id":"https://lib.onl/ru/categories/","name":"Категории"},"position":2},{"@type":"ListItem","item":{"@id":"https://lib.onl/ru/categories/linux/","name":"Linux"},"position":3}]}</script></body></html>