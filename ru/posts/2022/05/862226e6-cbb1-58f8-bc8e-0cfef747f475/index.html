<!doctype html><html class=h-100 dir=ltr lang=ru-RU prefix="og: http://ogp.me/ns#
      article: http://ogp.me/ns/article#
      profile: http://ogp.me/ns/profile#
      fb: http://ogp.me/ns/fb#"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><title>Интеграция обновлений в дистрибутив ОС MS Windows / Library Online</title><meta name=title content="Интеграция обновлений в дистрибутив ОС MS Windows / Library Online"><meta name=description content="Microsoft каждый месяц выпускает новые версии дистрибутивов с уже интегрированными обновлениями. Но есть редакции ОС, например LTSC, для которых Microsoft не выполняет подобные действия. Приходится делать самому&amp;hellip;"><meta name=keywords content="windows,cmd,adk,dism,интеграция"><link rel=preconnect href=https://fonts.googleapis.com crossorigin=anonymous><link rel=preconnect href=https://fonts.gstatic.com crossorigin=anonymous><link rel=preconnect href=https://gravatar.com crossorigin=anonymous><link rel=preconnect href=https://images.unsplash.com crossorigin=anonymous><link rel=preload href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" crossorigin=anonymous as=style onload='this.rel="stylesheet"'><noscript><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" crossorigin=anonymous></noscript><link rel=preload href="https://fonts.googleapis.com/css2?family=PT+Serif:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" crossorigin=anonymous as=style onload='this.rel="stylesheet"'><noscript><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=PT+Serif:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" crossorigin=anonymous></noscript><link rel=preload href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" crossorigin=anonymous as=style onload='this.rel="stylesheet"'><noscript><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" crossorigin=anonymous></noscript><link rel=preload href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" crossorigin=anonymous as=style onload='this.rel="stylesheet"'><noscript><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" crossorigin=anonymous></noscript><link rel=preload href=/css/vendor.bundle.css as=style><link rel=stylesheet href=/css/vendor.bundle.css><link rel=preload href=/ru/css/system.bundle.min.css as=style><link rel=stylesheet href=/ru/css/system.bundle.min.css><link rel=icon type=image/png sizes=16x16 href=https://lib.onl/favicon-16.png><link rel="shortcut icon" type=image/png sizes=16x16 href=https://lib.onl/favicon-16.png><link rel=apple-touch-icon sizes=16x16 href=https://lib.onl/favicon-16.png><link rel=icon type=image/png sizes=24x24 href=https://lib.onl/favicon-24.png><link rel="shortcut icon" type=image/png sizes=24x24 href=https://lib.onl/favicon-24.png><link rel=apple-touch-icon sizes=24x24 href=https://lib.onl/favicon-24.png><link rel=icon type=image/png sizes=32x32 href=https://lib.onl/favicon-32.png><link rel="shortcut icon" type=image/png sizes=32x32 href=https://lib.onl/favicon-32.png><link rel=apple-touch-icon sizes=32x32 href=https://lib.onl/favicon-32.png><link rel=icon type=image/png sizes=48x48 href=https://lib.onl/favicon-48.png><link rel="shortcut icon" type=image/png sizes=48x48 href=https://lib.onl/favicon-48.png><link rel=apple-touch-icon sizes=48x48 href=https://lib.onl/favicon-48.png><link rel=icon type=image/png sizes=64x64 href=https://lib.onl/favicon-64.png><link rel="shortcut icon" type=image/png sizes=64x64 href=https://lib.onl/favicon-64.png><link rel=apple-touch-icon sizes=64x64 href=https://lib.onl/favicon-64.png><link rel=icon type=image/png sizes=72x72 href=https://lib.onl/favicon-72.png><link rel="shortcut icon" type=image/png sizes=72x72 href=https://lib.onl/favicon-72.png><link rel=apple-touch-icon sizes=72x72 href=https://lib.onl/favicon-72.png><link rel=icon type=image/png sizes=80x80 href=https://lib.onl/favicon-80.png><link rel="shortcut icon" type=image/png sizes=80x80 href=https://lib.onl/favicon-80.png><link rel=apple-touch-icon sizes=80x80 href=https://lib.onl/favicon-80.png><link rel=icon type=image/png sizes=96x96 href=https://lib.onl/favicon-96.png><link rel="shortcut icon" type=image/png sizes=96x96 href=https://lib.onl/favicon-96.png><link rel=apple-touch-icon sizes=96x96 href=https://lib.onl/favicon-96.png><link rel=icon type=image/png sizes=128x128 href=https://lib.onl/favicon-128.png><link rel="shortcut icon" type=image/png sizes=128x128 href=https://lib.onl/favicon-128.png><link rel=apple-touch-icon sizes=128x128 href=https://lib.onl/favicon-128.png><link rel=icon type=image/png sizes=144x144 href=https://lib.onl/favicon-144.png><link rel="shortcut icon" type=image/png sizes=144x144 href=https://lib.onl/favicon-144.png><link rel=apple-touch-icon sizes=144x144 href=https://lib.onl/favicon-144.png><link rel=icon type=image/png sizes=152x152 href=https://lib.onl/favicon-152.png><link rel="shortcut icon" type=image/png sizes=152x152 href=https://lib.onl/favicon-152.png><link rel=apple-touch-icon sizes=152x152 href=https://lib.onl/favicon-152.png><link rel=icon type=image/png sizes=167x167 href=https://lib.onl/favicon-167.png><link rel="shortcut icon" type=image/png sizes=167x167 href=https://lib.onl/favicon-167.png><link rel=apple-touch-icon sizes=167x167 href=https://lib.onl/favicon-167.png><link rel=icon type=image/png sizes=180x180 href=https://lib.onl/favicon-180.png><link rel="shortcut icon" type=image/png sizes=180x180 href=https://lib.onl/favicon-180.png><link rel=apple-touch-icon sizes=180x180 href=https://lib.onl/favicon-180.png><link rel=icon type=image/png sizes=192x192 href=https://lib.onl/favicon-192.png><link rel="shortcut icon" type=image/png sizes=192x192 href=https://lib.onl/favicon-192.png><link rel=apple-touch-icon sizes=192x192 href=https://lib.onl/favicon-192.png><link rel=icon type=image/png sizes=196x196 href=https://lib.onl/favicon-196.png><link rel="shortcut icon" type=image/png sizes=196x196 href=https://lib.onl/favicon-196.png><link rel=apple-touch-icon sizes=196x196 href=https://lib.onl/favicon-196.png><link rel=icon type=image/png sizes=256x256 href=https://lib.onl/favicon-256.png><link rel="shortcut icon" type=image/png sizes=256x256 href=https://lib.onl/favicon-256.png><link rel=apple-touch-icon sizes=256x256 href=https://lib.onl/favicon-256.png><link rel=icon type=image/png sizes=300x300 href=https://lib.onl/favicon-300.png><link rel="shortcut icon" type=image/png sizes=300x300 href=https://lib.onl/favicon-300.png><link rel=apple-touch-icon sizes=300x300 href=https://lib.onl/favicon-300.png><link rel=icon type=image/png sizes=512x512 href=https://lib.onl/favicon-512.png><link rel="shortcut icon" type=image/png sizes=512x512 href=https://lib.onl/favicon-512.png><link rel=apple-touch-icon sizes=512x512 href=https://lib.onl/favicon-512.png><link rel=icon type=image/svg+xml sizes=any href=https://lib.onl/favicon.svg><link rel="shortcut icon" type=image/x-icon href=https://lib.onl/favicon.ico><link rel="shortcut icon" type=image/vnd.microsoft.icon href=https://lib.onl/favicon.ico><link rel=canonical href=https://lib.onl/ru/posts/2022/05/862226e6-cbb1-58f8-bc8e-0cfef747f475/><link rel=alternate href=https://lib.onl/ hreflang=x-default><link rel=alternate href=https://lib.onl/ru/posts/2022/05/862226e6-cbb1-58f8-bc8e-0cfef747f475/ hreflang=ru><link rel=manifest type=application/manifest+json href=https://lib.onl/ru/manifest.json title="Library Online"><link rel=search type=application/opensearchdescription+xml href=https://lib.onl/ru/opensearch.xml title="Library Online"><link rel=alternate type=application/json href=https://lib.onl/ru/posts/2022/05/862226e6-cbb1-58f8-bc8e-0cfef747f475/index.json title="Library Online"><meta name=application-name content="Library Online"><meta name=theme-color content="#f8f9fa" media="(prefers-color-scheme: light)"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://images.unsplash.com/photo-1620843002805-05a08cb72f57"><meta name=twitter:title content="Интеграция обновлений в дистрибутив ОС MS Windows"><meta name=twitter:description content="Microsoft каждый месяц выпускает новые версии дистрибутивов с уже интегрированными обновлениями. Но есть редакции ОС, например LTSC, для которых Microsoft не выполняет подобные действия. Приходится делать самому&mldr;"><meta property="og:title" content="Интеграция обновлений в дистрибутив ОС MS Windows"><meta property="og:description" content="Microsoft каждый месяц выпускает новые версии дистрибутивов с уже интегрированными обновлениями. Но есть редакции ОС, например LTSC, для которых Microsoft не выполняет подобные действия. Приходится делать самому&mldr;"><meta property="og:type" content="article"><meta property="og:url" content="https://lib.onl/ru/posts/2022/05/862226e6-cbb1-58f8-bc8e-0cfef747f475/"><meta property="og:image" content="https://images.unsplash.com/photo-1620843002805-05a08cb72f57"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-05-09T15:39:47+03:00"><meta property="article:modified_time" content="2022-05-09T15:39:47+03:00"><meta property="twitter:domain" content="lib.onl"><meta property="twitter:url" content="https://lib.onl/ru/posts/2022/05/862226e6-cbb1-58f8-bc8e-0cfef747f475/"><meta property="og:locale" content="ru_RU"><meta property="og:site_name" content="Library Online"><meta name=aiturec:title content="Интеграция обновлений в дистрибутив ОС MS Windows"><meta property="aiturec:description" content="Microsoft каждый месяц выпускает новые версии дистрибутивов с уже интегрированными обновлениями. Но есть редакции ОС, например LTSC, для которых Microsoft не выполняет подобные действия. Приходится делать самому&mldr;"><meta property="aiturec:item_id" content="862226e6-cbb1-58f8-bc8e-0cfef747f475"><meta property="aiturec:datetime" content="2022-05-09T12:39:47Z"><meta property="aiturec:image" content="https://images.unsplash.com/photo-1620843002805-05a08cb72f57"><meta property="vk:image" content="https://images.unsplash.com/photo-1620843002805-05a08cb72f57"><meta property="article:author" content="Kitsune Solar"><meta property="article:tag" content="windows"><meta property="article:tag" content="cmd"><meta property="article:tag" content="adk"><meta property="article:tag" content="dism"><meta property="article:tag" content="интеграция"><meta name=DC.Title content="Интеграция обновлений в дистрибутив ОС MS Windows"><meta name=DC.Subject content="Microsoft каждый месяц выпускает новые версии дистрибутивов с уже интегрированными обновлениями. Но есть редакции ОС, например LTSC, для которых Microsoft не выполняет подобные действия. Приходится делать самому&mldr;"><meta name=DC.Description content="Microsoft каждый месяц выпускает новые версии дистрибутивов с уже интегрированными обновлениями. Но есть редакции ОС, например LTSC, для которых Microsoft не выполняет подобные действия. Приходится делать самому&mldr;"><meta name=DC.Type content="Text"><meta name=DC.Source content="https://lib.onl/ru/posts/2022/05/862226e6-cbb1-58f8-bc8e-0cfef747f475/"><meta name=DC.Relation content="https://lib.onl/ru/posts/2022/05/862226e6-cbb1-58f8-bc8e-0cfef747f475/"><meta name=DC.Coverage content="World"><meta name=DC.Creator content="Library Online"><meta name=DC.Publisher content="Library Online"><meta name=DC.Contributor content="Library Online"><meta name=DC.Rights content="Library Online"><meta name=DC.Format content="Digital"><meta name=DC.Identifier content="https://lib.onl/ru/posts/2022/05/862226e6-cbb1-58f8-bc8e-0cfef747f475/"><meta name=DC.Language content="ru-RU"><meta name=DC.Provenance content="Library Online"><meta name=DC.RightsHolder content="Library Online"><meta name=DC.AccrualPeriodicity content="Weekly"><meta name=DC.AccrualPolicy content="Active"><script type=application/ld+json>{"@context":"https://schema.org","@type":"WebSite","name":"Library Online","url":"https://lib.onl/"}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","address":{"@type":"PostalAddress","addressCountry":"","addressLocality":"","addressRegion":"","postalCode":"","streetAddress":""},"contactPoint":{"@type":"ContactPoint","contactType":"","email":"","telephone":""},"description":"Заметки на тему администрирования и разработки различных систем, приложений и серверов.","foundingDate":"","legalName":"Library Online","logo":"https://lib.onl/","name":"Library Online","sameAs":[],"url":"https://lib.onl/"}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"ItemList","itemListElement":[{"@type":"SiteNavigationElement","name":"Статьи","position":10,"url":"https://lib.onl/ru/posts/"},{"@type":"SiteNavigationElement","name":"Архив","position":100,"url":"https://lib.onl/ru/archive/"},{"@type":"SiteNavigationElement","name":"О проекте","position":999,"url":"https://lib.onl/ru/about/"},{"@type":"SiteNavigationElement","name":"META","position":9999,"url":"https://lib.onl/ru/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://lib.onl/ru/","name":"Главная","position":1},{"@type":"ListItem","item":"https://lib.onl/ru/posts/","name":"Статьи","position":2},{"@type":"ListItem","item":"https://lib.onl/ru/posts/2022/05/862226e6-cbb1-58f8-bc8e-0cfef747f475/","name":"Интеграция обновлений в дистрибутив ОС MS Windows","position":3}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","articleBody":"Microsoft каждый месяц выпускает новые версии дистрибутивов с уже интегрированными обновлениями. Но есть редакции ОС, например LTSC, для которых Microsoft не выполняет подобные действия. Приходится делать самому\u0026hellip;\nПодготовка Для интеграции обновлений в дистрибутив ОС, потребуется:\nДистрибутив операционной системы в файле .iso. Доступ в интернет для скачивания необходимых инструментов и обновлений. Рекомендуется SSD. Все ниже приведённые этапы требуют активной работы с файлами. Поэтому, существенное ускорение можно получить выполняя все задачи на SSD. Структура директорий Для начала необходимо создать структуру директорий, которая послужит базисом для процесса интеграции обновлений:\nC:\\BuildFarm - корневая директория для работы. \\MNT - директория, в которую будет монтироваться образ WIM. \\UPD - директория для хранения скаченных обновлений. \\WIM - директория для хранения образа WIM. MS DISM Для интеграции обновлений потребуется инструмент Deployment Image Servicing and Management (DISM) (DISM.exe), который входит в комплект Windows Assessment and Deployment Kit (Windows ADK). Обычно, DISM уже поставляется с операционной системой, но я рекомендую скачивать последнюю версию с сайта Microsoft и устанавливать вручную.\nКогда Windows ADK установлен, DISM можно найти в меню \u0026ldquo;Пуск\u0026rdquo; вместе с остальными программам. Запускать DISM необходимо под администратором. Все команды, приведённые ниже, должны будут выполняться только через установленный вручную DISM. Использовать DISM, поставляемый с операционной системой нет необходимости.\nУстановленный вручную DISM можно найти в меню \u0026ldquo;Пуск\u0026rdquo; / Windows Kits / Среда средств развертывания и работы с образами.\nИнтеграция обновлений Обновления можно скачивать с сайта-каталога Microsoft Update Catalog. Я беру так называемые \u0026ldquo;кумулятивные (накопительные) обновления\u0026rdquo; (cumulative updates), содержащие в себе сразу множество пакетов с исправлениями и обновлениями функций. Найти такие крупные обновления можно в каталоге при помощи поискового запроса cumulative update.\nСкачиваемые обновления помещаются в директорию C:\\BuildFarm\\UPD для дальнейшей интеграции в дистрибутив ОС.\nИзвлечение файла WIM из дистрибутива MS Windows Образ ОС находится в специальном файле sources\\install.wim. Его необходимо извлечь при помощи программ для работы с файлами .iso (подойдёт UltraISO или PowerISO) в директорию C:\\BuildFarm\\WIM.\nПолучение информации из WIM-образа Файл install.wim может содержать несколько редакций ОС. Каждая редакция ОС имеет свой индекс. Для того, чтобы увидеть эти индексы, нужно ввести команду:\nDism /Get-ImageInfo /ImageFile:\u0026#34;C:\\BuildFarm\\WIM\\install.wim\u0026#34; Где:\n/Get-ImageInfo - получить информацию о версиях операционной системы, находящихся в WIM-образ. /ImageFile - путь к WIM-образу. Введённая команда предоставит примерно такой выхлоп:\nТерминал Dism /Get-ImageInfo /ImageFile:\u0026#34;C:\\BuildFarm\\WIM\\install.wim\u0026#34; Details for image : C:\\BuildFarm\\WIM\\install.wim Index : 1 Name : Windows 10 Education Description : Windows 10 Education Size : 15,643,499,526 bytes Index : 2 Name : Windows 10 Education N Description : Windows 10 Education N Size : 14,878,972,660 bytes Index : 3 Name : Windows 10 Enterprise Description : Windows 10 Enterprise Size : 15,643,653,521 bytes Index : 4 Name : Windows 10 Enterprise N Description : Windows 10 Enterprise N Size : 14,878,878,937 bytes Index : 5 Name : Windows 10 Pro Description : Windows 10 Pro Size : 15,658,943,281 bytes \u0026lt;...\u0026gt; Extract Specific Windows Index from Windows 10 Multiple Edition ISO Монтирование WIM-образа Индексы получены. Теперь необходимо примонтировать редакцию ОС из конкретного индекса. Выбор индекса зависит от вас: выбираете индекс той редакции ОС, которая вам необходима. Я выбрал редакцию Windows 10 Pro с индексом 5:\nDism /Mount-Image /ImageFile:\u0026#34;C:\\BuildFarm\\WIM\\install.wim\u0026#34; /MountDir:\u0026#34;C:\\BuildFarm\\MNT\u0026#34; /index:5 Где:\n/Mount-Image - команда на монтирование WIM-образа. /MountDir - путь к директории, в которую необходимо поместить содержимое монтируемого WIM-образа. /index:5 - номер версии дистрибутива ОС. Номер можно узнать командой /Get-ImageInfo. Если что-то пошло не так, размонтировать образ без сохранения можно следующей командой:\nDism /Unmount-Image /MountDir:\u0026#34;C:\\BuildFarm\\MNT\u0026#34; /Discard Проверить список примонтированных образов можно следующей командой:\nDism /Get-MountedImageInfo Если после размонтирования образ всё ещё остаётся подключённым к системе и является повреждённым, следующая команда можешь помочь:\nDism /Cleanup-Mountpoints Она удалит все ресурсы, связанные с повреждённым образом и очистит систему от \u0026ldquo;зависших\u0026rdquo; точек монтирования.\nИнтеграция обновлений в WIM-образ После монтирования редакции ОС с конкретным индексом, можно начинать процесс интеграции обновлений:\nDism /Image:\u0026#34;C:\\BuildFarm\\MNT\u0026#34; /Add-Package /PackagePath:\u0026#34;C:\\BuildFarm\\UPD\u0026#34; Где:\n/Image - путь к директории, в которой находится содержимое примонтированного WIM-образа. /Add-Package - команда на добавление пакетов (обновлений) в WIM-образ. /PackagePath - путь к директории, в которой находятся пакеты (обновления) для интеграции в WIM-образ. Проверка корректности интеграции обновлений (опционально) По окончании процесса интеграции, можно проверить корректность выполненной задачи. Команда ниже покажет список пакетов, установленных в примонтированной редакции ОС. В этом списке пакетов будут интегрированные обновления.\nDism /Image:\u0026#34;C:\\BuildFarm\\MNT\u0026#34; /Get-Packages Где:\n/Image - путь к директории, в которой находится содержимое примонтированного WIM-образа. /Get-Packages - команда для получения информации о интегрированных пакетах примонтированного WIM-образа. Очистка хранилища компонентов WIM-образ (опционально) Для уменьшения размера дистрибутива можно запустить процедуру удаления предыдущих версий компонентов, которые были изменены (заменены) установленными обновлениями:\nDism /Image:\u0026#34;C:\\BuildFarm\\MNT\u0026#34; /Cleanup-Image /StartComponentCleanup /ResetBase Где:\n/Image - путь к директории, в которой находится содержимое примонтированного WIM-образа. /Cleanup-Image - очистка и восстановление образа. /StartComponentCleanup - удаляет заменённые компоненты и уменьшает размер хранилища компонентов. /ResetBase - сброс базы заменяемых компонентов. Проверка хранилища компонентов WIM-образа (опционально) Опциональный шаг перед заключительным этапом - проверить системные компоненты и файлы на повреждения:\nDism /Image:\u0026#34;C:\\BuildFarm\\MNT\u0026#34; /Cleanup-Image /ScanHealth Где:\n/Image - путь к директории, в которой находится содержимое примонтированного WIM-образа. /Cleanup-Image - очистка и восстановление образа. /ScanHealth - сканирование образа на наличие повреждений хранилища компонентов. Сохранение изменений в WIM-образе После выполнения всех действий, необходимо отмонтировать редакцию ОС с сохранением изменений. Делается это командой:\nDism /Unmount-Image /MountDir:\u0026#34;C:\\BuildFarm\\MNT\u0026#34; /Commit Где:\n/Unmount-Image - команда для отмонтирования WIM-образа. /MountDir - путь к директории, в которой находится содержимое примонтированного WIM-образа. /Commit - сохранение совершённых изменений в WIM-образе. Всё. Мы получили файл install.wim с интегрированными обновлениями. Теперь этот файл install.wim необходимо обратно упаковать в образ ISO с заменой старого.\nАвтоматизация Я люблю автоматизировать всё по максимуму. И здесь я не упустил шанс написать небольшой скрипт с деревянной логикой, который сделает все шаги по интеграции обновлений за человека. Только вот, извлечь файл install.wim из ISO-образа придётся самому.\ndism.packages.cmd :: Automatic integration of updates into DISM. :: :: @package CMD :: @author Kitsune Solar \u0026lt;mail@kitsune.solar\u0026gt; :: @copyright 2023 iHub TO :: @license MIT :: @version 0.1.0 :: @link https://lib.onl/ru/posts/2022/05/862226e6-cbb1-58f8-bc8e-0cfef747f475/ :: ------------------------------------------------------------------------------------------------------------------ :: @echo off set d_mnt=\u0026#34;%~dp0MNT\u0026#34; set d_upd=\u0026#34;%~dp0UPD\u0026#34; set d_wim=\u0026#34;%~dp0WIM\u0026#34; set f_wim=\u0026#34;%d_wim%\\install.wim\u0026#34; :: Creating directories. if not exist \u0026#34;%d_mnt%\u0026#34; mkdir \u0026#34;%d_mnt%\u0026#34; if not exist \u0026#34;%d_upd%\u0026#34; mkdir \u0026#34;%d_upd%\u0026#34; if not exist \u0026#34;%d_wim%\u0026#34; mkdir \u0026#34;%d_wim%\u0026#34; :: Checking files. if not exist \u0026#34;%f_wim%\u0026#34; echo Please put \u0026#34;install.wim\u0026#34; file in \u0026#34;WIM\u0026#34; directory... \u0026amp;\u0026amp; pause if not exist \u0026#34;%d_upd%/*.msu\u0026#34; echo Please put \u0026#34;*.msu\u0026#34; files in \u0026#34;UPD\u0026#34; directory... \u0026amp;\u0026amp; pause if exist \u0026#34;%f_wim%\u0026#34; ( echo Getting Windows Image Info... Dism /Get-ImageInfo /ImageFile:\u0026#34;%f_wim%\u0026#34; ) else ( echo \u0026#34;install.wim\u0026#34; not found! \u0026amp; echo.Failed with error #%errorlevel%. goto :error ) set /p index=\u0026#34;Enter INDEX: \u0026#34; echo Mounting Windows image... Dism /Mount-Image /ImageFile:\u0026#34;%f_wim%\u0026#34; /MountDir:\u0026#34;%d_mnt%\u0026#34; /index:%index% echo Adding Windows packages... Dism /Image:\u0026#34;%d_mnt%\u0026#34; /Add-Package /PackagePath:\u0026#34;%d_upd%\u0026#34; echo Getting Windows packages... Dism /Image:\u0026#34;%d_mnt%\u0026#34; /Get-Packages echo Reseting Windows image... Dism /Image:\u0026#34;%d_mnt%\u0026#34; /Cleanup-Image /StartComponentCleanup /ResetBase echo Scaning health Windows image... Dism /Image:\u0026#34;%d_mnt%\u0026#34; /Cleanup-Image /ScanHealth echo Saving Windows image... Dism /Unmount-Image /MountDir:\u0026#34;%d_mnt%\u0026#34; /Commit exit /b 0 :error exit /b %errorlevel% Поместить скрипт нужно в корень директории BuildFarm и запустить из терминала DISM. Если же возникнут какие-либо проблемы, ниже есть небольшой скрипт, который размонтирует образ и очистит систему от точек монтирования.\ndism.unmount.cmd :: Automatic unmounting WIM images into DISM. :: :: @package CMD :: @author Kitsune Solar \u0026lt;mail@kitsune.solar\u0026gt; :: @copyright 2023 iHub TO :: @license MIT :: @version 0.1.0 :: @link https://lib.onl/ru/posts/2022/05/862226e6-cbb1-58f8-bc8e-0cfef747f475/ :: ------------------------------------------------------------------------------------------------------------------ :: @echo off set d_mnt=\u0026#34;%~dp0MNT\u0026#34; echo Unmounting \u0026#34;install.wim\u0026#34; and discards changes that were made when image was mounted... Dism /Unmount-Image /MountDir:\u0026#34;%d_mnt%\u0026#34; /Discard echo Deleting all of resources associated with a mounted image that has been corrupted... Dism /Cleanup-Mountpoints echo Getting information about mounted image... Dism /Get-MountedImageInfo exit /b 0 ","author":[{"@type":"Person","name":"Kitsune Solar","url":"https://lib.onl/ru/authors/kitsunesolar/"}],"dateCreated":"2022-05-09T12:39:47Z","dateModified":"2022-05-09T12:39:47Z","datePublished":"2022-05-09T12:39:47Z","description":"Microsoft каждый месяц выпускает новые версии дистрибутивов с уже интегрированными обновлениями. Но есть редакции ОС, например LTSC, для которых Microsoft не выполняет подобные действия. Приходится делать самому\u0026hellip;\n","headline":"Интеграция обновлений в дистрибутив ОС MS Windows","image":"https://images.unsplash.com/photo-1620843002805-05a08cb72f57","inLanguage":"ru","keywords":"windows, cmd, adk, dism, интеграция","mainEntityOfPage":{"@id":"https://lib.onl/ru/posts/2022/05/862226e6-cbb1-58f8-bc8e-0cfef747f475/","@type":"WebPage"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://lib.onl/img/logo.min.svg"},"name":"Library Online"},"url":"https://lib.onl/ru/posts/2022/05/862226e6-cbb1-58f8-bc8e-0cfef747f475/","wordCount":1217}</script></head><body class="d-flex flex-column h-100 is-page type-posts"><header><nav class="navbar navbar-expand-lg navbar-light fixed-top border-bottom shadow-sm text-lg-center bg-light"><div class=container-fluid><a class=navbar-brand href=/ru/><img src=https://lib.onl/img/logo.min.svg alt=Логотип width=30 height=24 class="d-inline-block align-text-top"><h2 class="d-inline-block h5 m-0 ms-1">Library Online</h2></a><button type=button class=navbar-toggler data-bs-toggle=collapse data-bs-target=#navTopBar aria-controls=navTopBar aria-expanded=false aria-label='Переключить навигацию'>
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navTopBar><ul class="navbar-nav me-auto"><li class=nav-item><a class=nav-link href=/ru/posts/><i class="fas fa-book fa-fw"></i>
<span>Статьи</span></a></li><li class=nav-item><a class=nav-link href=/ru/archive/><i class="fas fa-archive fa-fw"></i>
<span>Архив</span></a></li><li class=nav-item><a class=nav-link href=/ru/about/><i class="fas fa-info-circle fa-fw"></i>
<span>О проекте</span></a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# role=button data-bs-toggle=dropdown aria-expanded=false><i class="fas fa-list fa-fw"></i>
<span>META</span></a><div class="dropdown-menu shadow"><a class=dropdown-item href=/ru/authors/><i class="fas fa-user-circle fa-fw"></i>
<span>Авторы</span></a>
<a class=dropdown-item href=/ru/categories/><i class="fas fa-folder-open fa-fw"></i>
<span>Категории</span></a>
<a class=dropdown-item href=/ru/tags/><i class="fas fa-tags fa-fw"></i>
<span>Теги</span></a></div></li></ul><ul class=navbar-nav><li class=nav-item><a class="nav-link d-lg-none" href=# data-bs-toggle=modal data-bs-target=#search-modal aria-label=Поиск><i class="fas fa-search fa-fw"></i>
<span>Поиск</span></a>
<a class="nav-link d-none d-lg-block" href=# data-bs-toggle=modal data-bs-target=#search-modal data-bs-tooltip data-bs-title=Поиск aria-label=Поиск><i class="fas fa-search fa-fw"></i></a></li></ul></div></div></nav></header><main class="wrapper flex-shrink-0"><div class="section py-3"><div class=container><nav style="--bs-breadcrumb-divider:'\2f '" class=small aria-label=breadcrumb><ol class="breadcrumb bg-light p-2 rounded"><li class=breadcrumb-item><a href=/ru/ aria-label=Главная><i class="fas fa-home fa-fw"></i></a></li><li class=breadcrumb-item><a href=/ru/posts/ aria-label=Статьи>Статьи</a></li><li class="breadcrumb-item active">Интеграция обновлений в дистрибутив ОС MS Windows</li></ol></nav><article><header><div class="node-cover mb-3"><a title="Интеграция обновлений в дистрибутив ОС MS Windows" class=d-block href=/ru/posts/2022/05/862226e6-cbb1-58f8-bc8e-0cfef747f475/><picture><source srcset='https://images.unsplash.com/photo-1620843002805-05a08cb72f57?crop=entropy&amp;w=640&amp;h=360&amp;fit=crop&amp;auto=compress,format 640w,https://images.unsplash.com/photo-1620843002805-05a08cb72f57?crop=entropy&amp;w=768&amp;h=432&amp;fit=crop&amp;auto=compress,format 768w,https://images.unsplash.com/photo-1620843002805-05a08cb72f57?crop=entropy&amp;w=1024&amp;h=576&amp;fit=crop&amp;auto=compress,format 1024w,https://images.unsplash.com/photo-1620843002805-05a08cb72f57?crop=entropy&amp;w=1280&amp;h=720&amp;fit=crop&amp;auto=compress,format 1280w,https://images.unsplash.com/photo-1620843002805-05a08cb72f57?crop=entropy&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format 1600w' sizes="(min-width: 576px) 100vw"><img class="d-block w-100 h-100 rounded" src="https://images.unsplash.com/photo-1620843002805-05a08cb72f57?crop=entropy&amp;w=1600&amp;h=900&amp;fit=crop&amp;auto=compress,format" width=1600 height=900 alt="Интеграция обновлений в дистрибутив ОС MS Windows"></picture></a></div><div class=node-title><h1 class=text-center>Интеграция обновлений в дистрибутив ОС MS Windows</h1></div></header><footer><ul class="list-inline text-center text-body-secondary small"><li class=list-inline-item><time datetime=2022-05-09T12:39:47Z data-fn=date-local>2022/05/09 12:39:47 UTC</time></li><li class=list-inline-item>&bull;</li><li class="list-inline-item text-warning" data-bs-tooltip data-bs-title='Уровень сложности: Средний'><i class="far fa-face-meh fa-fw"></i></li></ul></footer><ul class="nav nav-tabs mb-3" id=node-tabs-d2bbdaac4500205b96e5476e7ca4d868 data-fn=node-tabs role=tablist><li class=nav-item role=presentation data-bs-tooltip data-bs-title=Главная><button class="nav-link active" id=tab-main-home type=button role=tab data-bs-toggle=tab data-bs-target=#tab-pane-main-home aria-controls=tab-pane-main-home aria-selected=true aria-label=Главная>
<i class="fas fa-home fa-fw"></i></button></li><li class=nav-item role=presentation data-bs-tooltip data-bs-title='Журнал изменений'><button class=nav-link id=tab-main-changelog type=button role=tab data-bs-toggle=tab data-bs-target=#tab-pane-main-changelog aria-controls=tab-pane-main-changelog aria-selected=false aria-label='Журнал изменений'>
<i class="far fa-clock fa-fw"></i></button></li><li class=nav-item role=presentation data-bs-tooltip data-bs-title=Информация><button class=nav-link id=tab-main-info type=button role=tab data-bs-toggle=tab data-bs-target=#tab-pane-main-info aria-controls=tab-pane-main-info aria-selected=false aria-label=Информация>
<i class="fas fa-info fa-fw"></i></button></li><li class=nav-item role=presentation data-bs-tooltip data-bs-title=Комментарии><button class=nav-link id=tab-main-comments type=button role=tab data-bs-toggle=tab data-bs-target=#tab-pane-main-comments aria-controls=tab-pane-main-comments aria-selected=false aria-label=Комментарии>
<i class="far fa-comments fa-fw"></i></button></li><li class="nav-item ms-auto" role=presentation data-bs-tooltip data-bs-title=Поделиться><button class=nav-link id=tab-main-share type=button role=tab data-bs-toggle=tab data-bs-target=#tab-pane-main-share aria-controls=tab-pane-main-share aria-selected=false aria-label=Поделиться>
<i class="fas fa-share fa-fw"></i></button></li></ul><div class=tab-content><div class="tab-pane show active" id=tab-pane-main-home role=tabpanel aria-labelledby=tab-main-home tabindex=0><div class=node-body><div class="node-toc mb-3"><div class=accordion id=accordion-toc-d2bbdaac4500205b96e5476e7ca4d868><div class=accordion-item><h2 class=accordion-header><button class="accordion-button collapsed" type=button data-bs-toggle=collapse data-bs-target=#collapse-toc-d2bbdaac4500205b96e5476e7ca4d868 aria-expanded=false aria-controls=collapse-toc-d2bbdaac4500205b96e5476e7ca4d868>
Содержание</button></h2><div id=collapse-toc-d2bbdaac4500205b96e5476e7ca4d868 class="accordion-collapse collapse" data-bs-parent=#accordion-toc-d2bbdaac4500205b96e5476e7ca4d868><div class=accordion-body><nav id=TableOfContents><ul><li><a href=#подготовка>Подготовка</a><ul><li><a href=#структура-директорий>Структура директорий</a></li><li><a href=#ms-dism>MS DISM</a></li></ul></li><li><a href=#интеграция-обновлений>Интеграция обновлений</a><ul><li><a href=#извлечение-файла-wim-из-дистрибутива-ms-windows>Извлечение файла WIM из дистрибутива MS Windows</a></li><li><a href=#получение-информации-из-wim-образа>Получение информации из WIM-образа</a></li><li><a href=#монтирование-wim-образа>Монтирование WIM-образа</a></li><li><a href=#интеграция-обновлений-в-wim-образ>Интеграция обновлений в WIM-образ</a></li><li><a href=#проверка-корректности-интеграции-обновлений-опционально>Проверка корректности интеграции обновлений (опционально)</a></li><li><a href=#очистка-хранилища-компонентов-wim-образ-опционально>Очистка хранилища компонентов WIM-образ (опционально)</a></li><li><a href=#проверка-хранилища-компонентов-wim-образа-опционально>Проверка хранилища компонентов WIM-образа (опционально)</a></li><li><a href=#сохранение-изменений-в-wim-образе>Сохранение изменений в WIM-образе</a></li></ul></li><li><a href=#автоматизация>Автоматизация</a></li></ul></nav></div></div></div></div></div><p>Microsoft каждый месяц выпускает новые версии дистрибутивов с уже интегрированными обновлениями. Но есть редакции ОС, например LTSC, для которых Microsoft не выполняет подобные действия. Приходится делать самому&mldr;</p><h2 id=подготовка><a class=link-body-emphasis href=#%d0%bf%d0%be%d0%b4%d0%b3%d0%be%d1%82%d0%be%d0%b2%d0%ba%d0%b0>Подготовка</a></h2><p>Для интеграции обновлений в дистрибутив ОС, потребуется:</p><ul><li>Дистрибутив операционной системы в файле <code>.iso</code>.</li><li>Доступ в интернет для скачивания необходимых инструментов и обновлений.</li><li>Рекомендуется <strong>SSD</strong>. Все ниже приведённые этапы требуют активной работы с файлами. Поэтому, существенное ускорение можно получить выполняя все задачи на SSD.</li></ul><h3 id=структура-директорий><a class=link-body-emphasis href=#%d1%81%d1%82%d1%80%d1%83%d0%ba%d1%82%d1%83%d1%80%d0%b0-%d0%b4%d0%b8%d1%80%d0%b5%d0%ba%d1%82%d0%be%d1%80%d0%b8%d0%b9>Структура директорий</a></h3><p>Для начала необходимо создать структуру директорий, которая послужит базисом для процесса интеграции обновлений:</p><ul><li><code>C:\BuildFarm</code> - корневая директория для работы.<ul><li><code>\MNT</code> - директория, в которую будет монтироваться образ WIM.</li><li><code>\UPD</code> - директория для хранения скаченных обновлений.</li><li><code>\WIM</code> - директория для хранения образа WIM.</li></ul></li></ul><h3 id=ms-dism><a class=link-body-emphasis href=#ms-dism>MS DISM</a></h3><p>Для интеграции обновлений потребуется инструмент <strong>Deployment Image Servicing and Management (DISM)</strong> (<code>DISM.exe</code>), который входит в комплект <a title href=https://learn.microsoft.com/en-us/windows-hardware/get-started/adk-install target=_blank rel="noopener noreferrer nofollow">Windows Assessment and Deployment Kit (Windows ADK)</a>. Обычно, DISM уже поставляется с операционной системой, но я рекомендую <a title href=https://learn.microsoft.com/en-us/windows-hardware/get-started/adk-install#other-adk-downloads target=_blank rel="noopener noreferrer nofollow">скачивать</a> последнюю версию с сайта Microsoft и устанавливать вручную.</p><p>Когда Windows ADK установлен, DISM можно найти в меню <strong>&ldquo;Пуск&rdquo;</strong> вместе с остальными программам. Запускать DISM необходимо под администратором. Все команды, приведённые ниже, должны будут выполняться только через установленный вручную DISM. Использовать DISM, поставляемый с операционной системой нет необходимости.</p><div class="shortcode shortcode-alert"><div class="alert alert-success d-flex overflow-hidden" role=alert><div class="flex-shrink-0 align-self-center"><i class="fas fa-lightbulb fa-fw fa-2x"></i></div><div class="flex-grow-1 ms-3 overflow-hidden"><p>Установленный вручную DISM можно найти в меню &ldquo;Пуск&rdquo; / Windows Kits / <strong>Среда средств развертывания и работы с образами</strong>.</p></div></div></div><h2 id=интеграция-обновлений><a class=link-body-emphasis href=#%d0%b8%d0%bd%d1%82%d0%b5%d0%b3%d1%80%d0%b0%d1%86%d0%b8%d1%8f-%d0%be%d0%b1%d0%bd%d0%be%d0%b2%d0%bb%d0%b5%d0%bd%d0%b8%d0%b9>Интеграция обновлений</a></h2><p>Обновления можно скачивать с сайта-каталога <a title href=https://www.catalog.update.microsoft.com/ target=_blank rel="noopener noreferrer nofollow">Microsoft Update Catalog</a>. Я беру так называемые &ldquo;кумулятивные (накопительные) обновления&rdquo; (cumulative updates), содержащие в себе сразу множество пакетов с исправлениями и обновлениями функций. <a title href="https://www.catalog.update.microsoft.com/Search.aspx?q=cumulative%20update" target=_blank rel="noopener noreferrer nofollow">Найти</a> такие крупные обновления можно в каталоге при помощи поискового запроса <code>cumulative update</code>.</p><p>Скачиваемые обновления помещаются в директорию <code>C:\BuildFarm\UPD</code> для дальнейшей интеграции в дистрибутив ОС.</p><h3 id=извлечение-файла-wim-из-дистрибутива-ms-windows><a class=link-body-emphasis href=#%d0%b8%d0%b7%d0%b2%d0%bb%d0%b5%d1%87%d0%b5%d0%bd%d0%b8%d0%b5-%d1%84%d0%b0%d0%b9%d0%bb%d0%b0-wim-%d0%b8%d0%b7-%d0%b4%d0%b8%d1%81%d1%82%d1%80%d0%b8%d0%b1%d1%83%d1%82%d0%b8%d0%b2%d0%b0-ms-windows>Извлечение файла WIM из дистрибутива MS Windows</a></h3><p>Образ ОС находится в специальном файле <code>sources\install.wim</code>. Его необходимо извлечь при помощи программ для работы с файлами <code>.iso</code> (подойдёт <a title href=https://www.ultraiso.com target=_blank rel="noopener noreferrer nofollow">UltraISO</a> или <a title href=https://www.poweriso.com target=_blank rel="noopener noreferrer nofollow">PowerISO</a>) в директорию <code>C:\BuildFarm\WIM</code>.</p><h3 id=получение-информации-из-wim-образа><a class=link-body-emphasis href=#%d0%bf%d0%be%d0%bb%d1%83%d1%87%d0%b5%d0%bd%d0%b8%d0%b5-%d0%b8%d0%bd%d1%84%d0%be%d1%80%d0%bc%d0%b0%d1%86%d0%b8%d0%b8-%d0%b8%d0%b7-wim-%d0%be%d0%b1%d1%80%d0%b0%d0%b7%d0%b0>Получение информации из WIM-образа</a></h3><p>Файл <code>install.wim</code> может содержать несколько редакций ОС. Каждая редакция ОС имеет свой индекс. Для того, чтобы увидеть эти индексы, нужно ввести команду:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-cmd"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-96f7d4f4e34e99ffda04f7006a30012d><div class=highlight><pre tabindex=0 class=chroma><code class=language-cmd data-lang=cmd><span class=line><span class=cl>Dism /Get-ImageInfo /ImageFile:<span class=s2>&#34;C:\BuildFarm\WIM\install.wim&#34;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-96f7d4f4e34e99ffda04f7006a30012d role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Где:</p><ul><li><code>/Get-ImageInfo</code> - получить информацию о версиях операционной системы, находящихся в WIM-образ.</li><li><code>/ImageFile</code> - путь к WIM-образу.</li></ul><p>Введённая команда предоставит примерно такой выхлоп:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-terminal
shortcode-codeblock-terminal-windows
shortcode-codeblock-terminal-windows-root"><div class="card mb-3 overflow-hidden" data-bs-theme=dark><div class=card-header><div class="d-flex align-items-center"><div class="flex-shrink-0 text-danger"><i class="fas fa-terminal fa-fw"></i></div><div class="flex-grow-1 mx-2"><h5 class=mb-0>Терминал</h5></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-a0c9c7fb7023692ac60eb6026ff5f348 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><div class="card-body p-0" id=clipboard-a0c9c7fb7023692ac60eb6026ff5f348><pre tabindex=0><code class=language-terminal data-lang=terminal>Dism /Get-ImageInfo /ImageFile:&#34;C:\BuildFarm\WIM\install.wim&#34;

Details for image : C:\BuildFarm\WIM\install.wim

Index : 1
Name : Windows 10 Education
Description : Windows 10 Education
Size : 15,643,499,526 bytes

Index : 2
Name : Windows 10 Education N
Description : Windows 10 Education N
Size : 14,878,972,660 bytes

Index : 3
Name : Windows 10 Enterprise
Description : Windows 10 Enterprise
Size : 15,643,653,521 bytes

Index : 4
Name : Windows 10 Enterprise N
Description : Windows 10 Enterprise N
Size : 14,878,878,937 bytes

Index : 5
Name : Windows 10 Pro
Description : Windows 10 Pro
Size : 15,658,943,281 bytes

&lt;...&gt;
Extract Specific Windows Index from Windows 10 Multiple Edition ISO</code></pre></div></div></div><h3 id=монтирование-wim-образа><a class=link-body-emphasis href=#%d0%bc%d0%be%d0%bd%d1%82%d0%b8%d1%80%d0%be%d0%b2%d0%b0%d0%bd%d0%b8%d0%b5-wim-%d0%be%d0%b1%d1%80%d0%b0%d0%b7%d0%b0>Монтирование WIM-образа</a></h3><p>Индексы получены. Теперь необходимо примонтировать редакцию ОС из конкретного индекса. Выбор индекса зависит от вас: выбираете индекс той редакции ОС, которая вам необходима. Я выбрал редакцию <strong>Windows 10 Pro</strong> с индексом <code>5</code>:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-cmd"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-9611cfa668bedc4e581d18b648afae4b><div class=highlight><pre tabindex=0 class=chroma><code class=language-cmd data-lang=cmd><span class=line><span class=cl>Dism /Mount-Image /ImageFile:<span class=s2>&#34;C:\BuildFarm\WIM\install.wim&#34;</span> /MountDir:<span class=s2>&#34;C:\BuildFarm\MNT&#34;</span> /index:5</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-9611cfa668bedc4e581d18b648afae4b role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Где:</p><ul><li><code>/Mount-Image</code> - команда на монтирование WIM-образа.</li><li><code>/MountDir</code> - путь к директории, в которую необходимо поместить содержимое монтируемого WIM-образа.</li><li><code>/index:5</code> - номер версии дистрибутива ОС. Номер можно узнать командой <code>/Get-ImageInfo</code>.</li></ul><div class="shortcode shortcode-alert"><div class="alert alert-success d-flex overflow-hidden" role=alert><div class="flex-shrink-0 align-self-center"><i class="fas fa-lightbulb fa-fw fa-2x"></i></div><div class="flex-grow-1 ms-3 overflow-hidden"><p>Если что-то пошло не так, размонтировать образ без сохранения можно следующей командой:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-cmd"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-cffa732f2f46f1d3204a37a8de5650b3><div class=highlight><pre tabindex=0 class=chroma><code class=language-cmd data-lang=cmd><span class=line><span class=cl>Dism /Unmount-Image /MountDir:<span class=s2>&#34;C:\BuildFarm\MNT&#34;</span> /Discard</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-cffa732f2f46f1d3204a37a8de5650b3 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Проверить список примонтированных образов можно следующей командой:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-cmd"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-0d98dcd2f6168df96ea4b8b8a1726a5f><div class=highlight><pre tabindex=0 class=chroma><code class=language-cmd data-lang=cmd><span class=line><span class=cl>Dism /Get-MountedImageInfo</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-0d98dcd2f6168df96ea4b8b8a1726a5f role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Если после размонтирования образ всё ещё остаётся подключённым к системе и является повреждённым, следующая команда можешь помочь:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-cmd"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-7d5bf8b3ec4d3693af2599507dcc7811><div class=highlight><pre tabindex=0 class=chroma><code class=language-cmd data-lang=cmd><span class=line><span class=cl>Dism /Cleanup-Mountpoints</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-7d5bf8b3ec4d3693af2599507dcc7811 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Она удалит все ресурсы, связанные с повреждённым образом и очистит систему от &ldquo;зависших&rdquo; точек монтирования.</p></div></div></div><h3 id=интеграция-обновлений-в-wim-образ><a class=link-body-emphasis href=#%d0%b8%d0%bd%d1%82%d0%b5%d0%b3%d1%80%d0%b0%d1%86%d0%b8%d1%8f-%d0%be%d0%b1%d0%bd%d0%be%d0%b2%d0%bb%d0%b5%d0%bd%d0%b8%d0%b9-%d0%b2-wim-%d0%be%d0%b1%d1%80%d0%b0%d0%b7>Интеграция обновлений в WIM-образ</a></h3><p>После монтирования редакции ОС с конкретным индексом, можно начинать процесс интеграции обновлений:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-cmd"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-7d84f2fe80770b02164393540ec1cbf2><div class=highlight><pre tabindex=0 class=chroma><code class=language-cmd data-lang=cmd><span class=line><span class=cl>Dism /Image:<span class=s2>&#34;C:\BuildFarm\MNT&#34;</span> /Add-Package /PackagePath:<span class=s2>&#34;C:\BuildFarm\UPD&#34;</span></span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-7d84f2fe80770b02164393540ec1cbf2 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Где:</p><ul><li><code>/Image</code> - путь к директории, в которой находится содержимое примонтированного WIM-образа.</li><li><code>/Add-Package</code> - команда на добавление пакетов (обновлений) в WIM-образ.<ul><li><code>/PackagePath</code> - путь к директории, в которой находятся пакеты (обновления) для интеграции в WIM-образ.</li></ul></li></ul><h3 id=проверка-корректности-интеграции-обновлений-опционально><a class=link-body-emphasis href=#%d0%bf%d1%80%d0%be%d0%b2%d0%b5%d1%80%d0%ba%d0%b0-%d0%ba%d0%be%d1%80%d1%80%d0%b5%d0%ba%d1%82%d0%bd%d0%be%d1%81%d1%82%d0%b8-%d0%b8%d0%bd%d1%82%d0%b5%d0%b3%d1%80%d0%b0%d1%86%d0%b8%d0%b8-%d0%be%d0%b1%d0%bd%d0%be%d0%b2%d0%bb%d0%b5%d0%bd%d0%b8%d0%b9-%d0%be%d0%bf%d1%86%d0%b8%d0%be%d0%bd%d0%b0%d0%bb%d1%8c%d0%bd%d0%be>Проверка корректности интеграции обновлений (опционально)</a></h3><p>По окончании процесса интеграции, можно проверить корректность выполненной задачи. Команда ниже покажет список пакетов, установленных в примонтированной редакции ОС. В этом списке пакетов будут интегрированные обновления.</p><div class="shortcode shortcode-codeblock shortcode-codeblock-cmd"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-20f399d8a959a84103604191d35fde0c><div class=highlight><pre tabindex=0 class=chroma><code class=language-cmd data-lang=cmd><span class=line><span class=cl>Dism /Image:<span class=s2>&#34;C:\BuildFarm\MNT&#34;</span> /Get-Packages</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-20f399d8a959a84103604191d35fde0c role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Где:</p><ul><li><code>/Image</code> - путь к директории, в которой находится содержимое примонтированного WIM-образа.</li><li><code>/Get-Packages</code> - команда для получения информации о интегрированных пакетах примонтированного WIM-образа.</li></ul><h3 id=очистка-хранилища-компонентов-wim-образ-опционально><a class=link-body-emphasis href=#%d0%be%d1%87%d0%b8%d1%81%d1%82%d0%ba%d0%b0-%d1%85%d1%80%d0%b0%d0%bd%d0%b8%d0%bb%d0%b8%d1%89%d0%b0-%d0%ba%d0%be%d0%bc%d0%bf%d0%be%d0%bd%d0%b5%d0%bd%d1%82%d0%be%d0%b2-wim-%d0%be%d0%b1%d1%80%d0%b0%d0%b7-%d0%be%d0%bf%d1%86%d0%b8%d0%be%d0%bd%d0%b0%d0%bb%d1%8c%d0%bd%d0%be>Очистка хранилища компонентов WIM-образ (опционально)</a></h3><p>Для уменьшения размера дистрибутива можно запустить процедуру удаления предыдущих версий компонентов, которые были изменены (заменены) установленными обновлениями:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-cmd"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-0695eb456955932b73b04ad178d0be4c><div class=highlight><pre tabindex=0 class=chroma><code class=language-cmd data-lang=cmd><span class=line><span class=cl>Dism /Image:<span class=s2>&#34;C:\BuildFarm\MNT&#34;</span> /Cleanup-Image /StartComponentCleanup /ResetBase</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-0695eb456955932b73b04ad178d0be4c role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Где:</p><ul><li><code>/Image</code> - путь к директории, в которой находится содержимое примонтированного WIM-образа.</li><li><code>/Cleanup-Image</code> - очистка и восстановление образа.<ul><li><code>/StartComponentCleanup</code> - удаляет заменённые компоненты и уменьшает размер хранилища компонентов.<ul><li><code>/ResetBase</code> - сброс базы заменяемых компонентов.</li></ul></li></ul></li></ul><h3 id=проверка-хранилища-компонентов-wim-образа-опционально><a class=link-body-emphasis href=#%d0%bf%d1%80%d0%be%d0%b2%d0%b5%d1%80%d0%ba%d0%b0-%d1%85%d1%80%d0%b0%d0%bd%d0%b8%d0%bb%d0%b8%d1%89%d0%b0-%d0%ba%d0%be%d0%bc%d0%bf%d0%be%d0%bd%d0%b5%d0%bd%d1%82%d0%be%d0%b2-wim-%d0%be%d0%b1%d1%80%d0%b0%d0%b7%d0%b0-%d0%be%d0%bf%d1%86%d0%b8%d0%be%d0%bd%d0%b0%d0%bb%d1%8c%d0%bd%d0%be>Проверка хранилища компонентов WIM-образа (опционально)</a></h3><p>Опциональный шаг перед заключительным этапом - проверить системные компоненты и файлы на повреждения:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-cmd"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-98424a73123303dadaa8db9aa6c474d9><div class=highlight><pre tabindex=0 class=chroma><code class=language-cmd data-lang=cmd><span class=line><span class=cl>Dism /Image:<span class=s2>&#34;C:\BuildFarm\MNT&#34;</span> /Cleanup-Image /ScanHealth</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-98424a73123303dadaa8db9aa6c474d9 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Где:</p><ul><li><code>/Image</code> - путь к директории, в которой находится содержимое примонтированного WIM-образа.</li><li><code>/Cleanup-Image</code> - очистка и восстановление образа.<ul><li><code>/ScanHealth</code> - сканирование образа на наличие повреждений хранилища компонентов.</li></ul></li></ul><h3 id=сохранение-изменений-в-wim-образе><a class=link-body-emphasis href=#%d1%81%d0%be%d1%85%d1%80%d0%b0%d0%bd%d0%b5%d0%bd%d0%b8%d0%b5-%d0%b8%d0%b7%d0%bc%d0%b5%d0%bd%d0%b5%d0%bd%d0%b8%d0%b9-%d0%b2-wim-%d0%be%d0%b1%d1%80%d0%b0%d0%b7%d0%b5>Сохранение изменений в WIM-образе</a></h3><p>После выполнения всех действий, необходимо отмонтировать редакцию ОС с сохранением изменений. Делается это командой:</p><div class="shortcode shortcode-codeblock shortcode-codeblock-cmd"><div class="d-flex mb-3 overflow-hidden"><div class="flex-grow-1 rounded overflow-hidden" id=clipboard-06d6807631d0baba70f2419a5816ceec><div class=highlight><pre tabindex=0 class=chroma><code class=language-cmd data-lang=cmd><span class=line><span class=cl>Dism /Unmount-Image /MountDir:<span class=s2>&#34;C:\BuildFarm\MNT&#34;</span> /Commit</span></span></code></pre></div></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-06d6807631d0baba70f2419a5816ceec role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li></ul></div></div></div><p>Где:</p><ul><li><code>/Unmount-Image</code> - команда для отмонтирования WIM-образа.</li><li><code>/MountDir</code> - путь к директории, в которой находится содержимое примонтированного WIM-образа.</li><li><code>/Commit</code> - сохранение совершённых изменений в WIM-образе.</li></ul><p>Всё. Мы получили файл <code>install.wim</code> с интегрированными обновлениями. Теперь этот файл <code>install.wim</code> необходимо обратно упаковать в образ ISO с заменой старого.</p><h2 id=автоматизация><a class=link-body-emphasis href=#%d0%b0%d0%b2%d1%82%d0%be%d0%bc%d0%b0%d1%82%d0%b8%d0%b7%d0%b0%d1%86%d0%b8%d1%8f>Автоматизация</a></h2><p>Я люблю автоматизировать всё по максимуму. И здесь я не упустил шанс написать небольшой скрипт с деревянной логикой, который сделает все шаги по интеграции обновлений за человека. Только вот, извлечь файл <code>install.wim</code> из ISO-образа придётся самому.</p><div class="shortcode shortcode-file mb-3"><div class="card overflow-hidden"><div class=card-header><div class="d-flex align-items-center"><div class=flex-shrink-0><i class="far fa-file-code fa-fw"></i></div><div class="flex-grow-1 mx-2"><code>dism.packages.cmd</code></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-58e986fccadd75a8e83f5b1f9b71ee6d role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li><li class=list-inline-item data-bs-tooltip data-bs-title=Скачать><a class=text-body href=dism.packages.cmd download role=button aria-label=Скачать><i class="fas fa-download fa-fw"></i></a></li><li class=list-inline-item data-bs-tooltip data-bs-title=Открыть><a class=text-body href=dism.packages.cmd target=_blank role=button aria-label=Открыть><i class="fas fa-arrow-up-right-from-square fa-fw"></i></a></li></ul></div></div></div><div class=card-body id=clipboard-58e986fccadd75a8e83f5b1f9b71ee6d><div class=highlight><pre tabindex=0 class=chroma><code class=language-cmd data-lang=cmd><span class=line><span class=cl><span class=p>:</span><span class=c1>: Automatic integration of updates into DISM.</span>
</span></span><span class=line><span class=cl><span class=p>:</span><span class=c1>:</span>
</span></span><span class=line><span class=cl><span class=p>:</span><span class=c1>: @package   CMD</span>
</span></span><span class=line><span class=cl><span class=p>:</span><span class=c1>: @author    Kitsune Solar &lt;mail@kitsune.solar&gt;</span>
</span></span><span class=line><span class=cl><span class=p>:</span><span class=c1>: @copyright 2023 iHub TO</span>
</span></span><span class=line><span class=cl><span class=p>:</span><span class=c1>: @license   MIT</span>
</span></span><span class=line><span class=cl><span class=p>:</span><span class=c1>: @version   0.1.0</span>
</span></span><span class=line><span class=cl><span class=p>:</span><span class=c1>: @link      https://lib.onl/ru/posts/2022/05/862226e6-cbb1-58f8-bc8e-0cfef747f475/</span>
</span></span><span class=line><span class=cl><span class=p>:</span><span class=c1>: ------------------------------------------------------------------------------------------------------------------ ::</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>@</span><span class=k>echo</span> off
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>set</span> <span class=nv>d_mnt</span><span class=p>=</span><span class=s2>&#34;</span><span class=nv>%~dp0</span><span class=s2>MNT&#34;</span>
</span></span><span class=line><span class=cl><span class=k>set</span> <span class=nv>d_upd</span><span class=p>=</span><span class=s2>&#34;</span><span class=nv>%~dp0</span><span class=s2>UPD&#34;</span>
</span></span><span class=line><span class=cl><span class=k>set</span> <span class=nv>d_wim</span><span class=p>=</span><span class=s2>&#34;</span><span class=nv>%~dp0</span><span class=s2>WIM&#34;</span>
</span></span><span class=line><span class=cl><span class=k>set</span> <span class=nv>f_wim</span><span class=p>=</span><span class=s2>&#34;</span><span class=nv>%d_wim%</span><span class=s2>\install.wim&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>:</span><span class=c1>: Creating directories.</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=k>not</span> <span class=k>exist</span> <span class=s2>&#34;</span><span class=nv>%d_mnt%</span><span class=s2>&#34;</span> <span class=k>mkdir</span> <span class=s2>&#34;</span><span class=nv>%d_mnt%</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=k>not</span> <span class=k>exist</span> <span class=s2>&#34;</span><span class=nv>%d_upd%</span><span class=s2>&#34;</span> <span class=k>mkdir</span> <span class=s2>&#34;</span><span class=nv>%d_upd%</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=k>not</span> <span class=k>exist</span> <span class=s2>&#34;</span><span class=nv>%d_wim%</span><span class=s2>&#34;</span> <span class=k>mkdir</span> <span class=s2>&#34;</span><span class=nv>%d_wim%</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>:</span><span class=c1>: Checking files.</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=k>not</span> <span class=k>exist</span> <span class=s2>&#34;</span><span class=nv>%f_wim%</span><span class=s2>&#34;</span> <span class=k>echo</span> Please put <span class=s2>&#34;install.wim&#34;</span> file in <span class=s2>&#34;WIM&#34;</span> directory... <span class=p>&amp;&amp;</span> <span class=k>pause</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=k>not</span> <span class=k>exist</span> <span class=s2>&#34;</span><span class=nv>%d_upd%</span><span class=s2>/*.msu&#34;</span> <span class=k>echo</span> Please put <span class=s2>&#34;*.msu&#34;</span> files in <span class=s2>&#34;UPD&#34;</span> directory... <span class=p>&amp;&amp;</span> <span class=k>pause</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=k>exist</span> <span class=s2>&#34;</span><span class=nv>%f_wim%</span><span class=s2>&#34;</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>  <span class=k>echo</span> Getting Windows Image Info...
</span></span><span class=line><span class=cl>  Dism /Get-ImageInfo /ImageFile:<span class=s2>&#34;</span><span class=nv>%f_wim%</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=p>)</span> <span class=k>else</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>  <span class=k>echo</span> <span class=s2>&#34;install.wim&#34;</span> not found! <span class=p>&amp;</span> <span class=k>echo</span>.Failed with error #<span class=nv>%errorlevel%</span>.
</span></span><span class=line><span class=cl>  <span class=k>goto</span> <span class=p>:</span><span class=nl>error</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>set</span> <span class=k>/p</span> <span class=nv>index</span><span class=p>=</span><span class=s2>&#34;Enter INDEX: &#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>echo</span> Mounting Windows image...
</span></span><span class=line><span class=cl>Dism /Mount-Image /ImageFile:<span class=s2>&#34;</span><span class=nv>%f_wim%</span><span class=s2>&#34;</span> /MountDir:<span class=s2>&#34;</span><span class=nv>%d_mnt%</span><span class=s2>&#34;</span> /index:<span class=nv>%index%</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>echo</span> Adding Windows packages...
</span></span><span class=line><span class=cl>Dism /Image:<span class=s2>&#34;</span><span class=nv>%d_mnt%</span><span class=s2>&#34;</span> /Add-Package /PackagePath:<span class=s2>&#34;</span><span class=nv>%d_upd%</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>echo</span> Getting Windows packages...
</span></span><span class=line><span class=cl>Dism /Image:<span class=s2>&#34;</span><span class=nv>%d_mnt%</span><span class=s2>&#34;</span> /Get-Packages
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>echo</span> Reseting Windows image...
</span></span><span class=line><span class=cl>Dism /Image:<span class=s2>&#34;</span><span class=nv>%d_mnt%</span><span class=s2>&#34;</span> /Cleanup-Image /StartComponentCleanup /ResetBase
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>echo</span> Scaning health Windows image...
</span></span><span class=line><span class=cl>Dism /Image:<span class=s2>&#34;</span><span class=nv>%d_mnt%</span><span class=s2>&#34;</span> /Cleanup-Image /ScanHealth
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>echo</span> Saving Windows image...
</span></span><span class=line><span class=cl>Dism /Unmount-Image /MountDir:<span class=s2>&#34;</span><span class=nv>%d_mnt%</span><span class=s2>&#34;</span> /Commit
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>exit</span> /b 0
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>:</span><span class=nl>error</span>
</span></span><span class=line><span class=cl><span class=k>exit</span> /b <span class=nv>%errorlevel%</span></span></span></code></pre></div></div></div></div><p>Поместить скрипт нужно в корень директории <code>BuildFarm</code> и запустить из терминала DISM. Если же возникнут какие-либо проблемы, ниже есть небольшой скрипт, который размонтирует образ и очистит систему от точек монтирования.</p><div class="shortcode shortcode-file mb-3"><div class="card overflow-hidden"><div class=card-header><div class="d-flex align-items-center"><div class=flex-shrink-0><i class="far fa-file-code fa-fw"></i></div><div class="flex-grow-1 mx-2"><code>dism.unmount.cmd</code></div><div class=flex-shrink-0><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=Копировать><a class=text-body href=# data-fn="clipboard preventDefault" data-clipboard-target=#clipboard-15c36f1f0c1a623171a28409ae1d0c73 role=button aria-label=Копировать><i class="fas fa-copy fa-fw"></i></a></li><li class=list-inline-item data-bs-tooltip data-bs-title=Скачать><a class=text-body href=dism.unmount.cmd download role=button aria-label=Скачать><i class="fas fa-download fa-fw"></i></a></li><li class=list-inline-item data-bs-tooltip data-bs-title=Открыть><a class=text-body href=dism.unmount.cmd target=_blank role=button aria-label=Открыть><i class="fas fa-arrow-up-right-from-square fa-fw"></i></a></li></ul></div></div></div><div class=card-body id=clipboard-15c36f1f0c1a623171a28409ae1d0c73><div class=highlight><pre tabindex=0 class=chroma><code class=language-cmd data-lang=cmd><span class=line><span class=cl><span class=p>:</span><span class=c1>: Automatic unmounting WIM images into DISM.</span>
</span></span><span class=line><span class=cl><span class=p>:</span><span class=c1>:</span>
</span></span><span class=line><span class=cl><span class=p>:</span><span class=c1>: @package   CMD</span>
</span></span><span class=line><span class=cl><span class=p>:</span><span class=c1>: @author    Kitsune Solar &lt;mail@kitsune.solar&gt;</span>
</span></span><span class=line><span class=cl><span class=p>:</span><span class=c1>: @copyright 2023 iHub TO</span>
</span></span><span class=line><span class=cl><span class=p>:</span><span class=c1>: @license   MIT</span>
</span></span><span class=line><span class=cl><span class=p>:</span><span class=c1>: @version   0.1.0</span>
</span></span><span class=line><span class=cl><span class=p>:</span><span class=c1>: @link      https://lib.onl/ru/posts/2022/05/862226e6-cbb1-58f8-bc8e-0cfef747f475/</span>
</span></span><span class=line><span class=cl><span class=p>:</span><span class=c1>: ------------------------------------------------------------------------------------------------------------------ ::</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>@</span><span class=k>echo</span> off
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>set</span> <span class=nv>d_mnt</span><span class=p>=</span><span class=s2>&#34;</span><span class=nv>%~dp0</span><span class=s2>MNT&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>echo</span> Unmounting <span class=s2>&#34;install.wim&#34;</span> and discards changes that were made when image was mounted...
</span></span><span class=line><span class=cl>Dism /Unmount-Image /MountDir:<span class=s2>&#34;</span><span class=nv>%d_mnt%</span><span class=s2>&#34;</span> /Discard
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>echo</span> Deleting all of resources associated with a mounted image that has been corrupted...
</span></span><span class=line><span class=cl>Dism /Cleanup-Mountpoints
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>echo</span> Getting information about mounted image...
</span></span><span class=line><span class=cl>Dism /Get-MountedImageInfo
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>exit</span> /b 0</span></span></code></pre></div></div></div></div></div></div><div class=tab-pane id=tab-pane-main-changelog role=tabpanel aria-labelledby=tab-main-changelog tabindex=0><div class=node-body><h2 id=2023-10-18><a class=link-body-emphasis href=#2023-10-18>2023-10-18</a></h2><ul><li>Добавлен раздел &ldquo;Автоматизация&rdquo;.</li><li>Добавлены скрипты по автоматизации процессов.</li></ul></div></div><div class=tab-pane id=tab-pane-main-info role=tabpanel aria-labelledby=tab-main-info tabindex=0><div class=node-body><div class="row row-cols-1 row-cols-lg-2 g-3"><div class=col><section class="card node-categories h-100"><div class=card-body><h5 class=card-title>Категории</h5><ul class=list-inline><li class=list-inline-item><a href=https://lib.onl/ru/categories/windows/>MS Windows</a></li><li class=list-inline-item><a href=https://lib.onl/ru/categories/terminal/>Терминал</a></li><li class=list-inline-item><a href=https://lib.onl/ru/categories/scripts/>Скрипты</a></li></ul></div></section></div><div class=col><section class="card node-tags h-100"><div class=card-body><h5 class=card-title>Теги</h5><ul class=list-inline><li class=list-inline-item><a href=https://lib.onl/ru/tags/windows/>#windows</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/cmd/>#cmd</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/adk/>#adk</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/dism/>#dism</a></li><li class=list-inline-item><a href=https://lib.onl/ru/tags/%D0%B8%D0%BD%D1%82%D0%B5%D0%B3%D1%80%D0%B0%D1%86%D0%B8%D1%8F/>#интеграция</a></li></ul></div></section></div><div class=col><section class="card node-authors h-100"><div class=card-body><h5 class=card-title>Авторы</h5><ul><li><a href=https://lib.onl/ru/authors/kitsunesolar/>Kitsune Solar</a></li></ul></div></section></div><div class=col><section class="card node-similar h-100"><div class=card-body><h5 class=card-title>Смотрите также</h5><ul><li><a href=/ru/posts/2022/05/36058650-3f35-5ed5-9565-0aa7d8800c28/>Windows Server 2022 для рабочей станции</a></li><li><a href=/ru/posts/2020/07/94261403-060b-57b6-9bb0-7a0c07d09af9/>Windows 10: Настройка через групповые политики</a></li></ul></div></section></div><div class=col><section class="card node-meta h-100"><div class=card-body><h5 class=card-title>Мета</h5><div class="row row-cols-1 row-cols-sm-2 g-2 align-items-center"><div class=col>Лицензия</div><div class=col><div class=input-group><input type=text class=form-control value=CC-BY-SA-4.0 readonly>
<button class="btn btn-primary" type=button data-bs-toggle=modal data-bs-target=#modal-5ebeb84a8dbf47c123a638aec613e621 data-bs-tooltip data-bs-title="Текст лицензии">
<i class="far fa-file-lines fa-fw"></i></button></div><div class="modal fade" id=modal-5ebeb84a8dbf47c123a638aec613e621 tabindex=-1 aria-labelledby=modal-5ebeb84a8dbf47c123a638aec613e621-label aria-hidden=true><div class="modal-dialog modal-dialog-scrollable modal-xl"><div class=modal-content><div class=modal-header><h2 class="modal-title fs-5" id=modal-5ebeb84a8dbf47c123a638aec613e621-label>Лицензия</h2><button type=button class=btn-close data-bs-dismiss=modal aria-label=Закрыть></button></div><div class=modal-body><div class=node-body><div class="alert alert-success d-flex align-items-center overflow-hidden node-body" id=alert-213111a4499c0025136b20898feb6423 role=alert><div class=flex-shrink-0><i class="fas fa-heart fa-fw fa-2x"></i></div><div class="flex-grow-1 ms-3 overflow-hidden"><p>Лицензия считается свободной FSF.</p></div></div><div class=card><h5 class=card-header>Текст лицензии</h5><div class=card-body><div class=optional-license-text><p><var class=optional-license-text>Creative Commons </var>Attribution-ShareAlike 4.0 International</p></div><div class=optional-license-text><p>Creative Commons Corporation ("Creative Commons") is not a law firm and does not provide legal services
or legal advice. Distribution of Creative Commons public licenses does not create a lawyer-client or
other relationship. Creative Commons makes its licenses and related information available on an
"as-is" basis. Creative Commons gives no warranties regarding its licenses, any material licensed
under their terms and conditions, or any related information. Creative Commons disclaims all liability
for damages resulting from their use to the fullest extent possible.</p></div><p>Using Creative Commons Public Licenses</p><p>Creative Commons public licenses provide a standard set of terms and conditions that creators and other
rights holders may use to share original works of authorship and other material subject to copyright
and certain other rights specified in the public license below. The following considerations are for
informational purposes only, are not exhaustive, and do not form part of our licenses.</p><p>Considerations for licensors: Our public licenses are intended for use by those authorized to give the
public permission to use material in ways otherwise restricted by copyright and certain other rights.
Our licenses are irrevocable. Licensors should read and understand the terms and conditions of the
license they choose before applying it. Licensors should also secure all rights necessary before
applying our licenses so that the public can reuse the material as expected. Licensors should clearly
mark any material not subject to the license. This includes other CC-licensed material, or material
used under an exception or limitation to copyright. More considerations for licensors<var class=replaceable-license-text> : wiki.creativecommons.org/Considerations_for_licensors</var></p><p>Considerations for the public: By using one of our public licenses, a licensor grants the public
permission to use the licensed material under specified terms and conditions. If the licensor's
permission is not necessary for any reason–for example, because of any applicable exception or
limitation to copyright–then that use is not regulated by the license. Our licenses grant only
permissions under copyright and certain other rights that a licensor has authority to grant. Use of
the licensed material may still be restricted for other reasons, including because others have
copyright or other rights in the material. A licensor may make special requests, such as asking that
all changes be marked or described.</p><p>Although not required by our licenses, you are encouraged to respect those requests where reasonable.
<var class=replaceable-license-text>More considerations</var> for the public<var class=replaceable-license-text> : wiki.creativecommons.org/Considerations_for_licensees</var></p><p>Creative Commons Attribution-ShareAlike 4.0 International Public License</p><p>By exercising the Licensed Rights (defined below), You accept and agree to be bound by the terms and
conditions of this Creative Commons Attribution-ShareAlike 4.0 International Public License ("Public
License"). To the extent this Public License may be interpreted as a contract, You are granted the
Licensed Rights in consideration of Your acceptance of these terms and conditions, and the Licensor
grants You such rights in consideration of benefits the Licensor receives from making the Licensed
Material available under these terms and conditions.</p><p>Section 1 – Definitions.</p><ul style=list-style:none><li><var class=replaceable-license-text>a.</var>
Adapted Material means material subject to Copyright and Similar Rights that is derived from
or based upon the Licensed Material and in which the Licensed Material is translated,
altered, arranged, transformed, or otherwise modified in a manner requiring permission
under the Copyright and Similar Rights held by the Licensor. For purposes of this Public
License, where the Licensed Material is a musical work, performance, or sound recording,
Adapted Material is always produced where the Licensed Material is synched in timed
relation with a moving image.</li><li><var class=replaceable-license-text>b.</var>
Adapter's License means the license You apply to Your Copyright and Similar Rights in Your
contributions to Adapted Material in accordance with the terms and conditions of this
Public License.</li><li><var class=replaceable-license-text>c.</var>
BY-SA Compatible License means a license listed at creativecommons.org/compatiblelicenses,
approved by Creative Commons as essentially the equivalent of this Public License.</li><li><var class=replaceable-license-text>d.</var>
Copyright and Similar Rights means copyright and/or similar rights closely related to
copyright including, without limitation, performance, broadcast, sound recording, and Sui
Generis Database Rights, without regard to how the rights are labeled or categorized. For
purposes of this Public License, the rights specified in Section 2(b)(1)-(2) are not
Copyright and Similar Rights.</li><li><var class=replaceable-license-text>e.</var>
Effective Technological Measures means those measures that, in the absence of proper
authority, may not be circumvented under laws fulfilling obligations under Article 11 of
the WIPO Copyright Treaty adopted on December 20, 1996, and/or similar international
agreements.</li><li><var class=replaceable-license-text>f.</var>
Exceptions and Limitations means fair use, fair dealing, and/or any other exception or
limitation to Copyright and Similar Rights that applies to Your use of the Licensed
Material.</li><li><var class=replaceable-license-text>g.</var>
License Elements means the license attributes listed in the name of a Creative Commons Public
License. The License Elements of this Public License are Attribution and ShareAlike.</li><li><var class=replaceable-license-text>h.</var>
Licensed Material means the artistic or literary work, database, or other material to which
the Licensor applied this Public License.</li><li><var class=replaceable-license-text>i.</var>
Licensed Rights means the rights granted to You subject to the terms and conditions of this
Public License, which are limited to all Copyright and Similar Rights that apply to Your
use of the Licensed Material and that the Licensor has authority to license.</li><li><var class=replaceable-license-text>j.</var>
Licensor means the individual(s) or entity(ies) granting rights under this Public License.</li><li><var class=replaceable-license-text>k.</var>
Share means to provide material to the public by any means or process that requires
permission under the Licensed Rights, such as reproduction, public display, public
performance, distribution, dissemination, communication, or importation, and to make
material available to the public including in ways that members of the public may access
the material from a place and at a time individually chosen by them.</li><li><var class=replaceable-license-text>l.</var>
Sui Generis Database Rights means rights other than copyright resulting from Directive
96/9/EC of the European Parliament and of the Council of 11 March 1996 on the legal
protection of databases, as amended and/or succeeded, as well as other essentially
equivalent rights anywhere in the world.</li><li><var class=replaceable-license-text>m.</var>
You means the individual or entity exercising the Licensed Rights under this Public License.
Your has a corresponding meaning.</li></ul><p>Section 2 – Scope.</p><ul style=list-style:none><li><var class=replaceable-license-text>a.</var>
License grant.<ul style=list-style:none><li><var class=replaceable-license-text>1.</var>
Subject to the terms and conditions of this Public License, the Licensor hereby grants
You a worldwide, royalty-free, non-sublicensable, non-exclusive, irrevocable license
to exercise the Licensed Rights in the Licensed Material to:<ul style=list-style:none><li><var class=replaceable-license-text>A.</var>
reproduce and Share the Licensed Material, in whole or in part; and</li><li><var class=replaceable-license-text>B.</var>
produce, reproduce, and Share Adapted Material.</li></ul></li><li><var class=replaceable-license-text>2.</var>
Exceptions and Limitations. For the avoidance of doubt, where Exceptions and Limitations
apply to Your use, this Public License does not apply, and You do not need to comply
with its terms and conditions.</li><li><var class=replaceable-license-text>3.</var>
Term. The term of this Public License is specified in Section 6(a).</li><li><var class=replaceable-license-text>4.</var>
Media and formats; technical modifications allowed. The Licensor authorizes You to
exercise the Licensed Rights in all media and formats whether now known or hereafter
created, and to make technical modifications necessary to do so. The Licensor waives
and/or agrees not to assert any right or authority to forbid You from making technical
modifications necessary to exercise the Licensed Rights, including technical
modifications necessary to circumvent Effective Technological Measures. For purposes
of this Public License, simply making modifications authorized by this Section 2(a)(4)
never produces Adapted Material.</li><li><var class=replaceable-license-text>5.</var>
Downstream recipients.<ul style=list-style:none><li><var class=replaceable-license-text>A.</var>
Offer from the Licensor – Licensed Material. Every recipient of the Licensed Material
automatically receives an offer from the Licensor to exercise the Licensed Rights
under the terms and conditions of this Public License.</li><li><var class=replaceable-license-text>B.</var>
Additional offer from the Licensor – Adapted Material. Every recipient of Adapted
Material from You automatically receives an offer from the Licensor to exercise
the Licensed Rights in the Adapted Material under the conditions of the Adapter's
License You apply.</li><li><var class=replaceable-license-text>C.</var>
No downstream restrictions. You may not offer or impose any additional or different
terms or conditions on, or apply any Effective Technological Measures to, the
Licensed Material if doing so restricts exercise of the Licensed Rights by any
recipient of the Licensed Material.</li></ul></li><li><var class=replaceable-license-text>6.</var>
No endorsement. Nothing in this Public License constitutes or may be construed as
permission to assert or imply that You are, or that Your use of the Licensed Material
is, connected with, or sponsored, endorsed, or granted official status by, the
Licensor or others designated to receive attribution as provided in Section
3(a)(1)(A)(i).</li></ul></li><li><var class=replaceable-license-text>b.</var>
Other rights.<ul style=list-style:none><li><var class=replaceable-license-text>1.</var>
Moral rights, such as the right of integrity, are not licensed under this Public License,
nor are publicity, privacy, and/or other similar personality rights; however, to the
extent possible, the Licensor waives and/or agrees not to assert any such rights held
by the Licensor to the limited extent necessary to allow You to exercise the Licensed
Rights, but not otherwise.</li><li><var class=replaceable-license-text>2.</var>
Patent and trademark rights are not licensed under this Public License.</li><li><var class=replaceable-license-text>3.</var>
To the extent possible, the Licensor waives any right to collect royalties from You for
the exercise of the Licensed Rights, whether directly or through a collecting society
under any voluntary or waivable statutory or compulsory licensing scheme. In all other
cases the Licensor expressly reserves any right to collect such royalties.</li></ul></li></ul><p>Section 3 – License Conditions.</p><p>Your exercise of the Licensed Rights is expressly made subject to the following conditions.</p><ul style=list-style:none><li><var class=replaceable-license-text>a.</var>
Attribution.<ul style=list-style:none><li><var class=replaceable-license-text>1.</var>
If You Share the Licensed Material (including in modified form), You must:<ul style=list-style:none><li><var class=replaceable-license-text>A.</var>
retain the following if it is supplied by the Licensor with the Licensed Material:<ul style=list-style:none><li><var class=replaceable-license-text>i.</var>
identification of the creator(s) of the Licensed Material and any others
designated to receive attribution, in any reasonable manner requested by
the Licensor (including by pseudonym if designated);</li><li><var class=replaceable-license-text>ii.</var>
a copyright notice;</li><li><var class=replaceable-license-text>iii.</var>
a notice that refers to this Public License;</li><li><var class=replaceable-license-text>iv.</var>
a notice that refers to the disclaimer of warranties;<p>v. a URI or hyperlink to the Licensed Material to the extent reasonably practicable;</p></li></ul></li><li><var class=replaceable-license-text>B.</var>
indicate if You modified the Licensed Material and retain an indication of any
previous modifications; and</li><li><var class=replaceable-license-text>C.</var>
indicate the Licensed Material is licensed under this Public License, and include the
text of, or the URI or hyperlink to, this Public License.</li></ul></li><li><var class=replaceable-license-text>2.</var>
You may satisfy the conditions in Section 3(a)(1) in any reasonable manner based on the
medium, means, and context in which You Share the Licensed Material. For example, it
may be reasonable to satisfy the conditions by providing a URI or hyperlink to a
resource that includes the required information.</li><li><var class=replaceable-license-text>3.</var>
If requested by the Licensor, You must remove any of the information required by Section
3(a)(1)(A) to the extent reasonably practicable.</li></ul></li><li><var class=replaceable-license-text>b.</var>
ShareAlike.In addition to the conditions in Section 3(a), if You Share Adapted Material You
produce, the following conditions also apply.<ul style=list-style:none><li><var class=replaceable-license-text>1.</var>
The Adapter's License You apply must be a Creative Commons license with the same License
Elements, this version or later, or a BY-SA Compatible License.</li><li><var class=replaceable-license-text>2.</var>
You must include the text of, or the URI or hyperlink to, the Adapter's License You
apply. You may satisfy this condition in any reasonable manner based on the medium,
means, and context in which You Share Adapted Material.</li><li><var class=replaceable-license-text>3.</var>
You may not offer or impose any additional or different terms or conditions on, or apply
any Effective Technological Measures to, Adapted Material that restrict exercise of
the rights granted under the Adapter's License You apply.</li></ul></li></ul><p>Section 4 – Sui Generis Database Rights.</p><p>Where the Licensed Rights include Sui Generis Database Rights that apply to Your use of
the Licensed Material:</p><ul style=list-style:none><li><var class=replaceable-license-text>a.</var>
for the avoidance of doubt, Section 2(a)(1) grants You the right to extract, reuse,
reproduce, and Share all or a substantial portion of the contents of the database;</li><li><var class=replaceable-license-text>b.</var>
if You include all or a substantial portion of the database contents in a database in which
You have Sui Generis Database Rights, then the database in which You have Sui Generis
Database Rights (but not its individual contents) is Adapted Material, including for
purposes of Section 3(b); and</li><li><var class=replaceable-license-text>c.</var>
You must comply with the conditions in Section 3(a) if You Share all or a substantial portion
of the contents of the database.<br>For the avoidance of doubt, this Section 4 supplements and does not replace Your
obligations under this Public License where the Licensed Rights include other
Copyright and Similar Rights.</li></ul><p>Section 5 – Disclaimer of Warranties and Limitation of Liability.</p><ul style=list-style:none><li><var class=replaceable-license-text>a.</var>
Unless otherwise separately undertaken by the Licensor, to the extent possible, the Licensor
offers the Licensed Material as-is and as-available, and makes no representations or
warranties of any kind concerning the Licensed Material, whether express, implied,
statutory, or other. This includes, without limitation, warranties of title,
merchantability, fitness for a particular purpose, non-infringement, absence of latent or
other defects, accuracy, or the presence or absence of errors, whether or not known or
discoverable. Where disclaimers of warranties are not allowed in full or in part, this
disclaimer may not apply to You.</li><li><var class=replaceable-license-text>b.</var>
To the extent possible, in no event will the Licensor be liable to You on any legal theory
(including, without limitation, negligence) or otherwise for any direct, special,
indirect, incidental, consequential, punitive, exemplary, or other losses, costs,
expenses, or damages arising out of this Public License or use of the Licensed Material,
even if the Licensor has been advised of the possibility of such losses, costs, expenses,
or damages. Where a limitation of liability is not allowed in full or in part, this
limitation may not apply to You.</li><li><var class=replaceable-license-text>c.</var>
The disclaimer of warranties and limitation of liability provided above shall be interpreted
in a manner that, to the extent possible, most closely approximates an absolute disclaimer
and waiver of all liability.</li></ul><p>Section 6 – Term and Termination.</p><ul style=list-style:none><li><var class=replaceable-license-text>a.</var>
This Public License applies for the term of the Copyright and Similar Rights licensed here.
However, if You fail to comply with this Public License, then Your rights under this
Public License terminate automatically.</li><li><var class=replaceable-license-text>b.</var>
Where Your right to use the Licensed Material has terminated under Section 6(a), it reinstates:<ul style=list-style:none><li><var class=replaceable-license-text>1.</var>
automatically as of the date the violation is cured, provided it is cured within 30 days
of Your discovery of the violation; or</li><li><var class=replaceable-license-text>2.</var>
upon express reinstatement by the Licensor.</li></ul></li><li><var class=replaceable-license-text>c.</var>
For the avoidance of doubt, this Section 6(b) does not affect any right the Licensor may have
to seek remedies for Your violations of this Public License.</li><li><var class=replaceable-license-text>d.</var>
For the avoidance of doubt, the Licensor may also offer the Licensed Material under separate
terms or conditions or stop distributing the Licensed Material at any time; however, doing
so will not terminate this Public License.</li><li><var class=replaceable-license-text>e.</var>
Sections 1, 5, 6, 7, and 8 survive termination of this Public License.</li></ul><p>Section 7 – Other Terms and Conditions.</p><ul style=list-style:none><li><var class=replaceable-license-text>a.</var>
The Licensor shall not be bound by any additional or different terms or conditions
communicated by You unless expressly agreed.</li><li><var class=replaceable-license-text>b.</var>
Any arrangements, understandings, or agreements regarding the Licensed Material not stated
herein are separate from and independent of the terms and conditions of this Public
License.</li></ul><p>Section 8 – Interpretation.</p><ul style=list-style:none><li><var class=replaceable-license-text>a.</var>
For the avoidance of doubt, this Public License does not, and shall not be interpreted to,
reduce, limit, restrict, or impose conditions on any use of the Licensed Material that
could lawfully be made without permission under this Public License.</li><li><var class=replaceable-license-text>b.</var>
To the extent possible, if any provision of this Public License is deemed unenforceable, it
shall be automatically reformed to the minimum extent necessary to make it enforceable. If
the provision cannot be reformed, it shall be severed from this Public License without
affecting the enforceability of the remaining terms and conditions.</li><li><var class=replaceable-license-text>c.</var>
No term or condition of this Public License will be waived and no failure to comply consented
to unless expressly agreed to by the Licensor.</li><li><var class=replaceable-license-text>d.</var>
Nothing in this Public License constitutes or may be interpreted as a limitation upon, or
waiver of, any privileges and immunities that apply to the Licensor or You, including from
the legal processes of any jurisdiction or authority.</li></ul><div class=optional-license-text><p>Creative Commons is not a party to its public licenses. Notwithstanding, Creative Commons may elect to
apply one of its public licenses to material it publishes and in those instances will be considered
the "Licensor." <var class=optional-license-text>The text of the Creative Commons public licenses is dedicated to the public
domain under the CC0 Public Domain Dedication.</var> Except for the limited purpose of indicating that material is shared under a Creative
Commons public license or as otherwise permitted by the Creative Commons policies published at
creativecommons.org/policies, Creative Commons does not authorize the use of the trademark "Creative
Commons" or any other trademark or logo of Creative Commons without its prior written consent
including, without limitation, in connection with any unauthorized modifications to any of its public
licenses or any other arrangements, understandings, or agreements concerning use of licensed material.
For the avoidance of doubt, this paragraph does not form part of the public licenses.</p><p>Creative Commons may be contacted at creativecommons.org.</p></div></div></div></div></div></div></div></div></div><div class=col>ID файла</div><div class=col><input type=text class=form-control value=d2bbdaac4500205b96e5476e7ca4d868 readonly></div><div class=col>UUID</div><div class=col><input type=text class=form-control value=862226e6-cbb1-58f8-bc8e-0cfef747f475 readonly></div><div class=col>Системный путь</div><div class=col><input type=text class=form-control value=posts/2022/05/1652099987466_3964/index.md readonly></div><div class=col>Тип</div><div class=col><input type=text class=form-control value=posts readonly></div></div></div></section></div><div class=col><section class="card node-stats h-100"><div class=card-body><h5 class=card-title>Статистика</h5><div class="row row-cols-1 row-cols-sm-2 g-2 align-items-center"><div class=col>Количество слов</div><div class=col><input type=text class=form-control value=1217 readonly></div><div class=col>Время чтения</div><div class=col><div class=input-group><input type=text class=form-control value=6 readonly>
<span class=input-group-text>мин.</span></div></div><div class=col>Размер</div><div class=col><div class=input-group><input type=text class=form-control value=13 readonly>
<span class=input-group-text>kB</span></div></div></div></div></section></div></div></div></div><div class=tab-pane id=tab-pane-main-comments role=tabpanel aria-labelledby=tab-main-comments tabindex=0><div class=node-body><div class=giscus></div></div></div><div class=tab-pane id=tab-pane-main-share role=tabpanel aria-labelledby=tab-main-share tabindex=0><div class=node-body><div class="row row-cols-1 row-cols-lg-2 g-3"><div class=col><div class="row row-cols-1 g-3"><div class=col><div class="row row-cols-auto g-2"><div class=col><a class="btn btn-light" href="mailto:?subject=%d0%98%d0%bd%d1%82%d0%b5%d0%b3%d1%80%d0%b0%d1%86%d0%b8%d1%8f%20%d0%be%d0%b1%d0%bd%d0%be%d0%b2%d0%bb%d0%b5%d0%bd%d0%b8%d0%b9%20%d0%b2%20%d0%b4%d0%b8%d1%81%d1%82%d1%80%d0%b8%d0%b1%d1%83%d1%82%d0%b8%d0%b2%20%d0%9e%d0%a1%20MS%20Windows&amp;body=https%3a%2f%2flib.onl%2fru%2fposts%2f2022%2f05%2f862226e6-cbb1-58f8-bc8e-0cfef747f475%2f" data-bs-tooltip data-bs-title=Email role=button rel="noopener nofollow"><i class="fas fa-envelope-open-text fa-fw"></i></a></div><div class=col><a class="btn btn-light btn-social" href="https://twitter.com/intent/tweet?url=https%3a%2f%2flib.onl%2fru%2fposts%2f2022%2f05%2f862226e6-cbb1-58f8-bc8e-0cfef747f475%2f&amp;text=%d0%98%d0%bd%d1%82%d0%b5%d0%b3%d1%80%d0%b0%d1%86%d0%b8%d1%8f%20%d0%be%d0%b1%d0%bd%d0%be%d0%b2%d0%bb%d0%b5%d0%bd%d0%b8%d0%b9%20%d0%b2%20%d0%b4%d0%b8%d1%81%d1%82%d1%80%d0%b8%d0%b1%d1%83%d1%82%d0%b8%d0%b2%20%d0%9e%d0%a1%20MS%20Windows&amp;hashtags=windows%2ccmd%2cadk%2cdism%2c%d0%b8%d0%bd%d1%82%d0%b5%d0%b3%d1%80%d0%b0%d1%86%d0%b8%d1%8f" data-bs-tooltip data-bs-title=Twitter role=button rel="noopener nofollow" data-fn=popup><i class="fab fa-twitter fa-fw"></i></a></div><div class=col><a class="btn btn-light btn-social" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2flib.onl%2fru%2fposts%2f2022%2f05%2f862226e6-cbb1-58f8-bc8e-0cfef747f475%2f" data-bs-tooltip data-bs-title=Facebook role=button rel="noopener nofollow" data-fn=popup><i class="fab fa-facebook fa-fw"></i></a></div><div class=col><a class="btn btn-light btn-social" href="https://linkedin.com/sharing/share-offsite/?url=https%3a%2f%2flib.onl%2fru%2fposts%2f2022%2f05%2f862226e6-cbb1-58f8-bc8e-0cfef747f475%2f" data-bs-tooltip data-bs-title=LinkedIn role=button rel="noopener nofollow" data-fn=popup><i class="fab fa-linkedin fa-fw"></i></a></div><div class=col><a class="btn btn-light btn-social" href="https://reddit.com/submit?url=https%3a%2f%2flib.onl%2fru%2fposts%2f2022%2f05%2f862226e6-cbb1-58f8-bc8e-0cfef747f475%2f&amp;title=%d0%98%d0%bd%d1%82%d0%b5%d0%b3%d1%80%d0%b0%d1%86%d0%b8%d1%8f%20%d0%be%d0%b1%d0%bd%d0%be%d0%b2%d0%bb%d0%b5%d0%bd%d0%b8%d0%b9%20%d0%b2%20%d0%b4%d0%b8%d1%81%d1%82%d1%80%d0%b8%d0%b1%d1%83%d1%82%d0%b8%d0%b2%20%d0%9e%d0%a1%20MS%20Windows" data-bs-tooltip data-bs-title=Reddit role=button rel="noopener nofollow" data-fn=popup><i class="fab fa-reddit fa-fw"></i></a></div><div class=col><a class="btn btn-light btn-social" href="https://vk.com/share.php?url=https%3a%2f%2flib.onl%2fru%2fposts%2f2022%2f05%2f862226e6-cbb1-58f8-bc8e-0cfef747f475%2f&amp;title=%d0%98%d0%bd%d1%82%d0%b5%d0%b3%d1%80%d0%b0%d1%86%d0%b8%d1%8f%20%d0%be%d0%b1%d0%bd%d0%be%d0%b2%d0%bb%d0%b5%d0%bd%d0%b8%d0%b9%20%d0%b2%20%d0%b4%d0%b8%d1%81%d1%82%d1%80%d0%b8%d0%b1%d1%83%d1%82%d0%b8%d0%b2%20%d0%9e%d0%a1%20MS%20Windows&amp;description=Microsoft%20%d0%ba%d0%b0%d0%b6%d0%b4%d1%8b%d0%b9%20%d0%bc%d0%b5%d1%81%d1%8f%d1%86%20%d0%b2%d1%8b%d0%bf%d1%83%d1%81%d0%ba%d0%b0%d0%b5%d1%82%20%d0%bd%d0%be%d0%b2%d1%8b%d0%b5%20%d0%b2%d0%b5%d1%80%d1%81%d0%b8%d0%b8%20%d0%b4%d0%b8%d1%81%d1%82%d1%80%d0%b8%d0%b1%d1%83%d1%82%d0%b8%d0%b2%d0%be%d0%b2%20%d1%81%20%d1%83%d0%b6%d0%b5%20%d0%b8%d0%bd%d1%82%d0%b5%d0%b3%d1%80%d0%b8%d1%80%d0%be%d0%b2%d0%b0%d0%bd%d0%bd%d1%8b%d0%bc%d0%b8%20%d0%be%d0%b1%d0%bd%d0%be%d0%b2%d0%bb%d0%b5%d0%bd%d0%b8%d1%8f%d0%bc%d0%b8.%20%d0%9d%d0%be%20%d0%b5%d1%81%d1%82%d1%8c%20%d1%80%d0%b5%d0%b4%d0%b0%d0%ba%d1%86%d0%b8%d0%b8%20%d0%9e%d0%a1%2c%20%d0%bd%d0%b0%d0%bf%d1%80%d0%b8%d0%bc%d0%b5%d1%80%20LTSC%2c%20%d0%b4%d0%bb%d1%8f%20%d0%ba%d0%be%d1%82%d0%be%d1%80%d1%8b%d1%85%20Microsoft%20%d0%bd%d0%b5%20%d0%b2%d1%8b%d0%bf%d0%be%d0%bb%d0%bd%d1%8f%d0%b5%d1%82%20%d0%bf%d0%be%d0%b4%d0%be%d0%b1%d0%bd%d1%8b%d0%b5%20%d0%b4%d0%b5%d0%b9%d1%81%d1%82%d0%b2%d0%b8%d1%8f.%20%d0%9f%d1%80%d0%b8%d1%85%d0%be%d0%b4%d0%b8%d1%82%d1%81%d1%8f%20%d0%b4%d0%b5%d0%bb%d0%b0%d1%82%d1%8c%20%d1%81%d0%b0%d0%bc%d0%be%d0%bc%d1%83%26hellip%3b%0a" data-bs-tooltip data-bs-title=ВКонтакте role=button rel="noopener nofollow" data-fn=popup><i class="fab fa-vk fa-fw"></i></a></div><div class=col><a class="btn btn-light btn-social" href="https://t.me/share/url?url=https%3a%2f%2flib.onl%2fru%2fposts%2f2022%2f05%2f862226e6-cbb1-58f8-bc8e-0cfef747f475%2f&amp;text=%d0%98%d0%bd%d1%82%d0%b5%d0%b3%d1%80%d0%b0%d1%86%d0%b8%d1%8f%20%d0%be%d0%b1%d0%bd%d0%be%d0%b2%d0%bb%d0%b5%d0%bd%d0%b8%d0%b9%20%d0%b2%20%d0%b4%d0%b8%d1%81%d1%82%d1%80%d0%b8%d0%b1%d1%83%d1%82%d0%b8%d0%b2%20%d0%9e%d0%a1%20MS%20Windows" data-bs-tooltip data-bs-title=Telegram role=button rel="noopener nofollow" data-fn=popup><i class="fab fa-telegram fa-fw"></i></a></div><div class=col><a class="btn btn-light btn-social" href="http://pinterest.com/pin/create/button/?url=https%3a%2f%2flib.onl%2fru%2fposts%2f2022%2f05%2f862226e6-cbb1-58f8-bc8e-0cfef747f475%2f" data-bs-tooltip data-bs-title=Pinterest role=button rel="noopener nofollow" data-fn=popup><i class="fab fa-pinterest fa-fw"></i></a></div><div class=col><a class="btn btn-light btn-social" href="https://getpocket.com/edit?url=https%3a%2f%2flib.onl%2fru%2fposts%2f2022%2f05%2f862226e6-cbb1-58f8-bc8e-0cfef747f475%2f&amp;title=%d0%98%d0%bd%d1%82%d0%b5%d0%b3%d1%80%d0%b0%d1%86%d0%b8%d1%8f%20%d0%be%d0%b1%d0%bd%d0%be%d0%b2%d0%bb%d0%b5%d0%bd%d0%b8%d0%b9%20%d0%b2%20%d0%b4%d0%b8%d1%81%d1%82%d1%80%d0%b8%d0%b1%d1%83%d1%82%d0%b8%d0%b2%20%d0%9e%d0%a1%20MS%20Windows" target=_blank data-bs-tooltip data-bs-title=Pocket role=button rel="noopener nofollow" data-fn=popup><i class="fab fa-get-pocket fa-fw"></i></a></div><div class=col><a class="btn btn-light btn-social" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2flib.onl%2fru%2fposts%2f2022%2f05%2f862226e6-cbb1-58f8-bc8e-0cfef747f475%2f&amp;t=%d0%98%d0%bd%d1%82%d0%b5%d0%b3%d1%80%d0%b0%d1%86%d0%b8%d1%8f%20%d0%be%d0%b1%d0%bd%d0%be%d0%b2%d0%bb%d0%b5%d0%bd%d0%b8%d0%b9%20%d0%b2%20%d0%b4%d0%b8%d1%81%d1%82%d1%80%d0%b8%d0%b1%d1%83%d1%82%d0%b8%d0%b2%20%d0%9e%d0%a1%20MS%20Windows" data-bs-tooltip data-bs-title='Hacker News' role=button rel="noopener nofollow" data-fn=popup><i class="fab fa-hacker-news fa-fw"></i></a></div><div class=col><a class="btn btn-light btn-social" href="https://livejournal.com/update.bml?subject=%d0%98%d0%bd%d1%82%d0%b5%d0%b3%d1%80%d0%b0%d1%86%d0%b8%d1%8f%20%d0%be%d0%b1%d0%bd%d0%be%d0%b2%d0%bb%d0%b5%d0%bd%d0%b8%d0%b9%20%d0%b2%20%d0%b4%d0%b8%d1%81%d1%82%d1%80%d0%b8%d0%b1%d1%83%d1%82%d0%b8%d0%b2%20%d0%9e%d0%a1%20MS%20Windows&amp;event=https%3a%2f%2flib.onl%2fru%2fposts%2f2022%2f05%2f862226e6-cbb1-58f8-bc8e-0cfef747f475%2f" data-bs-tooltip data-bs-title=LiveJournal role=button rel="noopener nofollow" data-fn=popup><i class="fas fa-edit fa-fw"></i></a></div><div class=col><a class="btn btn-light btn-social" href="https://connect.ok.ru/dk?st.cmd=WidgetSharePreview&amp;st.shareUrl=https%3a%2f%2flib.onl%2fru%2fposts%2f2022%2f05%2f862226e6-cbb1-58f8-bc8e-0cfef747f475%2f&amp;title=%d0%98%d0%bd%d1%82%d0%b5%d0%b3%d1%80%d0%b0%d1%86%d0%b8%d1%8f%20%d0%be%d0%b1%d0%bd%d0%be%d0%b2%d0%bb%d0%b5%d0%bd%d0%b8%d0%b9%20%d0%b2%20%d0%b4%d0%b8%d1%81%d1%82%d1%80%d0%b8%d0%b1%d1%83%d1%82%d0%b8%d0%b2%20%d0%9e%d0%a1%20MS%20Windows" data-bs-tooltip data-bs-title=Одноклассники role=button rel="noopener nofollow" data-fn=popup><i class="fab fa-odnoklassniki fa-fw"></i></a></div><div class=col><a class="btn btn-light btn-social" href="https://blogger.com/blog-this.g?u=https%3a%2f%2flib.onl%2fru%2fposts%2f2022%2f05%2f862226e6-cbb1-58f8-bc8e-0cfef747f475%2f&amp;n=%d0%98%d0%bd%d1%82%d0%b5%d0%b3%d1%80%d0%b0%d1%86%d0%b8%d1%8f%20%d0%be%d0%b1%d0%bd%d0%be%d0%b2%d0%bb%d0%b5%d0%bd%d0%b8%d0%b9%20%d0%b2%20%d0%b4%d0%b8%d1%81%d1%82%d1%80%d0%b8%d0%b1%d1%83%d1%82%d0%b8%d0%b2%20%d0%9e%d0%a1%20MS%20Windows&amp;t=Microsoft%20%d0%ba%d0%b0%d0%b6%d0%b4%d1%8b%d0%b9%20%d0%bc%d0%b5%d1%81%d1%8f%d1%86%20%d0%b2%d1%8b%d0%bf%d1%83%d1%81%d0%ba%d0%b0%d0%b5%d1%82%20%d0%bd%d0%be%d0%b2%d1%8b%d0%b5%20%d0%b2%d0%b5%d1%80%d1%81%d0%b8%d0%b8%20%d0%b4%d0%b8%d1%81%d1%82%d1%80%d0%b8%d0%b1%d1%83%d1%82%d0%b8%d0%b2%d0%be%d0%b2%20%d1%81%20%d1%83%d0%b6%d0%b5%20%d0%b8%d0%bd%d1%82%d0%b5%d0%b3%d1%80%d0%b8%d1%80%d0%be%d0%b2%d0%b0%d0%bd%d0%bd%d1%8b%d0%bc%d0%b8%20%d0%be%d0%b1%d0%bd%d0%be%d0%b2%d0%bb%d0%b5%d0%bd%d0%b8%d1%8f%d0%bc%d0%b8.%20%d0%9d%d0%be%20%d0%b5%d1%81%d1%82%d1%8c%20%d1%80%d0%b5%d0%b4%d0%b0%d0%ba%d1%86%d0%b8%d0%b8%20%d0%9e%d0%a1%2c%20%d0%bd%d0%b0%d0%bf%d1%80%d0%b8%d0%bc%d0%b5%d1%80%20LTSC%2c%20%d0%b4%d0%bb%d1%8f%20%d0%ba%d0%be%d1%82%d0%be%d1%80%d1%8b%d1%85%20Microsoft%20%d0%bd%d0%b5%20%d0%b2%d1%8b%d0%bf%d0%be%d0%bb%d0%bd%d1%8f%d0%b5%d1%82%20%d0%bf%d0%be%d0%b4%d0%be%d0%b1%d0%bd%d1%8b%d0%b5%20%d0%b4%d0%b5%d0%b9%d1%81%d1%82%d0%b2%d0%b8%d1%8f.%20%d0%9f%d1%80%d0%b8%d1%85%d0%be%d0%b4%d0%b8%d1%82%d1%81%d1%8f%20%d0%b4%d0%b5%d0%bb%d0%b0%d1%82%d1%8c%20%d1%81%d0%b0%d0%bc%d0%be%d0%bc%d1%83%26hellip%3b%0a" data-bs-tooltip data-bs-title=Blogger role=button rel="noopener nofollow" data-fn=popup><i class="fab fa-blogger fa-fw"></i></a></div><div class=col><a class="btn btn-light btn-social" href="https://digg.com/submit?url=https%3a%2f%2flib.onl%2fru%2fposts%2f2022%2f05%2f862226e6-cbb1-58f8-bc8e-0cfef747f475%2f" data-bs-tooltip data-bs-title=Digg role=button rel="noopener nofollow" data-fn=popup><i class="fab fa-digg fa-fw"></i></a></div><div class=col><a class="btn btn-light btn-social" href="https://web.skype.com/share?url=https%3a%2f%2flib.onl%2fru%2fposts%2f2022%2f05%2f862226e6-cbb1-58f8-bc8e-0cfef747f475%2f&amp;title=%d0%98%d0%bd%d1%82%d0%b5%d0%b3%d1%80%d0%b0%d1%86%d0%b8%d1%8f%20%d0%be%d0%b1%d0%bd%d0%be%d0%b2%d0%bb%d0%b5%d0%bd%d0%b8%d0%b9%20%d0%b2%20%d0%b4%d0%b8%d1%81%d1%82%d1%80%d0%b8%d0%b1%d1%83%d1%82%d0%b8%d0%b2%20%d0%9e%d0%a1%20MS%20Windows" data-bs-tooltip data-bs-title=Skype role=button rel="noopener nofollow" data-fn=popup><i class="fab fa-skype fa-fw"></i></a></div><div class=col><a class="btn btn-light btn-social" href="https://api.whatsapp.com/send?text=https%3a%2f%2flib.onl%2fru%2fposts%2f2022%2f05%2f862226e6-cbb1-58f8-bc8e-0cfef747f475%2f" data-bs-tooltip data-bs-title=WhatsApp role=button rel="noopener nofollow" data-fn=popup><i class="fab fa-whatsapp fa-fw"></i></a></div><div class=col><a class="btn btn-light btn-social" href="https://tumblr.com/widgets/share/tool?canonicalUrl=https%3a%2f%2flib.onl%2fru%2fposts%2f2022%2f05%2f862226e6-cbb1-58f8-bc8e-0cfef747f475%2f&amp;title=%d0%98%d0%bd%d1%82%d0%b5%d0%b3%d1%80%d0%b0%d1%86%d0%b8%d1%8f%20%d0%be%d0%b1%d0%bd%d0%be%d0%b2%d0%bb%d0%b5%d0%bd%d0%b8%d0%b9%20%d0%b2%20%d0%b4%d0%b8%d1%81%d1%82%d1%80%d0%b8%d0%b1%d1%83%d1%82%d0%b8%d0%b2%20%d0%9e%d0%a1%20MS%20Windows&amp;content=Microsoft%20%d0%ba%d0%b0%d0%b6%d0%b4%d1%8b%d0%b9%20%d0%bc%d0%b5%d1%81%d1%8f%d1%86%20%d0%b2%d1%8b%d0%bf%d1%83%d1%81%d0%ba%d0%b0%d0%b5%d1%82%20%d0%bd%d0%be%d0%b2%d1%8b%d0%b5%20%d0%b2%d0%b5%d1%80%d1%81%d0%b8%d0%b8%20%d0%b4%d0%b8%d1%81%d1%82%d1%80%d0%b8%d0%b1%d1%83%d1%82%d0%b8%d0%b2%d0%be%d0%b2%20%d1%81%20%d1%83%d0%b6%d0%b5%20%d0%b8%d0%bd%d1%82%d0%b5%d0%b3%d1%80%d0%b8%d1%80%d0%be%d0%b2%d0%b0%d0%bd%d0%bd%d1%8b%d0%bc%d0%b8%20%d0%be%d0%b1%d0%bd%d0%be%d0%b2%d0%bb%d0%b5%d0%bd%d0%b8%d1%8f%d0%bc%d0%b8.%20%d0%9d%d0%be%20%d0%b5%d1%81%d1%82%d1%8c%20%d1%80%d0%b5%d0%b4%d0%b0%d0%ba%d1%86%d0%b8%d0%b8%20%d0%9e%d0%a1%2c%20%d0%bd%d0%b0%d0%bf%d1%80%d0%b8%d0%bc%d0%b5%d1%80%20LTSC%2c%20%d0%b4%d0%bb%d1%8f%20%d0%ba%d0%be%d1%82%d0%be%d1%80%d1%8b%d1%85%20Microsoft%20%d0%bd%d0%b5%20%d0%b2%d1%8b%d0%bf%d0%be%d0%bb%d0%bd%d1%8f%d0%b5%d1%82%20%d0%bf%d0%be%d0%b4%d0%be%d0%b1%d0%bd%d1%8b%d0%b5%20%d0%b4%d0%b5%d0%b9%d1%81%d1%82%d0%b2%d0%b8%d1%8f.%20%d0%9f%d1%80%d0%b8%d1%85%d0%be%d0%b4%d0%b8%d1%82%d1%81%d1%8f%20%d0%b4%d0%b5%d0%bb%d0%b0%d1%82%d1%8c%20%d1%81%d0%b0%d0%bc%d0%be%d0%bc%d1%83%26hellip%3b%0a&amp;tags=windows%2ccmd%2cadk%2cdism%2c%d0%b8%d0%bd%d1%82%d0%b5%d0%b3%d1%80%d0%b0%d1%86%d0%b8%d1%8f&amp;posttype=link" data-bs-tooltip data-bs-title=Tumblr role=button rel="noopener nofollow" data-fn=popup><i class="fab fa-tumblr fa-fw"></i></a></div><div class=col><a class="btn btn-light btn-social" href="https://wordpress.com/wp-admin/press-this.php?u=https%3a%2f%2flib.onl%2fru%2fposts%2f2022%2f05%2f862226e6-cbb1-58f8-bc8e-0cfef747f475%2f&amp;t=%d0%98%d0%bd%d1%82%d0%b5%d0%b3%d1%80%d0%b0%d1%86%d0%b8%d1%8f%20%d0%be%d0%b1%d0%bd%d0%be%d0%b2%d0%bb%d0%b5%d0%bd%d0%b8%d0%b9%20%d0%b2%20%d0%b4%d0%b8%d1%81%d1%82%d1%80%d0%b8%d0%b1%d1%83%d1%82%d0%b8%d0%b2%20%d0%9e%d0%a1%20MS%20Windows&amp;s=Microsoft%20%d0%ba%d0%b0%d0%b6%d0%b4%d1%8b%d0%b9%20%d0%bc%d0%b5%d1%81%d1%8f%d1%86%20%d0%b2%d1%8b%d0%bf%d1%83%d1%81%d0%ba%d0%b0%d0%b5%d1%82%20%d0%bd%d0%be%d0%b2%d1%8b%d0%b5%20%d0%b2%d0%b5%d1%80%d1%81%d0%b8%d0%b8%20%d0%b4%d0%b8%d1%81%d1%82%d1%80%d0%b8%d0%b1%d1%83%d1%82%d0%b8%d0%b2%d0%be%d0%b2%20%d1%81%20%d1%83%d0%b6%d0%b5%20%d0%b8%d0%bd%d1%82%d0%b5%d0%b3%d1%80%d0%b8%d1%80%d0%be%d0%b2%d0%b0%d0%bd%d0%bd%d1%8b%d0%bc%d0%b8%20%d0%be%d0%b1%d0%bd%d0%be%d0%b2%d0%bb%d0%b5%d0%bd%d0%b8%d1%8f%d0%bc%d0%b8.%20%d0%9d%d0%be%20%d0%b5%d1%81%d1%82%d1%8c%20%d1%80%d0%b5%d0%b4%d0%b0%d0%ba%d1%86%d0%b8%d0%b8%20%d0%9e%d0%a1%2c%20%d0%bd%d0%b0%d0%bf%d1%80%d0%b8%d0%bc%d0%b5%d1%80%20LTSC%2c%20%d0%b4%d0%bb%d1%8f%20%d0%ba%d0%be%d1%82%d0%be%d1%80%d1%8b%d1%85%20Microsoft%20%d0%bd%d0%b5%20%d0%b2%d1%8b%d0%bf%d0%be%d0%bb%d0%bd%d1%8f%d0%b5%d1%82%20%d0%bf%d0%be%d0%b4%d0%be%d0%b1%d0%bd%d1%8b%d0%b5%20%d0%b4%d0%b5%d0%b9%d1%81%d1%82%d0%b2%d0%b8%d1%8f.%20%d0%9f%d1%80%d0%b8%d1%85%d0%be%d0%b4%d0%b8%d1%82%d1%81%d1%8f%20%d0%b4%d0%b5%d0%bb%d0%b0%d1%82%d1%8c%20%d1%81%d0%b0%d0%bc%d0%be%d0%bc%d1%83%26hellip%3b%0a" data-bs-tooltip data-bs-title=WordPress role=button rel="noopener nofollow" data-fn=popup><i class="fab fa-wordpress fa-fw"></i></a></div></div></div><div class=col><div class=input-group><span class=input-group-text><i class="fas fa-link fa-fw"></i></span>
<input type=text class=form-control value=https://lib.onl/ru/posts/2022/05/862226e6-cbb1-58f8-bc8e-0cfef747f475/ data-fn=select-all readonly></div></div><div class=col><div class=input-group><span class=input-group-text><i class="fas fa-file fa-fw"></i></span>
<input type=text class=form-control value=posts/2022/05/1652099987466_3964/index.md data-fn=select-all readonly></div></div></div></div><div class=col><div class="d-flex justify-content-center"><div class="d-block img-thumbnail" data-fn=qrcode data-qr-text=https://lib.onl/ru/posts/2022/05/862226e6-cbb1-58f8-bc8e-0cfef747f475/></div></div></div></div></div></div></div></article></div></div></main><footer class="mt-auto border-top bg-light"><div class="section py-5 border-bottom"><div class=container><div class="row g-3"><div class=col-lg><article><h2 class="h5 border-bottom pb-1 mb-3">О проекте</h2><div class=node-body><p>Заметки по системному администрированию и веб-разработкам.</p></div></article></div><div class=col-lg><article><h2 class="h5 border-bottom pb-1 mb-3">Ресурсы</h2><div class=node-body><ul><li><a title href=https://kitsune.solar/ target=_blank rel="noopener noreferrer nofollow">Kitsune Solar</a></li><li><a title href=https://uaik.github.io/ target=_blank rel="noopener noreferrer nofollow">UNIX AIK</a></li></ul></div></article></div><div class=col-lg><article><h2 class="h5 border-bottom pb-1 mb-3">Контакты</h2><div class=node-body><ul><li><a title href=mailto:mail@lib.onl target=_self rel>Email</a></li></ul></div></article></div></div></div></div><div class="section py-3"><div class=container><div class="row row-cols-1 row-cols-lg-2 small text-body-secondary align-items-center"><div class="col text-center text-lg-start"><ul class="list-inline mb-0"><li class=list-inline-item><div>Library Online &copy; 2023</div><div>Заметки на тему администрирования и разработки различных систем, приложений и серверов.</div></li></ul></div><div class="col text-center text-lg-end"><ul class="list-inline mb-0"><li class=list-inline-item data-bs-tooltip data-bs-title=JSON><a class="btn btn-light btn-sm" href=/ru/posts/2022/05/862226e6-cbb1-58f8-bc8e-0cfef747f475/index.json target=_blank aria-label=JSON><i class="fas fa-code fa-fw"></i></a></li><li class="list-inline-item dropup" data-bs-tooltip data-bs-title=Языки><a class="dropdown-toggle btn btn-light btn-sm" href=# role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false aria-label=Языки><i class="fas fa-language fa-fw"></i></a><div class="dropdown-menu dropdown-menu-end shadow"><a class=dropdown-item href=/ru/ hreflang=ru>Русский</a>
<a class=dropdown-item href=/en/ hreflang=en>English</a></div></li></ul></div></div></div></div></footer><div class="modal fade" id=search-modal tabindex=-1 aria-labelledby=searchModalLabel aria-hidden=true><div class="modal-dialog modal-dialog-scrollable modal-xl"><div class=modal-content><div class=modal-header><h5 class=modal-title id=searchModalLabel>Поиск</h5><button type=button class=btn-close data-bs-dismiss=modal aria-label=Закрыть></button></div><div class="modal-body node-body"><div class="row row-cols-1 g-3"><div class=col><div class="row g-3"><div class=col-lg><form action=https://google.com/search method=get class=d-flex target=_blank><input type=hidden name=domains value=lib.onl>
<input type=hidden name=sitesearch value=lib.onl><div class=input-group><span class=input-group-text><i class="fas fa-search fa-fw"></i></span>
<input type=search class=form-control name=q placeholder='Поиск Google' aria-label='Поиск Google'>
<span class=input-group-text><i class="fab fa-google fa-fw"></i></span></div></form></div><div class=col-lg><form action=https://yandex.ru/yandsearch method=get class=d-flex target=_blank><input type=hidden name=site value=lib.onl><div class=input-group><span class=input-group-text><i class="fas fa-search fa-fw"></i></span>
<input type=search class=form-control name=text placeholder='Поиск Яндекс' aria-label='Поиск Яндекс'>
<span class=input-group-text><i class="fab fa-yandex fa-fw"></i></span></div></form></div></div></div><div class=col><form id=search-form method=get class=d-flex autocomplete=off><div class=input-group><span class=input-group-text><i class="fas fa-search fa-fw"></i></span>
<input id=search-input type=search class=form-control name=q placeholder='Внутренний поиск' aria-label='Внутренний поиск'>
<span class=input-group-text><i class="fas fa-brain fa-fw"></i></span></div></form></div><div class=col><div class="list-group list-group-flush d-none overflow-auto" id=search-results></div><div id=search-help><div class="alert alert-info d-flex align-items-center overflow-hidden node-body" id=alert-314870288ecff41adf9cce6f71581330 role=alert><div class=flex-shrink-0><i class="fas fa-search fa-fw fa-2x"></i></div><div class="flex-grow-1 ms-3 overflow-hidden"><p>Используется нечёткий поиск (приблизительное сопоставление строк).
Это метод поиска строк, которые приблизительно соответствуют поисковому шаблону.</p><p>Результаты поиска сортируются по точности совпадения с поисковым шаблоном.
Результаты поиска, наиболее точно соответствующие запросу, находятся сверху, приблизительные результаты - снизу.</p></div></div></div></div></div></div></div></div></div><script src=/js/vendor.bundle.min.d6ae6a92da9358993e7af0556b7072c5949e9acdebc67a04341fb66575842f427262e7cfec8dfcf95b7af95d6d7f69c31e21c5131f37cb4b12b511fabd6b405e.js integrity="sha512-1q5qktqTWJk+evBVa3ByxZSems3rxnoENB+2ZXWEL0JyYufP7I38+Vt6+V1tf2nDHiHFEx83y0sStRH6vWtAXg==" defer></script>
<script src=/ru/js/system.bundle.min.13231b14f70b52195de869e61e36a87720379a372e151e1be24728a0a06ca472b93d6285e547c5117e7dcf94a8683af11ed3ce2249f1c0cfccc84619dd723d6b.js integrity="sha512-EyMbFPcLUhld6GnmHjaodyA3mjcuFR4b4kcooKBspHK5PWKF5UfFEX59z5SoaDrxHtPOIknxwM/MyEYZ3XI9aw==" defer></script>
<script src=https://giscus.app/client.js data-repo=site-0003/comments data-repo-id=R_kgDOKgu0Tg data-category=Site data-category-id=DIC_kwDOKgu0Ts4CaJ2z data-mapping=pathname data-strict=1 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=preferred_color_scheme data-lang=ru data-loading=lazy crossorigin=anonymous async></script></body></html>