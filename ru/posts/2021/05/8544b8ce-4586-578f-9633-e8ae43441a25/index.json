{"data":[{"page":{"authors":["KitsuneSolar"],"categories":["Dev"],"content":"Понадобилось мне на днях синхронизировать некоторые свои репозитории между GitHub и GitLab. Сам GitLab имеет встроенные средства зеркалирования репозиториев от себя к другому git-хранилищу. GitHub же не обладает такой функцией. Но эту функцию можно воссоздать при помощи GitHub Actions.\nДля начала необходимо создать \u0026ldquo;секреты\u0026rdquo; с такими переменными:\nGITLAB_SYNC_REPO_URL - ссылка на пустой репозиторий GitLab. GITLAB_SYNC_USER_NAME - имя пользователя GitLab. GITLAB_SYNC_USER_TOKEN - токен пользователя GitLab. Токен создаётся в настройках аккаунта GitLab. Далее, в корне репозитория нужно создать файл .github/workflows/gitlab-sync.yml со следующим содержанием:\nname: GitLab Sync on: - push - delete jobs: sync: runs-on: ubuntu-latest name: Git Repo Sync steps: - uses: actions/checkout@v2 with: fetch-depth: 0 - uses: wangchucheng/git-repo-sync@v0.1.0 with: # Such as https://github.com/wangchucheng/git-repo-sync.git target-url: ${{ secrets.GITLAB_SYNC_REPO_URL }} # Such as wangchucheng target-username: ${{ secrets.GITLAB_SYNC_USER_NAME }} # You can store token in your project's 'Setting \u0026gt; Secrets' and reference the name here. Such as ${{ secrets.ACCESS_TOKEN }} target-token: ${{ secrets.GITLAB_SYNC_USER_TOKEN }} На этом всё. Теперь при коммите в репозиторий, GutHub будет запускать Action и автоматически синхронизировать изменения с репозиторием на GitLab.","date":{"created":"2021-05-08T21:06:18Z","modified":"2021-05-08T21:06:18Z","published":"2021-05-08T21:06:18Z"},"description":"Понадобилось мне на днях синхронизировать некоторые свои репозитории между GitHub и GitLab. Сам GitLab имеет встроенные средства зеркалирования репозиториев от себя к другому git-хранилищу. GitHub же не обладает такой функцией. Но эту функцию можно воссоздать при помощи GitHub Actions.","images":["https://images.unsplash.com/photo-1531030874896-fdef6826f2f7"],"meta":{"fid":"dfdede433fd9e2db0369e64a9f693647","licenses":["cc-by-sa-4.0"],"read_time":1,"sha1":"ddf5121354e264227095b9f212bf38c36f5fd412","type":"posts","uuid":"8544b8ce-4586-578f-9633-e8ae43441a25","word_count":169},"name":"Синхронизация репозитория от GitHub к GitLab","tags":["git","github","gitlab","sync","actions"],"url":"https://lib.onl/ru/posts/2021/05/8544b8ce-4586-578f-9633-e8ae43441a25/"},"site":{"description":"Заметки на тему администрирования и разработки различных систем, приложений и серверов.","name":"Library Online","url":"https://lib.onl/"}}]}